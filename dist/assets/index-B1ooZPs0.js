function CA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ug={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function IA(){if(my)return Uf;my=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var f=null;if(l!==void 0&&(f=""+l),a.key!==void 0&&(f=""+a.key),"key"in a){l={};for(var p in a)p!=="key"&&(l[p]=a[p])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:f,ref:a!==void 0?a:null,props:l}}return Uf.Fragment=e,Uf.jsx=t,Uf.jsxs=t,Uf}var yy;function NA(){return yy||(yy=1,ug.exports=IA()),ug.exports}var P=NA(),hg={exports:{}},qn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function RA(){if(vy)return qn;vy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function M(se){return se===null||typeof se!="object"?null:(se=I&&se[I]||se["@@iterator"],typeof se=="function"?se:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function J(se,Be,W){this.props=se,this.context=Be,this.refs=q,this.updater=W||R}J.prototype.isReactComponent={},J.prototype.setState=function(se,Be){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,Be,"setState")},J.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function G(){}G.prototype=J.prototype;function te(se,Be,W){this.props=se,this.context=Be,this.refs=q,this.updater=W||R}var le=te.prototype=new G;le.constructor=te,H(le,J.prototype),le.isPureReactComponent=!0;var Ce=Array.isArray,De={H:null,A:null,T:null,S:null},Ge=Object.prototype.hasOwnProperty;function X(se,Be,W,ce,fe,be){return W=be.ref,{$$typeof:n,type:se,key:Be,ref:W!==void 0?W:null,props:be}}function z(se,Be){return X(se.type,Be,void 0,void 0,void 0,se.props)}function j(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function ae(se){var Be={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(W){return Be[W]})}var V=/\/+/g;function F(se,Be){return typeof se=="object"&&se!==null&&se.key!=null?ae(""+se.key):Be.toString(36)}function Y(){}function xe(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(Y,Y):(se.status="pending",se.then(function(Be){se.status==="pending"&&(se.status="fulfilled",se.value=Be)},function(Be){se.status==="pending"&&(se.status="rejected",se.reason=Be)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function we(se,Be,W,ce,fe){var be=typeof se;(be==="undefined"||be==="boolean")&&(se=null);var ve=!1;if(se===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(se.$$typeof){case n:case e:ve=!0;break;case T:return ve=se._init,we(ve(se._payload),Be,W,ce,fe)}}if(ve)return fe=fe(se),ve=ce===""?"."+F(se,0):ce,Ce(fe)?(W="",ve!=null&&(W=ve.replace(V,"$&/")+"/"),we(fe,Be,W,"",function(Ye){return Ye})):fe!=null&&(j(fe)&&(fe=z(fe,W+(fe.key==null||se&&se.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+ve)),Be.push(fe)),1;ve=0;var We=ce===""?".":ce+":";if(Ce(se))for(var Pe=0;Pe<se.length;Pe++)ce=se[Pe],be=We+F(ce,Pe),ve+=we(ce,Be,W,be,fe);else if(Pe=M(se),typeof Pe=="function")for(se=Pe.call(se),Pe=0;!(ce=se.next()).done;)ce=ce.value,be=We+F(ce,Pe++),ve+=we(ce,Be,W,be,fe);else if(be==="object"){if(typeof se.then=="function")return we(xe(se),Be,W,ce,fe);throw Be=String(se),Error("Objects are not valid as a React child (found: "+(Be==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":Be)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Se(se,Be,W){if(se==null)return se;var ce=[],fe=0;return we(se,ce,"","",function(be){return Be.call(W,be,fe++)}),ce}function Ie(se){if(se._status===-1){var Be=se._result;Be=Be(),Be.then(function(W){(se._status===0||se._status===-1)&&(se._status=1,se._result=W)},function(W){(se._status===0||se._status===-1)&&(se._status=2,se._result=W)}),se._status===-1&&(se._status=0,se._result=Be)}if(se._status===1)return se._result.default;throw se._result}var _e=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(Be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)};function Te(){}return qn.Children={map:Se,forEach:function(se,Be,W){Se(se,function(){Be.apply(this,arguments)},W)},count:function(se){var Be=0;return Se(se,function(){Be++}),Be},toArray:function(se){return Se(se,function(Be){return Be})||[]},only:function(se){if(!j(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},qn.Component=J,qn.Fragment=t,qn.Profiler=a,qn.PureComponent=te,qn.StrictMode=r,qn.Suspense=v,qn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De,qn.act=function(){throw Error("act(...) is not supported in production builds of React.")},qn.cache=function(se){return function(){return se.apply(null,arguments)}},qn.cloneElement=function(se,Be,W){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var ce=H({},se.props),fe=se.key,be=void 0;if(Be!=null)for(ve in Be.ref!==void 0&&(be=void 0),Be.key!==void 0&&(fe=""+Be.key),Be)!Ge.call(Be,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Be.ref===void 0||(ce[ve]=Be[ve]);var ve=arguments.length-2;if(ve===1)ce.children=W;else if(1<ve){for(var We=Array(ve),Pe=0;Pe<ve;Pe++)We[Pe]=arguments[Pe+2];ce.children=We}return X(se.type,fe,void 0,void 0,be,ce)},qn.createContext=function(se){return se={$$typeof:f,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:l,_context:se},se},qn.createElement=function(se,Be,W){var ce,fe={},be=null;if(Be!=null)for(ce in Be.key!==void 0&&(be=""+Be.key),Be)Ge.call(Be,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=Be[ce]);var ve=arguments.length-2;if(ve===1)fe.children=W;else if(1<ve){for(var We=Array(ve),Pe=0;Pe<ve;Pe++)We[Pe]=arguments[Pe+2];fe.children=We}if(se&&se.defaultProps)for(ce in ve=se.defaultProps,ve)fe[ce]===void 0&&(fe[ce]=ve[ce]);return X(se,be,void 0,void 0,null,fe)},qn.createRef=function(){return{current:null}},qn.forwardRef=function(se){return{$$typeof:p,render:se}},qn.isValidElement=j,qn.lazy=function(se){return{$$typeof:T,_payload:{_status:-1,_result:se},_init:Ie}},qn.memo=function(se,Be){return{$$typeof:w,type:se,compare:Be===void 0?null:Be}},qn.startTransition=function(se){var Be=De.T,W={};De.T=W;try{var ce=se(),fe=De.S;fe!==null&&fe(W,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Te,_e)}catch(be){_e(be)}finally{De.T=Be}},qn.unstable_useCacheRefresh=function(){return De.H.useCacheRefresh()},qn.use=function(se){return De.H.use(se)},qn.useActionState=function(se,Be,W){return De.H.useActionState(se,Be,W)},qn.useCallback=function(se,Be){return De.H.useCallback(se,Be)},qn.useContext=function(se){return De.H.useContext(se)},qn.useDebugValue=function(){},qn.useDeferredValue=function(se,Be){return De.H.useDeferredValue(se,Be)},qn.useEffect=function(se,Be){return De.H.useEffect(se,Be)},qn.useId=function(){return De.H.useId()},qn.useImperativeHandle=function(se,Be,W){return De.H.useImperativeHandle(se,Be,W)},qn.useInsertionEffect=function(se,Be){return De.H.useInsertionEffect(se,Be)},qn.useLayoutEffect=function(se,Be){return De.H.useLayoutEffect(se,Be)},qn.useMemo=function(se,Be){return De.H.useMemo(se,Be)},qn.useOptimistic=function(se,Be){return De.H.useOptimistic(se,Be)},qn.useReducer=function(se,Be,W){return De.H.useReducer(se,Be,W)},qn.useRef=function(se){return De.H.useRef(se)},qn.useState=function(se){return De.H.useState(se)},qn.useSyncExternalStore=function(se,Be,W){return De.H.useSyncExternalStore(se,Be,W)},qn.useTransition=function(){return De.H.useTransition()},qn.version="19.0.0",qn}var wy;function Cp(){return wy||(wy=1,hg.exports=RA()),hg.exports}var ke=Cp();const Uc=Tp(ke);var fg={exports:{}},Vf={},dg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function LA(){return xy||(xy=1,function(n){function e(Se,Ie){var _e=Se.length;Se.push(Ie);e:for(;0<_e;){var Te=_e-1>>>1,se=Se[Te];if(0<a(se,Ie))Se[Te]=Ie,Se[_e]=se,_e=Te;else break e}}function t(Se){return Se.length===0?null:Se[0]}function r(Se){if(Se.length===0)return null;var Ie=Se[0],_e=Se.pop();if(_e!==Ie){Se[0]=_e;e:for(var Te=0,se=Se.length,Be=se>>>1;Te<Be;){var W=2*(Te+1)-1,ce=Se[W],fe=W+1,be=Se[fe];if(0>a(ce,_e))fe<se&&0>a(be,ce)?(Se[Te]=be,Se[fe]=_e,Te=fe):(Se[Te]=ce,Se[W]=_e,Te=W);else if(fe<se&&0>a(be,_e))Se[Te]=be,Se[fe]=_e,Te=fe;else break e}}return Ie}function a(Se,Ie){var _e=Se.sortIndex-Ie.sortIndex;return _e!==0?_e:Se.id-Ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var v=[],w=[],T=1,I=null,M=3,R=!1,H=!1,q=!1,J=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function le(Se){for(var Ie=t(w);Ie!==null;){if(Ie.callback===null)r(w);else if(Ie.startTime<=Se)r(w),Ie.sortIndex=Ie.expirationTime,e(v,Ie);else break;Ie=t(w)}}function Ce(Se){if(q=!1,le(Se),!H)if(t(v)!==null)H=!0,xe();else{var Ie=t(w);Ie!==null&&we(Ce,Ie.startTime-Se)}}var De=!1,Ge=-1,X=5,z=-1;function j(){return!(n.unstable_now()-z<X)}function ae(){if(De){var Se=n.unstable_now();z=Se;var Ie=!0;try{e:{H=!1,q&&(q=!1,G(Ge),Ge=-1),R=!0;var _e=M;try{t:{for(le(Se),I=t(v);I!==null&&!(I.expirationTime>Se&&j());){var Te=I.callback;if(typeof Te=="function"){I.callback=null,M=I.priorityLevel;var se=Te(I.expirationTime<=Se);if(Se=n.unstable_now(),typeof se=="function"){I.callback=se,le(Se),Ie=!0;break t}I===t(v)&&r(v),le(Se)}else r(v);I=t(v)}if(I!==null)Ie=!0;else{var Be=t(w);Be!==null&&we(Ce,Be.startTime-Se),Ie=!1}}break e}finally{I=null,M=_e,R=!1}Ie=void 0}}finally{Ie?V():De=!1}}}var V;if(typeof te=="function")V=function(){te(ae)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=ae,V=function(){Y.postMessage(null)}}else V=function(){J(ae,0)};function xe(){De||(De=!0,V())}function we(Se,Ie){Ge=J(function(){Se(n.unstable_now())},Ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Se){Se.callback=null},n.unstable_continueExecution=function(){H||R||(H=!0,xe())},n.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Se?Math.floor(1e3/Se):5},n.unstable_getCurrentPriorityLevel=function(){return M},n.unstable_getFirstCallbackNode=function(){return t(v)},n.unstable_next=function(Se){switch(M){case 1:case 2:case 3:var Ie=3;break;default:Ie=M}var _e=M;M=Ie;try{return Se()}finally{M=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Se,Ie){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var _e=M;M=Se;try{return Ie()}finally{M=_e}},n.unstable_scheduleCallback=function(Se,Ie,_e){var Te=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Te+_e:Te):_e=Te,Se){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=_e+se,Se={id:T++,callback:Ie,priorityLevel:Se,startTime:_e,expirationTime:se,sortIndex:-1},_e>Te?(Se.sortIndex=_e,e(w,Se),t(v)===null&&Se===t(w)&&(q?(G(Ge),Ge=-1):q=!0,we(Ce,_e-Te))):(Se.sortIndex=se,e(v,Se),H||R||(H=!0,xe())),Se},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Se){var Ie=M;return function(){var _e=M;M=Ie;try{return Se.apply(this,arguments)}finally{M=_e}}}}(gg)),gg}var by;function DA(){return by||(by=1,dg.exports=LA()),dg.exports}var pg={exports:{}},ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function OA(){if(Ay)return ra;Ay=1;var n=Cp();function e(v){var w="https://react.dev/errors/"+v;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)w+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(v,w,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:I==null?null:""+I,children:v,containerInfo:w,implementation:T}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,w){if(v==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ra.createPortal=function(v,w){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return l(v,w,null,T)},ra.flushSync=function(v){var w=f.T,T=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=w,r.p=T,r.d.f()}},ra.preconnect=function(v,w){typeof v=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,r.d.C(v,w))},ra.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ra.preinit=function(v,w){if(typeof v=="string"&&w&&typeof w.as=="string"){var T=w.as,I=p(T,w.crossOrigin),M=typeof w.integrity=="string"?w.integrity:void 0,R=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;T==="style"?r.d.S(v,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:I,integrity:M,fetchPriority:R}):T==="script"&&r.d.X(v,{crossOrigin:I,integrity:M,fetchPriority:R,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},ra.preinitModule=function(v,w){if(typeof v=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var T=p(w.as,w.crossOrigin);r.d.M(v,{crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&r.d.M(v)},ra.preload=function(v,w){if(typeof v=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var T=w.as,I=p(T,w.crossOrigin);r.d.L(v,T,{crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},ra.preloadModule=function(v,w){if(typeof v=="string")if(w){var T=p(w.as,w.crossOrigin);r.d.m(v,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else r.d.m(v)},ra.requestFormReset=function(v){r.d.r(v)},ra.unstable_batchedUpdates=function(v,w){return v(w)},ra.useFormState=function(v,w,T){return f.H.useFormState(v,w,T)},ra.useFormStatus=function(){return f.H.useHostTransitionStatus()},ra.version="19.0.0",ra}var _y;function MA(){if(_y)return pg.exports;_y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pg.exports=OA(),pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function PA(){if(Ey)return Vf;Ey=1;var n=DA(),e=Cp(),t=MA();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Ce=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function Ge(i){return i===null||typeof i!="object"?null:(i=De&&i[De]||i["@@iterator"],typeof i=="function"?i:null)}var X=Symbol.for("react.client.reference");function z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===X?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case p:return"Portal";case T:return"Profiler";case w:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return o=i.displayName||null,o!==null?o:z(i.type)||"Memo";case te:o=i._payload,i=i._init;try{return z(i(o))}catch{}}return null}var j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.assign,V,F;function Y(i){if(V===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||"",F=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+i+F}var xe=!1;function we(i,o){if(!i||xe)return"";xe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(ht){var it=ht}Reflect.construct(i,[],Ct)}else{try{Ct.call()}catch(ht){it=ht}i.call(Ct.prototype)}}else{try{throw Error()}catch(ht){it=ht}(Ct=i())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(ht){if(ht&&it&&typeof ht.stack=="string")return[ht.stack,it.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),K=N[0],he=N[1];if(K&&he){var Ee=K.split(`
`),qe=he.split(`
`);for(_=m=0;m<Ee.length&&!Ee[m].includes("DetermineComponentFrameRoot");)m++;for(;_<qe.length&&!qe[_].includes("DetermineComponentFrameRoot");)_++;if(m===Ee.length||_===qe.length)for(m=Ee.length-1,_=qe.length-1;1<=m&&0<=_&&Ee[m]!==qe[_];)_--;for(;1<=m&&0<=_;m--,_--)if(Ee[m]!==qe[_]){if(m!==1||_!==1)do if(m--,_--,0>_||Ee[m]!==qe[_]){var dt=`
`+Ee[m].replace(" at new "," at ");return i.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",i.displayName)),dt}while(1<=m&&0<=_);break}}}finally{xe=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?Y(h):""}function Se(i){switch(i.tag){case 26:case 27:case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function Ie(i){try{var o="";do o+=Se(i),i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function _e(i){var o=i,h=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(h=o.return),i=o.return;while(i)}return o.tag===3?h:null}function Te(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function se(i){if(_e(i)!==i)throw Error(r(188))}function Be(i){var o=i.alternate;if(!o){if(o=_e(i),o===null)throw Error(r(188));return o!==i?null:i}for(var h=i,m=o;;){var _=h.return;if(_===null)break;var N=_.alternate;if(N===null){if(m=_.return,m!==null){h=m;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===h)return se(_),i;if(N===m)return se(_),o;N=N.sibling}throw Error(r(188))}if(h.return!==m.return)h=_,m=N;else{for(var K=!1,he=_.child;he;){if(he===h){K=!0,h=_,m=N;break}if(he===m){K=!0,m=_,h=N;break}he=he.sibling}if(!K){for(he=N.child;he;){if(he===h){K=!0,h=N,m=_;break}if(he===m){K=!0,m=N,h=_;break}he=he.sibling}if(!K)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:o}function W(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=W(i),o!==null)return o;i=i.sibling}return null}var ce=Array.isArray,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},ve=[],We=-1;function Pe(i){return{current:i}}function Ye(i){0>We||(i.current=ve[We],ve[We]=null,We--)}function ct(i,o){We++,ve[We]=i.current,i.current=o}var ut=Pe(null),Lt=Pe(null),gt=Pe(null),Yt=Pe(null);function st(i,o){switch(ct(gt,o),ct(Lt,i),ct(ut,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?G5(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=G5(i),o=W5(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Ye(ut),ct(ut,o)}function Ae(){Ye(ut),Ye(Lt),Ye(gt)}function Gt(i){i.memoizedState!==null&&ct(Yt,i);var o=ut.current,h=W5(o,i.type);o!==h&&(ct(Lt,i),ct(ut,h))}function Nt(i){Lt.current===i&&(Ye(ut),Ye(Lt)),Yt.current===i&&(Ye(Yt),Pf._currentValue=be)}var lt=Object.prototype.hasOwnProperty,Dt=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,kt=n.unstable_shouldYield,Qt=n.unstable_requestPaint,zt=n.unstable_now,mn=n.unstable_getCurrentPriorityLevel,Vt=n.unstable_ImmediatePriority,ln=n.unstable_UserBlockingPriority,Sn=n.unstable_NormalPriority,Ht=n.unstable_LowPriority,Cn=n.unstable_IdlePriority,Ft=n.log,ei=n.unstable_setDisableYieldValue,en=null,Et=null;function dn(i){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(en,i,void 0,(i.current.flags&128)===128)}catch{}}function $t(i){if(typeof Ft=="function"&&ei(i),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(en,i)}catch{}}var xn=Math.clz32?Math.clz32:Or,Pn=Math.log,Hs=Math.LN2;function Or(i){return i>>>=0,i===0?32:31-(Pn(i)/Hs|0)|0}var un=128,ti=4194304;function er(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function nn(i,o){var h=i.pendingLanes;if(h===0)return 0;var m=0,_=i.suspendedLanes,N=i.pingedLanes,K=i.warmLanes;i=i.finishedLanes!==0;var he=h&134217727;return he!==0?(h=he&~_,h!==0?m=er(h):(N&=he,N!==0?m=er(N):i||(K=he&~K,K!==0&&(m=er(K))))):(he=h&~_,he!==0?m=er(he):N!==0?m=er(N):i||(K=h&~K,K!==0&&(m=er(K)))),m===0?0:o!==0&&o!==m&&(o&_)===0&&(_=m&-m,K=o&-o,_>=K||_===32&&(K&4194176)!==0)?o:m}function pn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function gs(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(){var i=un;return un<<=1,(un&4194176)===0&&(un=128),i}function ni(){var i=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),i}function Di(i){for(var o=[],h=0;31>h;h++)o.push(i);return o}function Bt(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ps(i,o,h,m,_,N){var K=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var he=i.entanglements,Ee=i.expirationTimes,qe=i.hiddenUpdates;for(h=K&~h;0<h;){var dt=31-xn(h),Ct=1<<dt;he[dt]=0,Ee[dt]=-1;var it=qe[dt];if(it!==null)for(qe[dt]=null,dt=0;dt<it.length;dt++){var ht=it[dt];ht!==null&&(ht.lane&=-536870913)}h&=~Ct}m!==0&&Wr(i,m,0),N!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=N&~(K&~o))}function Wr(i,o,h){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-xn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|h&4194218}function Yr(i,o){var h=i.entangledLanes|=o;for(i=i.entanglements;h;){var m=31-xn(h),_=1<<m;_&o|i[m]&o&&(i[m]|=o),h&=~_}}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ar(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:uy(i.type))}function lr(i,o){var h=fe.p;try{return fe.p=i,o()}finally{fe.p=h}}var Pt=Math.random().toString(36).slice(2),cr="__reactFiber$"+Pt,ur="__reactProps$"+Pt,rr="__reactContainer$"+Pt,ri="__reactEvents$"+Pt,Oi="__reactListeners$"+Pt,Vr="__reactHandles$"+Pt,Xr="__reactResources$"+Pt,ms="__reactMarker$"+Pt;function qs(i){delete i[cr],delete i[ur],delete i[ri],delete i[Oi],delete i[Vr]}function kr(i){var o=i[cr];if(o)return o;for(var h=i.parentNode;h;){if(o=h[rr]||h[cr]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(i=K5(i);i!==null;){if(h=i[cr])return h;i=K5(i)}return o}i=h,h=i.parentNode}return null}function Tr(i){if(i=i[cr]||i[rr]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Wn(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Gs(i){var o=i[Xr];return o||(o=i[Xr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ir(i){i[ms]=!0}var Ba=new Set,pt={};function $i(i,o){Bn(i,o),Bn(i+"Capture",o)}function Bn(i,o){for(pt[i]=o,i=0;i<o.length;i++)Ba.add(o[i])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fn={},jn={};function Tn(i){return lt.call(jn,i)?!0:lt.call(Fn,i)?!1:vl.test(i)?jn[i]=!0:(Fn[i]=!0,!1)}function Ws(i,o,h){if(Tn(o))if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+h)}}function yr(i,o,h){if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+h)}}function qi(i,o,h,m){if(m===null)i.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(o,h,""+m)}}function Yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ys(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ao(i){var o=ys(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,N=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return _.call(this)},set:function(K){m=""+K,N.call(this,K)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(K){m=""+K},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function _r(i){i._valueTracker||(i._valueTracker=Ao(i))}function si(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return i&&(m=ys(i)?i.checked?"true":"false":i.value),i=m,i!==h?(o.setValue(i),!0):!1}function da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Lr=/[\n"\\]/g;function cn(i){return i.replace(Lr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mr(i,o,h,m,_,N,K,he){i.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.type=K:i.removeAttribute("type"),o!=null?K==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Yn(o)):i.value!==""+Yn(o)&&(i.value=""+Yn(o)):K!=="submit"&&K!=="reset"||i.removeAttribute("value"),o!=null?ge(i,K,Yn(o)):h!=null?ge(i,K,Yn(h)):m!=null&&i.removeAttribute("value"),_==null&&N!=null&&(i.defaultChecked=!!N),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?i.name=""+Yn(he):i.removeAttribute("name")}function Xe(i,o,h,m,_,N,K,he){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||h!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;h=h!=null?""+Yn(h):"",o=o!=null?""+Yn(o):h,he||o===i.value||(i.value=o),i.defaultValue=o}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=he?i.checked:!!m,i.defaultChecked=!!m,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(i.name=K)}function ge(i,o,h){o==="number"&&da(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function Rt(i,o,h,m){if(i=i.options,o){o={};for(var _=0;_<h.length;_++)o["$"+h[_]]=!0;for(h=0;h<i.length;h++)_=o.hasOwnProperty("$"+i[h].value),i[h].selected!==_&&(i[h].selected=_),_&&m&&(i[h].defaultSelected=!0)}else{for(h=""+Yn(h),o=null,_=0;_<i.length;_++){if(i[_].value===h){i[_].selected=!0,m&&(i[_].defaultSelected=!0);return}o!==null||i[_].disabled||(o=i[_])}o!==null&&(o.selected=!0)}}function Dr(i,o,h){if(o!=null&&(o=""+Yn(o),o!==i.value&&(i.value=o),h==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=h!=null?""+Yn(h):""}function gi(i,o,h,m){if(o==null){if(m!=null){if(h!=null)throw Error(r(92));if(ce(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),o=h}h=Yn(o),i.defaultValue=h,m=i.textContent,m===h&&m!==""&&m!==null&&(i.value=m)}function es(i,o){if(o){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=o;return}}i.textContent=o}var _o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mi(i,o,h){var m=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,h):typeof h!="number"||h===0||_o.has(o)?o==="float"?i.cssFloat=h:i[o]=(""+h).trim():i[o]=h+"px"}function tn(i,o,h){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var _ in o)m=o[_],o.hasOwnProperty(_)&&h[_]!==m&&Mi(i,_,m)}else for(var N in o)o.hasOwnProperty(N)&&Mi(i,N,o[N])}function Kn(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),so=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(i){return so.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vr=null;function ba(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Ut=null;function ls(i){var o=Tr(i);if(o&&(i=o.stateNode)){var h=i[ur]||null;e:switch(i=o.stateNode,o.type){case"input":if(Mr(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+cn(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==i&&m.form===i.form){var _=m[ur]||null;if(!_)throw Error(r(90));Mr(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<h.length;o++)m=h[o],m.form===i.form&&si(m)}break e;case"textarea":Dr(i,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&Rt(i,!!h.multiple,o,!1)}}}var vs=!1;function Xt(i,o,h){if(vs)return i(o,h);vs=!0;try{var m=i(o);return m}finally{if(vs=!1,(Ys!==null||Ut!==null)&&(a1(),Ys&&(o=Ys,i=Ut,Ut=Ys=null,ls(o),i)))for(o=0;o<i.length;o++)ls(i[o])}}function Aa(i,o){var h=i.stateNode;if(h===null)return null;var m=h[ur]||null;if(m===null)return null;h=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,o,typeof h));return h}var sn=!1;if(ii)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){sn=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{sn=!1}var ws=null,Xs=null,Ks=null;function Ls(){if(Ks)return Ks;var i,o=Xs,h=o.length,m,_="value"in ws?ws.value:ws.textContent,N=_.length;for(i=0;i<h&&o[i]===_[i];i++);var K=h-i;for(m=1;m<=K&&o[h-m]===_[N-m];m++);return Ks=_.slice(i,1<m?1-m:void 0)}function xs(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function bi(){return!0}function ts(){return!1}function zr(i){function o(h,m,_,N,K){this._reactName=h,this._targetInst=_,this.type=m,this.nativeEvent=N,this.target=K,this.currentTarget=null;for(var he in i)i.hasOwnProperty(he)&&(h=i[he],this[he]=h?h(N):N[he]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?bi:ts,this.isPropagationStopped=ts,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),o}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=zr(Un),ns=ae({},Un,{view:0,detail:0}),Ai=zr(ns),_a,Ea,As,rs=ae({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==As&&(As&&i.type==="mousemove"?(_a=i.screenX-As.screenX,Ea=i.screenY-As.screenY):Ea=_a=0,As=i),_a)},movementY:function(i){return"movementY"in i?i.movementY:Ea}}),_i=zr(rs),Wo=ae({},rs,{dataTransfer:0}),Vn=zr(Wo),Pi=ae({},ns,{relatedTarget:0}),Ds=zr(Pi),ki=ae({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),ao=zr(ki),tt=ae({},Un,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yn=zr(tt),Kr=ae({},Un,{data:0}),Qs=zr(Kr),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=oo[i])?!!o[i]:!1}function Zs(){return Ua}var Hr=ae({},ns,{key:function(i){if(i.key){var o=ga[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=xs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ja[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(i){return i.type==="keypress"?xs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Os=zr(Hr),hr=ae({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=zr(hr),ai=ae({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Jn=zr(ai),C=ae({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=zr(C),pe=ae({},rs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=zr(pe),je=ae({},Un,{newState:0,oldState:0}),ot=zr(je),yt=[9,13,27,32],Ot=ii&&"CompositionEvent"in window,b=null;ii&&"documentMode"in document&&(b=document.documentMode);var O=ii&&"TextEvent"in window&&!b,U=ii&&(!Ot||b&&8<b&&11>=b),oe=" ",Ue=!1;function Qe(i,o){switch(i){case"keyup":return yt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function St(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gn=!1;function Rn(i,o){switch(i){case"compositionend":return St(o);case"keypress":return o.which!==32?null:(Ue=!0,oe);case"textInput":return i=o.data,i===oe&&Ue?null:i;default:return null}}function _n(i,o){if(gn)return i==="compositionend"||!Ot&&Qe(i,o)?(i=Ls(),Ks=Xs=ws=null,gn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return U&&o.locale!=="ko"?null:o.data;default:return null}}var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!zn[i.type]:o==="textarea"}function Qr(i,o,h,m){Ys?Ut?Ut.push(m):Ut=[m]:Ys=m,o=h1(o,"onChange"),0<o.length&&(h=new bs("onChange","change",null,h,m),i.push({event:h,listeners:o}))}var oi=null,Zr=null;function Sa(i){U5(i,0)}function Ta(i){var o=Wn(i);if(si(o))return i}function Yo(i,o){if(i==="change")return o}var lo=!1;if(ii){var Ir;if(ii){var co="oninput"in document;if(!co){var Va=document.createElement("div");Va.setAttribute("oninput","return;"),co=typeof Va.oninput=="function"}Ir=co}else Ir=!1;lo=Ir&&(!document.documentMode||9<document.documentMode)}function pa(){oi&&(oi.detachEvent("onpropertychange",kn),Zr=oi=null)}function kn(i){if(i.propertyName==="value"&&Ta(Zr)){var o=[];Qr(o,Zr,i,ba(i)),Xt(Sa,o)}}function Gi(i,o,h){i==="focusin"?(pa(),oi=o,Zr=h,oi.attachEvent("onpropertychange",kn)):i==="focusout"&&pa()}function Z(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ta(Zr)}function s(i,o){if(i==="click")return Ta(o)}function c(i,o){if(i==="input"||i==="change")return Ta(o)}function u(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var d=typeof Object.is=="function"?Object.is:u;function g(i,o){if(d(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var h=Object.keys(i),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var _=h[m];if(!lt.call(o,_)||!d(i[_],o[_]))return!1}return!0}function y(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function A(i,o){var h=y(i);i=0;for(var m;h;){if(h.nodeType===3){if(m=i+h.textContent.length,i<=o&&m>=o)return{node:h,offset:o-i};i=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=y(h)}}function S(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?S(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function L(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=da(i.document);o instanceof i.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)i=o.contentWindow;else break;o=da(i.document)}return o}function B(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Q(i,o){var h=L(o);o=i.focusedElem;var m=i.selectionRange;if(h!==o&&o&&o.ownerDocument&&S(o.ownerDocument.documentElement,o)){if(m!==null&&B(o)){if(i=m.start,h=m.end,h===void 0&&(h=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(h,o.value.length);else if(h=(i=o.ownerDocument||document)&&i.defaultView||window,h.getSelection){h=h.getSelection();var _=o.textContent.length,N=Math.min(m.start,_);m=m.end===void 0?N:Math.min(m.end,_),!h.extend&&N>m&&(_=m,m=N,N=_),_=A(o,N);var K=A(o,m);_&&K&&(h.rangeCount!==1||h.anchorNode!==_.node||h.anchorOffset!==_.offset||h.focusNode!==K.node||h.focusOffset!==K.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),h.removeAllRanges(),N>m?(h.addRange(i),h.extend(K.node,K.offset)):(i.setEnd(K.node,K.offset),h.addRange(i)))}}for(i=[],h=o;h=h.parentNode;)h.nodeType===1&&i.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)h=i[o],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var re=ii&&"documentMode"in document&&11>=document.documentMode,me=null,Re=null,Oe=null,He=!1;function rt(i,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;He||me==null||me!==da(m)||(m=me,"selectionStart"in m&&B(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Oe&&g(Oe,m)||(Oe=m,m=h1(Re,"onSelect"),0<m.length&&(o=new bs("onSelect","select",null,o,h),i.push({event:o,listeners:m}),o.target=me)))}function vt(i,o){var h={};return h[i.toLowerCase()]=o.toLowerCase(),h["Webkit"+i]="webkit"+o,h["Moz"+i]="moz"+o,h}var At={animationend:vt("Animation","AnimationEnd"),animationiteration:vt("Animation","AnimationIteration"),animationstart:vt("Animation","AnimationStart"),transitionrun:vt("Transition","TransitionRun"),transitionstart:vt("Transition","TransitionStart"),transitioncancel:vt("Transition","TransitionCancel"),transitionend:vt("Transition","TransitionEnd")},_t={},Ln={};ii&&(Ln=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);function an(i){if(_t[i])return _t[i];if(!At[i])return i;var o=At[i],h;for(h in o)if(o.hasOwnProperty(h)&&h in Ln)return _t[i]=o[h];return i}var pi=an("animationend"),Bi=an("animationiteration"),li=an("animationstart"),tr=an("transitionrun"),ci=an("transitionstart"),Ti=an("transitioncancel"),_s=an("transitionend"),ma=new Map,Ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ui(i,o){ma.set(i,o),$i(o,[i])}var Qn=[],Er=0,mi=0;function Ei(){for(var i=Er,o=mi=Er=0;o<i;){var h=Qn[o];Qn[o++]=null;var m=Qn[o];Qn[o++]=null;var _=Qn[o];Qn[o++]=null;var N=Qn[o];if(Qn[o++]=null,m!==null&&_!==null){var K=m.pending;K===null?_.next=_:(_.next=K.next,K.next=_),m.pending=_}N!==0&&nu(h,_,N)}}function Ca(i,o,h,m){Qn[Er++]=i,Qn[Er++]=o,Qn[Er++]=h,Qn[Er++]=m,mi|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function wl(i,o,h,m){return Ca(i,o,h,m),ic(i)}function ya(i,o){return Ca(i,null,null,o),ic(i)}function nu(i,o,h){i.lanes|=h;var m=i.alternate;m!==null&&(m.lanes|=h);for(var _=!1,N=i.return;N!==null;)N.childLanes|=h,m=N.alternate,m!==null&&(m.childLanes|=h),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(_=!0)),i=N,N=N.return;_&&o!==null&&i.tag===3&&(N=i.stateNode,_=31-xn(h),N=N.hiddenUpdates,i=N[_],i===null?N[_]=[o]:i.push(o),o.lane=h|536870912)}function ic(i){if(50<If)throw If=0,M2=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Eo={},$s=new WeakMap;function yi(i,o){if(typeof i=="object"&&i!==null){var h=$s.get(i);return h!==void 0?h:(o={value:i,source:o,stack:Ie(o)},$s.set(i,o),o)}return{value:i,source:o,stack:Ie(o)}}var So=[],To=0,ru=null,xl=0,Ps=[],ea=0,Xo=null,za=1,Ha="";function uo(i,o){So[To++]=xl,So[To++]=ru,ru=i,xl=o}function Gu(i,o,h){Ps[ea++]=za,Ps[ea++]=Ha,Ps[ea++]=Xo,Xo=i;var m=za;i=Ha;var _=32-xn(m)-1;m&=~(1<<_),h+=1;var N=32-xn(o)+_;if(30<N){var K=_-_%5;N=(m&(1<<K)-1).toString(32),m>>=K,_-=K,za=1<<32-xn(o)+_|h<<_|m,Ha=N+i}else za=1<<N|h<<_|m,Ha=i}function rf(i){i.return!==null&&(uo(i,1),Gu(i,1,0))}function sf(i){for(;i===ru;)ru=So[--To],So[To]=null,xl=So[--To],So[To]=null;for(;i===Xo;)Xo=Ps[--ea],Ps[ea]=null,Ha=Ps[--ea],Ps[ea]=null,za=Ps[--ea],Ps[ea]=null}var Es=null,cs=null,wr=!1,qa=null,ho=!1,af=Error(r(519));function Co(i){var o=Error(r(418,""));throw ac(yi(o,i)),af}function Wu(i){var o=i.stateNode,h=i.type,m=i.memoizedProps;switch(o[cr]=i,o[ur]=m,h){case"dialog":pr("cancel",o),pr("close",o);break;case"iframe":case"object":case"embed":pr("load",o);break;case"video":case"audio":for(h=0;h<Rf.length;h++)pr(Rf[h],o);break;case"source":pr("error",o);break;case"img":case"image":case"link":pr("error",o),pr("load",o);break;case"details":pr("toggle",o);break;case"input":pr("invalid",o),Xe(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),_r(o);break;case"select":pr("invalid",o);break;case"textarea":pr("invalid",o),gi(o,m.value,m.defaultValue,m.children),_r(o)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||m.suppressHydrationWarning===!0||q5(o.textContent,h)?(m.popover!=null&&(pr("beforetoggle",o),pr("toggle",o)),m.onScroll!=null&&pr("scroll",o),m.onScrollEnd!=null&&pr("scrollend",o),m.onClick!=null&&(o.onclick=f1),o=!0):o=!1,o||Co(i)}function sc(i){for(Es=i.return;Es;)switch(Es.tag){case 3:case 27:ho=!0;return;case 5:case 13:ho=!1;return;default:Es=Es.return}}function iu(i){if(i!==Es)return!1;if(!wr)return sc(i),wr=!0,!1;var o=!1,h;if((h=i.tag!==3&&i.tag!==27)&&((h=i.tag===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Z2(i.type,i.memoizedProps)),h=!h),h&&(o=!0),o&&cs&&Co(i),sc(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(h=i.data,h==="/$"){if(o===0){cs=ko(i.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++;i=i.nextSibling}cs=null}}else cs=Es?ko(i.stateNode.nextSibling):null;return!0}function su(){cs=Es=null,wr=!1}function ac(i){qa===null?qa=[i]:qa.push(i)}var au=Error(r(460)),Md=Error(r(474)),of={then:function(){}};function Pd(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ga(){}function Ia(i,o,h){switch(h=i[h],h===void 0?i.push(o):h!==o&&(o.then(Ga,Ga),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===au?Error(r(483)):i;default:if(typeof o.status=="string")o.then(Ga,Ga);else{if(i=fi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=m}},function(m){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===au?Error(r(483)):i}throw va=o,au}}var va=null;function kd(){if(va===null)throw Error(r(459));var i=va;return va=null,i}var bl=null,Na=0;function ks(i){var o=Na;return Na+=1,bl===null&&(bl=[]),Ia(bl,i,o)}function ou(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Yu(i,o){throw o.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function lf(i){var o=i._init;return o(i._payload)}function cf(i){function o(Ke,Ve){if(i){var et=Ke.deletions;et===null?(Ke.deletions=[Ve],Ke.flags|=16):et.push(Ve)}}function h(Ke,Ve){if(!i)return null;for(;Ve!==null;)o(Ke,Ve),Ve=Ve.sibling;return null}function m(Ke){for(var Ve=new Map;Ke!==null;)Ke.key!==null?Ve.set(Ke.key,Ke):Ve.set(Ke.index,Ke),Ke=Ke.sibling;return Ve}function _(Ke,Ve){return Ke=bc(Ke,Ve),Ke.index=0,Ke.sibling=null,Ke}function N(Ke,Ve,et){return Ke.index=et,i?(et=Ke.alternate,et!==null?(et=et.index,et<Ve?(Ke.flags|=33554434,Ve):et):(Ke.flags|=33554434,Ve)):(Ke.flags|=1048576,Ve)}function K(Ke){return i&&Ke.alternate===null&&(Ke.flags|=33554434),Ke}function he(Ke,Ve,et,xt){return Ve===null||Ve.tag!==6?(Ve=T2(et,Ke.mode,xt),Ve.return=Ke,Ve):(Ve=_(Ve,et),Ve.return=Ke,Ve)}function Ee(Ke,Ve,et,xt){var Zt=et.type;return Zt===v?dt(Ke,Ve,et.props.children,xt,et.key):Ve!==null&&(Ve.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===te&&lf(Zt)===Ve.type)?(Ve=_(Ve,et.props),ou(Ve,et),Ve.return=Ke,Ve):(Ve=t1(et.type,et.key,et.props,null,Ke.mode,xt),ou(Ve,et),Ve.return=Ke,Ve)}function qe(Ke,Ve,et,xt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==et.containerInfo||Ve.stateNode.implementation!==et.implementation?(Ve=C2(et,Ke.mode,xt),Ve.return=Ke,Ve):(Ve=_(Ve,et.children||[]),Ve.return=Ke,Ve)}function dt(Ke,Ve,et,xt,Zt){return Ve===null||Ve.tag!==7?(Ve=Au(et,Ke.mode,xt,Zt),Ve.return=Ke,Ve):(Ve=_(Ve,et),Ve.return=Ke,Ve)}function Ct(Ke,Ve,et){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=T2(""+Ve,Ke.mode,et),Ve.return=Ke,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case f:return et=t1(Ve.type,Ve.key,Ve.props,null,Ke.mode,et),ou(et,Ve),et.return=Ke,et;case p:return Ve=C2(Ve,Ke.mode,et),Ve.return=Ke,Ve;case te:var xt=Ve._init;return Ve=xt(Ve._payload),Ct(Ke,Ve,et)}if(ce(Ve)||Ge(Ve))return Ve=Au(Ve,Ke.mode,et,null),Ve.return=Ke,Ve;if(typeof Ve.then=="function")return Ct(Ke,ks(Ve),et);if(Ve.$$typeof===R)return Ct(Ke,Jd(Ke,Ve),et);Yu(Ke,Ve)}return null}function it(Ke,Ve,et,xt){var Zt=Ve!==null?Ve.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Zt!==null?null:he(Ke,Ve,""+et,xt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case f:return et.key===Zt?Ee(Ke,Ve,et,xt):null;case p:return et.key===Zt?qe(Ke,Ve,et,xt):null;case te:return Zt=et._init,et=Zt(et._payload),it(Ke,Ve,et,xt)}if(ce(et)||Ge(et))return Zt!==null?null:dt(Ke,Ve,et,xt,null);if(typeof et.then=="function")return it(Ke,Ve,ks(et),xt);if(et.$$typeof===R)return it(Ke,Ve,Jd(Ke,et),xt);Yu(Ke,et)}return null}function ht(Ke,Ve,et,xt,Zt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return Ke=Ke.get(et)||null,he(Ve,Ke,""+xt,Zt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case f:return Ke=Ke.get(xt.key===null?et:xt.key)||null,Ee(Ve,Ke,xt,Zt);case p:return Ke=Ke.get(xt.key===null?et:xt.key)||null,qe(Ve,Ke,xt,Zt);case te:var $n=xt._init;return xt=$n(xt._payload),ht(Ke,Ve,et,xt,Zt)}if(ce(xt)||Ge(xt))return Ke=Ke.get(et)||null,dt(Ve,Ke,xt,Zt,null);if(typeof xt.then=="function")return ht(Ke,Ve,et,ks(xt),Zt);if(xt.$$typeof===R)return ht(Ke,Ve,et,Jd(Ve,xt),Zt);Yu(Ve,xt)}return null}function rn(Ke,Ve,et,xt){for(var Zt=null,$n=null,on=Ve,vn=Ve=0,Is=null;on!==null&&vn<et.length;vn++){on.index>vn?(Is=on,on=null):Is=on.sibling;var Rr=it(Ke,on,et[vn],xt);if(Rr===null){on===null&&(on=Is);break}i&&on&&Rr.alternate===null&&o(Ke,on),Ve=N(Rr,Ve,vn),$n===null?Zt=Rr:$n.sibling=Rr,$n=Rr,on=Is}if(vn===et.length)return h(Ke,on),wr&&uo(Ke,vn),Zt;if(on===null){for(;vn<et.length;vn++)on=Ct(Ke,et[vn],xt),on!==null&&(Ve=N(on,Ve,vn),$n===null?Zt=on:$n.sibling=on,$n=on);return wr&&uo(Ke,vn),Zt}for(on=m(on);vn<et.length;vn++)Is=ht(on,Ke,vn,et[vn],xt),Is!==null&&(i&&Is.alternate!==null&&on.delete(Is.key===null?vn:Is.key),Ve=N(Is,Ve,vn),$n===null?Zt=Is:$n.sibling=Is,$n=Is);return i&&on.forEach(function(Ic){return o(Ke,Ic)}),wr&&uo(Ke,vn),Zt}function Dn(Ke,Ve,et,xt){if(et==null)throw Error(r(151));for(var Zt=null,$n=null,on=Ve,vn=Ve=0,Is=null,Rr=et.next();on!==null&&!Rr.done;vn++,Rr=et.next()){on.index>vn?(Is=on,on=null):Is=on.sibling;var Ic=it(Ke,on,Rr.value,xt);if(Ic===null){on===null&&(on=Is);break}i&&on&&Ic.alternate===null&&o(Ke,on),Ve=N(Ic,Ve,vn),$n===null?Zt=Ic:$n.sibling=Ic,$n=Ic,on=Is}if(Rr.done)return h(Ke,on),wr&&uo(Ke,vn),Zt;if(on===null){for(;!Rr.done;vn++,Rr=et.next())Rr=Ct(Ke,Rr.value,xt),Rr!==null&&(Ve=N(Rr,Ve,vn),$n===null?Zt=Rr:$n.sibling=Rr,$n=Rr);return wr&&uo(Ke,vn),Zt}for(on=m(on);!Rr.done;vn++,Rr=et.next())Rr=ht(on,Ke,vn,Rr.value,xt),Rr!==null&&(i&&Rr.alternate!==null&&on.delete(Rr.key===null?vn:Rr.key),Ve=N(Rr,Ve,vn),$n===null?Zt=Rr:$n.sibling=Rr,$n=Rr);return i&&on.forEach(function(TA){return o(Ke,TA)}),wr&&uo(Ke,vn),Zt}function Vi(Ke,Ve,et,xt){if(typeof et=="object"&&et!==null&&et.type===v&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case f:e:{for(var Zt=et.key;Ve!==null;){if(Ve.key===Zt){if(Zt=et.type,Zt===v){if(Ve.tag===7){h(Ke,Ve.sibling),xt=_(Ve,et.props.children),xt.return=Ke,Ke=xt;break e}}else if(Ve.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===te&&lf(Zt)===Ve.type){h(Ke,Ve.sibling),xt=_(Ve,et.props),ou(xt,et),xt.return=Ke,Ke=xt;break e}h(Ke,Ve);break}else o(Ke,Ve);Ve=Ve.sibling}et.type===v?(xt=Au(et.props.children,Ke.mode,xt,et.key),xt.return=Ke,Ke=xt):(xt=t1(et.type,et.key,et.props,null,Ke.mode,xt),ou(xt,et),xt.return=Ke,Ke=xt)}return K(Ke);case p:e:{for(Zt=et.key;Ve!==null;){if(Ve.key===Zt)if(Ve.tag===4&&Ve.stateNode.containerInfo===et.containerInfo&&Ve.stateNode.implementation===et.implementation){h(Ke,Ve.sibling),xt=_(Ve,et.children||[]),xt.return=Ke,Ke=xt;break e}else{h(Ke,Ve);break}else o(Ke,Ve);Ve=Ve.sibling}xt=C2(et,Ke.mode,xt),xt.return=Ke,Ke=xt}return K(Ke);case te:return Zt=et._init,et=Zt(et._payload),Vi(Ke,Ve,et,xt)}if(ce(et))return rn(Ke,Ve,et,xt);if(Ge(et)){if(Zt=Ge(et),typeof Zt!="function")throw Error(r(150));return et=Zt.call(et),Dn(Ke,Ve,et,xt)}if(typeof et.then=="function")return Vi(Ke,Ve,ks(et),xt);if(et.$$typeof===R)return Vi(Ke,Ve,Jd(Ke,et),xt);Yu(Ke,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Ve!==null&&Ve.tag===6?(h(Ke,Ve.sibling),xt=_(Ve,et),xt.return=Ke,Ke=xt):(h(Ke,Ve),xt=T2(et,Ke.mode,xt),xt.return=Ke,Ke=xt),K(Ke)):h(Ke,Ve)}return function(Ke,Ve,et,xt){try{Na=0;var Zt=Vi(Ke,Ve,et,xt);return bl=null,Zt}catch(on){if(on===au)throw on;var $n=yo(29,on,null,Ke.mode);return $n.lanes=xt,$n.return=Ke,$n}finally{}}}var Ko=cf(!0),uf=cf(!1),oc=Pe(null),Al=Pe(0);function lu(i,o){i=kl,ct(Al,i),ct(oc,o),kl=i|o.baseLanes}function _l(){ct(Al,kl),ct(oc,oc.current)}function cu(){kl=Al.current,Ye(oc),Ye(Al)}var Ra=Pe(null),Wa=null;function Qo(i){var o=i.alternate;ct(Wi,Wi.current&1),ct(Ra,i),Wa===null&&(o===null||oc.current!==null||o.memoizedState!==null)&&(Wa=i)}function Bd(i){if(i.tag===22){if(ct(Wi,Wi.current),ct(Ra,i),Wa===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Wa=i)}}else Zo()}function Zo(){ct(Wi,Wi.current),ct(Ra,Ra.current)}function Io(i){Ye(Ra),Wa===i&&(Wa=null),Ye(Wi)}var Wi=Pe(0);function Xu(i){for(var o=i;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fd=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(h,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(h){return h()})}},Ku=n.unstable_scheduleCallback,t2=n.unstable_NormalPriority,Yi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new Fd,data:new Map,refCount:0}}function x(i){i.refCount--,i.refCount===0&&Ku(t2,function(){i.controller.abort()})}var E=null,D=0,k=0,$=null;function ne(i,o){if(E===null){var h=E=[];D=0,k=z2(),$={status:"pending",value:void 0,then:function(m){h.push(m)}}}return D++,o.then(ie,ie),o}function ie(){if(--D===0&&E!==null){$!==null&&($.status="fulfilled");var i=E;E=null,k=0,$=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function ue(i,o){var h=[],m={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var _=0;_<h.length;_++)(0,h[_])(o)},function(_){for(m.status="rejected",m.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),m}var de=j.S;j.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ne(i,o),de!==null&&de(i,o)};var ye=Pe(null);function Me(){var i=ye.current;return i!==null?i:fi.pooledCache}function Ze(i,o){o===null?ct(ye,ye.current):ct(ye,o.pool)}function $e(){var i=Me();return i===null?null:{parent:Yi._currentValue,pool:i}}var ze=0,nt=null,Je=null,Le=null,Fe=!1,ft=!1,wt=!1,mt=0,jt=0,Mt=null,hn=0;function It(){throw Error(r(321))}function dr(i,o){if(o===null)return!1;for(var h=0;h<o.length&&h<i.length;h++)if(!d(i[h],o[h]))return!1;return!0}function Sr(i,o,h,m,_,N){return ze=N,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,j.H=i===null||i.memoizedState===null?Cl:Da,wt=!1,N=h(m,_),wt=!1,ft&&(N=Zn(o,h,m,_)),sr(i),N}function sr(i){j.H=Xa;var o=Je!==null&&Je.next!==null;if(ze=0,Le=Je=nt=null,Fe=!1,jt=0,Mt=null,o)throw Error(r(300));i===null||Ts||(i=i.dependencies,i!==null&&Zd(i)&&(Ts=!0))}function Zn(i,o,h,m){nt=i;var _=0;do{if(ft&&(Mt=null),jt=0,ft=!1,25<=_)throw Error(r(301));if(_+=1,Le=Je=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}j.H=Do,N=o(h,m)}while(ft);return N}function Br(){var i=j.H,o=i.useState()[0];return o=typeof o.then=="function"?gr(o):o,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(nt.flags|=1024),o}function Nr(){var i=mt!==0;return mt=0,i}function In(i,o,h){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~h}function Si(i){if(Fe){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Fe=!1}ze=0,Le=Je=nt=null,ft=!1,jt=mt=0,Mt=null}function Fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?nt.memoizedState=Le=i:Le=Le.next=i,Le}function Hn(){if(Je===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var o=Le===null?nt.memoizedState:Le.next;if(o!==null)Le=o,Je=i;else{if(i===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Le===null?nt.memoizedState=Le=i:Le=Le.next=i}return Le}var us;us=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gr(i){var o=jt;return jt+=1,Mt===null&&(Mt=[]),i=Ia(Mt,i,o),o=nt,(Le===null?o.memoizedState:Le.next)===null&&(o=o.alternate,j.H=o===null||o.memoizedState===null?Cl:Da),i}function Ss(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gr(i);if(i.$$typeof===R)return na(i)}throw Error(r(438,String(i)))}function Bs(i){var o=null,h=nt.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var m=nt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=us(),nt.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(i),m=0;m<i;m++)h[m]=Ce;return o.index++,h}function qr(i,o){return typeof o=="function"?o(i):o}function Fi(i){var o=Hn();return hs(o,Je,i)}function hs(i,o,h){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var _=i.baseQueue,N=m.pending;if(N!==null){if(_!==null){var K=_.next;_.next=N.next,N.next=K}o.baseQueue=_=N,m.pending=null}if(N=i.baseState,_===null)i.memoizedState=N;else{o=_.next;var he=K=null,Ee=null,qe=o,dt=!1;do{var Ct=qe.lane&-536870913;if(Ct!==qe.lane?(xr&Ct)===Ct:(ze&Ct)===Ct){var it=qe.revertLane;if(it===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),Ct===k&&(dt=!0);else if((ze&it)===it){qe=qe.next,it===k&&(dt=!0);continue}else Ct={lane:0,revertLane:qe.revertLane,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Ee===null?(he=Ee=Ct,K=N):Ee=Ee.next=Ct,nt.lanes|=it,Ac|=it;Ct=qe.action,wt&&h(N,Ct),N=qe.hasEagerState?qe.eagerState:h(N,Ct)}else it={lane:Ct,revertLane:qe.revertLane,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Ee===null?(he=Ee=it,K=N):Ee=Ee.next=it,nt.lanes|=Ct,Ac|=Ct;qe=qe.next}while(qe!==null&&qe!==o);if(Ee===null?K=N:Ee.next=he,!d(N,i.memoizedState)&&(Ts=!0,dt&&(h=$,h!==null)))throw h;i.memoizedState=N,i.baseState=K,i.baseQueue=Ee,m.lastRenderedState=N}return _===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function ta(i){var o=Hn(),h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var m=h.dispatch,_=h.pending,N=o.memoizedState;if(_!==null){h.pending=null;var K=_=_.next;do N=i(N,K.action),K=K.next;while(K!==_);d(N,o.memoizedState)||(Ts=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),h.lastRenderedState=N}return[N,m]}function Ya(i,o,h){var m=nt,_=Hn(),N=wr;if(N){if(h===void 0)throw Error(r(407));h=h()}else h=o();var K=!d((Je||_).memoizedState,h);if(K&&(_.memoizedState=h,Ts=!0),_=_.queue,gu(Jo.bind(null,m,_,i),[i]),_.getSnapshot!==o||K||Le!==null&&Le.memoizedState.tag&1){if(m.flags|=2048,$o(9,fo.bind(null,m,_,h,o),{destroy:void 0},null),fi===null)throw Error(r(349));N||(ze&60)!==0||Xi(m,o,h)}return h}function Xi(i,o,h){i.flags|=16384,i={getSnapshot:o,value:h},o=nt.updateQueue,o===null?(o=us(),nt.updateQueue=o,o.stores=[i]):(h=o.stores,h===null?o.stores=[i]:h.push(i))}function fo(i,o,h,m){o.value=h,o.getSnapshot=m,El(o)&&No(i)}function Jo(i,o,h){return h(function(){El(o)&&No(i)})}function El(i){var o=i.getSnapshot;i=i.value;try{var h=o();return!d(i,h)}catch{return!0}}function No(i){var o=ya(i,2);o!==null&&wa(o,i,2)}function hi(i){var o=Fr();if(typeof i=="function"){var h=i;if(i=h(),wt){$t(!0);try{h()}finally{$t(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:i},o}function Zu(i,o,h,m){return i.baseState=h,hs(i,Je,typeof m=="function"?m:qr)}function jd(i,o,h,m,_){if(sh(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){N.listeners.push(K)}};j.T!==null?h(!0):N.isTransition=!1,m(N),h=o.pending,h===null?(N.next=o.pending=N,hf(o,N)):(N.next=h.next,o.pending=h.next=N)}}function hf(i,o){var h=o.action,m=o.payload,_=i.state;if(o.isTransition){var N=j.T,K={};j.T=K;try{var he=h(_,m),Ee=j.S;Ee!==null&&Ee(K,he),uu(i,o,he)}catch(qe){cc(i,o,qe)}finally{j.T=N}}else try{N=h(_,m),uu(i,o,N)}catch(qe){cc(i,o,qe)}}function uu(i,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){lc(i,o,m)},function(m){return cc(i,o,m)}):lc(i,o,h)}function lc(i,o,h){o.status="fulfilled",o.value=h,La(o),i.state=h,o=i.pending,o!==null&&(h=o.next,h===o?i.pending=null:(h=h.next,o.next=h,hf(i,h)))}function cc(i,o,h){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=h,La(o),o=o.next;while(o!==m)}i.action=null}function La(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Sl(i,o){return o}function Tl(i,o){if(wr){var h=fi.formState;if(h!==null){e:{var m=nt;if(wr){if(cs){t:{for(var _=cs,N=ho;_.nodeType!==8;){if(!N){_=null;break t}if(_=ko(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){cs=ko(_.nextSibling),m=_.data==="F!";break e}}Co(m)}m=!1}m&&(o=h[0])}}return h=Fr(),h.memoizedState=h.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:o},h.queue=m,h=Xd.bind(null,nt,m),m.dispatch=h,m=hi(!1),N=tl.bind(null,nt,!1,m.queue),m=Fr(),_={state:o,dispatch:null,action:i,pending:null},m.queue=_,h=jd.bind(null,nt,_,N,h),_.dispatch=h,m.memoizedState=i,[o,h,!1]}function ff(i){var o=Hn();return hu(o,Je,i)}function hu(i,o,h){o=hs(i,o,Sl)[0],i=Fi(qr)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?gr(o):o;var m=Hn(),_=m.queue,N=_.dispatch;return h!==m.memoizedState&&(nt.flags|=2048,$o(9,Ud.bind(null,_,h),{destroy:void 0},null)),[o,N,i]}function Ud(i,o){i.action=o}function fu(i){var o=Hn(),h=Je;if(h!==null)return hu(o,h,i);Hn(),o=o.memoizedState,h=Hn();var m=h.queue.dispatch;return h.memoizedState=i,[o,m,!1]}function $o(i,o,h,m){return i={tag:i,create:o,inst:h,deps:m,next:null},o=nt.updateQueue,o===null&&(o=us(),nt.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=i.next=i:(m=h.next,h.next=i,i.next=m,o.lastEffect=i),i}function du(){return Hn().memoizedState}function el(i,o,h,m){var _=Fr();nt.flags|=i,_.memoizedState=$o(1|o,h,{destroy:void 0},m===void 0?null:m)}function Ju(i,o,h,m){var _=Hn();m=m===void 0?null:m;var N=_.memoizedState.inst;Je!==null&&m!==null&&dr(m,Je.memoizedState.deps)?_.memoizedState=$o(o,h,N,m):(nt.flags|=i,_.memoizedState=$o(1|o,h,N,m))}function Vd(i,o){el(8390656,8,i,o)}function gu(i,o){Ju(2048,8,i,o)}function Ro(i,o){return Ju(4,2,i,o)}function zd(i,o){return Ju(4,4,i,o)}function Hd(i,o){if(typeof o=="function"){i=i();var h=o(i);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function qd(i,o,h){h=h!=null?h.concat([i]):null,Ju(4,4,Hd.bind(null,o,i),h)}function $u(){}function pu(i,o){var h=Hn();o=o===void 0?null:o;var m=h.memoizedState;return o!==null&&dr(o,m[1])?m[0]:(h.memoizedState=[i,o],i)}function df(i,o){var h=Hn();o=o===void 0?null:o;var m=h.memoizedState;if(o!==null&&dr(o,m[1]))return m[0];if(m=i(),wt){$t(!0);try{i()}finally{$t(!1)}}return h.memoizedState=[m,o],m}function eh(i,o,h){return h===void 0||(ze&1073741824)!==0?i.memoizedState=o:(i.memoizedState=h,i=A5(),nt.lanes|=i,Ac|=i,h)}function mu(i,o,h,m){return d(h,o)?h:oc.current!==null?(i=eh(i,h,m),d(i,o)||(Ts=!0),i):(ze&42)===0?(Ts=!0,i.memoizedState=h):(i=A5(),nt.lanes|=i,Ac|=i,o)}function th(i,o,h,m,_){var N=fe.p;fe.p=N!==0&&8>N?N:8;var K=j.T,he={};j.T=he,tl(i,!1,o,h);try{var Ee=_(),qe=j.S;if(qe!==null&&qe(he,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var dt=ue(Ee,m);uc(i,o,dt,$a(i))}else uc(i,o,m,$a(i))}catch(Ct){uc(i,o,{then:function(){},status:"rejected",reason:Ct},$a())}finally{fe.p=N,j.T=K}}function yu(){}function nh(i,o,h,m){if(i.tag!==5)throw Error(r(476));var _=Gd(i).queue;th(i,_,o,be,h===null?yu:function(){return vu(i),h(m)})}function Gd(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:be},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:h},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function vu(i){var o=Gd(i).next.queue;uc(i,o,{},$a())}function rh(){return na(Pf)}function ih(){return Hn().memoizedState}function Lo(){return Hn().memoizedState}function Wd(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var h=$a();i=mc(h);var m=yc(o,i,h);m!==null&&(wa(m,o,h),vf(m,o,h)),o={cache:Qu()},i.payload=o;return}o=o.return}}function Yd(i,o,h){var m=$a();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},sh(i)?gf(o,h):(h=wl(i,o,h,m),h!==null&&(wa(h,i,m),Kd(h,o,m)))}function Xd(i,o,h){var m=$a();uc(i,o,h,m)}function uc(i,o,h,m){var _={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(sh(i))gf(o,_);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var K=o.lastRenderedState,he=N(K,h);if(_.hasEagerState=!0,_.eagerState=he,d(he,K))return Ca(i,o,_,0),fi===null&&Ei(),!1}catch{}finally{}if(h=wl(i,o,_,m),h!==null)return wa(h,i,m),Kd(h,o,m),!0}return!1}function tl(i,o,h,m){if(m={lane:2,revertLane:z2(),action:m,hasEagerState:!1,eagerState:null,next:null},sh(i)){if(o)throw Error(r(479))}else o=wl(i,h,m,2),o!==null&&wa(o,i,2)}function sh(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function gf(i,o){ft=Fe=!0;var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}function Kd(i,o,h){if((h&4194176)!==0){var m=o.lanes;m&=i.pendingLanes,h|=m,o.lanes=h,Yr(i,h)}}var Xa={readContext:na,use:Ss,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It};Xa.useCacheRefresh=It,Xa.useMemoCache=It,Xa.useHostTransitionStatus=It,Xa.useFormState=It,Xa.useActionState=It,Xa.useOptimistic=It;var Cl={readContext:na,use:Ss,useCallback:function(i,o){return Fr().memoizedState=[i,o===void 0?null:o],i},useContext:na,useEffect:Vd,useImperativeHandle:function(i,o,h){h=h!=null?h.concat([i]):null,el(4194308,4,Hd.bind(null,o,i),h)},useLayoutEffect:function(i,o){return el(4194308,4,i,o)},useInsertionEffect:function(i,o){el(4,2,i,o)},useMemo:function(i,o){var h=Fr();o=o===void 0?null:o;var m=i();if(wt){$t(!0);try{i()}finally{$t(!1)}}return h.memoizedState=[m,o],m},useReducer:function(i,o,h){var m=Fr();if(h!==void 0){var _=h(o);if(wt){$t(!0);try{h(o)}finally{$t(!1)}}}else _=o;return m.memoizedState=m.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},m.queue=i,i=i.dispatch=Yd.bind(null,nt,i),[m.memoizedState,i]},useRef:function(i){var o=Fr();return i={current:i},o.memoizedState=i},useState:function(i){i=hi(i);var o=i.queue,h=Xd.bind(null,nt,o);return o.dispatch=h,[i.memoizedState,h]},useDebugValue:$u,useDeferredValue:function(i,o){var h=Fr();return eh(h,i,o)},useTransition:function(){var i=hi(!1);return i=th.bind(null,nt,i.queue,!0,!1),Fr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,h){var m=nt,_=Fr();if(wr){if(h===void 0)throw Error(r(407));h=h()}else{if(h=o(),fi===null)throw Error(r(349));(xr&60)!==0||Xi(m,o,h)}_.memoizedState=h;var N={value:h,getSnapshot:o};return _.queue=N,Vd(Jo.bind(null,m,N,i),[i]),m.flags|=2048,$o(9,fo.bind(null,m,N,h,o),{destroy:void 0},null),h},useId:function(){var i=Fr(),o=fi.identifierPrefix;if(wr){var h=Ha,m=za;h=(m&~(1<<32-xn(m)-1)).toString(32)+h,o=":"+o+"R"+h,h=mt++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=hn++,o=":"+o+"r"+h.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return Fr().memoizedState=Wd.bind(null,nt)}};Cl.useMemoCache=Bs,Cl.useHostTransitionStatus=rh,Cl.useFormState=Tl,Cl.useActionState=Tl,Cl.useOptimistic=function(i){var o=Fr();o.memoizedState=o.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=tl.bind(null,nt,!0,h),h.dispatch=o,[i,o]};var Da={readContext:na,use:Ss,useCallback:pu,useContext:na,useEffect:gu,useImperativeHandle:qd,useInsertionEffect:Ro,useLayoutEffect:zd,useMemo:df,useReducer:Fi,useRef:du,useState:function(){return Fi(qr)},useDebugValue:$u,useDeferredValue:function(i,o){var h=Hn();return mu(h,Je.memoizedState,i,o)},useTransition:function(){var i=Fi(qr)[0],o=Hn().memoizedState;return[typeof i=="boolean"?i:gr(i),o]},useSyncExternalStore:Ya,useId:ih};Da.useCacheRefresh=Lo,Da.useMemoCache=Bs,Da.useHostTransitionStatus=rh,Da.useFormState=ff,Da.useActionState=ff,Da.useOptimistic=function(i,o){var h=Hn();return Zu(h,Je,i,o)};var Do={readContext:na,use:Ss,useCallback:pu,useContext:na,useEffect:gu,useImperativeHandle:qd,useInsertionEffect:Ro,useLayoutEffect:zd,useMemo:df,useReducer:ta,useRef:du,useState:function(){return ta(qr)},useDebugValue:$u,useDeferredValue:function(i,o){var h=Hn();return Je===null?eh(h,i,o):mu(h,Je.memoizedState,i,o)},useTransition:function(){var i=ta(qr)[0],o=Hn().memoizedState;return[typeof i=="boolean"?i:gr(i),o]},useSyncExternalStore:Ya,useId:ih};Do.useCacheRefresh=Lo,Do.useMemoCache=Bs,Do.useHostTransitionStatus=rh,Do.useFormState=fu,Do.useActionState=fu,Do.useOptimistic=function(i,o){var h=Hn();return Je!==null?Zu(h,Je,i,o):(h.baseState=i,[i,h.queue.dispatch])};function hc(i,o,h,m){o=i.memoizedState,h=h(m,o),h=h==null?o:ae({},o,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Ka={isMounted:function(i){return(i=i._reactInternals)?_e(i)===i:!1},enqueueSetState:function(i,o,h){i=i._reactInternals;var m=$a(),_=mc(m);_.payload=o,h!=null&&(_.callback=h),o=yc(i,_,m),o!==null&&(wa(o,i,m),vf(o,i,m))},enqueueReplaceState:function(i,o,h){i=i._reactInternals;var m=$a(),_=mc(m);_.tag=1,_.payload=o,h!=null&&(_.callback=h),o=yc(i,_,m),o!==null&&(wa(o,i,m),vf(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var h=$a(),m=mc(h);m.tag=2,o!=null&&(m.callback=o),o=yc(i,m,h),o!==null&&(wa(o,i,h),vf(o,i,h))}};function Oo(i,o,h,m,_,N,K){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,N,K):o.prototype&&o.prototype.isPureReactComponent?!g(h,m)||!g(_,N):!0}function Mo(i,o,h,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==i&&Ka.enqueueReplaceState(o,o.state,null)}function go(i,o){var h=o;if("ref"in o){h={};for(var m in o)m!=="ref"&&(h[m]=o[m])}if(i=i.defaultProps){h===o&&(h=ae({},h));for(var _ in i)h[_]===void 0&&(h[_]=i[_])}return h}var fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function pf(i){fc(i)}function Qd(i){console.error(i)}function ah(i){fc(i)}function dc(i,o){try{var h=i.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Pm(i,o,h){try{var m=i.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function n2(i,o,h){return h=mc(h),h.tag=3,h.payload={element:null},h.callback=function(){dc(i,o)},h}function km(i){return i=mc(i),i.tag=3,i}function Bm(i,o,h,m){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var N=m.value;i.payload=function(){return _(N)},i.callback=function(){Pm(o,h,m)}}var K=h.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(i.callback=function(){Pm(o,h,m),typeof _!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var he=m.stack;this.componentDidCatch(m.value,{componentStack:he!==null?he:""})})}function Sb(i,o,h,m,_){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=h.alternate,o!==null&&yf(o,h,_,!0),h=Ra.current,h!==null){switch(h.tag){case 13:return Wa===null?B2():h.alternate===null&&Ui===0&&(Ui=3),h.flags&=-257,h.flags|=65536,h.lanes=_,m===of?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([m]):o.add(m),j2(i,m,_)),!1;case 22:return h.flags|=65536,m===of?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([m]):h.add(m)),j2(i,m,_)),!1}throw Error(r(435,h.tag))}return j2(i,m,_),B2(),!1}if(wr)return o=Ra.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,m!==af&&(i=Error(r(422),{cause:m}),ac(yi(i,h)))):(m!==af&&(o=Error(r(423),{cause:m}),ac(yi(o,h))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,m=yi(m,h),_=n2(i.stateNode,m,_),y2(i,_),Ui!==4&&(Ui=2)),!1;var N=Error(r(520),{cause:m});if(N=yi(N,h),Tf===null?Tf=[N]:Tf.push(N),Ui!==4&&(Ui=2),o===null)return!0;m=yi(m,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,i=_&-_,h.lanes|=i,i=n2(h.stateNode,m,i),y2(h,i),!1;case 1:if(o=h.type,N=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(_c===null||!_c.has(N))))return h.flags|=65536,_&=-_,h.lanes|=_,_=km(_),Bm(_,i,h,m),y2(h,_),!1}h=h.return}while(h!==null);return!1}var Fm=Error(r(461)),Ts=!1;function Fs(i,o,h,m){o.child=i===null?uf(o,null,h,m):Ko(o,i.child,h,m)}function jm(i,o,h,m,_){h=h.render;var N=o.ref;if("ref"in m){var K={};for(var he in m)he!=="ref"&&(K[he]=m[he])}else K=m;return xu(o),m=Sr(i,o,h,K,N,_),he=Nr(),i!==null&&!Ts?(In(i,o,_),Il(i,o,_)):(wr&&he&&rf(o),o.flags|=1,Fs(i,o,m,_),o.child)}function Um(i,o,h,m,_){if(i===null){var N=h.type;return typeof N=="function"&&!S2(N)&&N.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=N,Vm(i,o,N,m,_)):(i=t1(h.type,null,m,o,o.mode,_),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!h2(i,_)){var K=N.memoizedProps;if(h=h.compare,h=h!==null?h:g,h(K,m)&&i.ref===o.ref)return Il(i,o,_)}return o.flags|=1,i=bc(N,m),i.ref=o.ref,i.return=o,o.child=i}function Vm(i,o,h,m,_){if(i!==null){var N=i.memoizedProps;if(g(N,m)&&i.ref===o.ref)if(Ts=!1,o.pendingProps=m=N,h2(i,_))(i.flags&131072)!==0&&(Ts=!0);else return o.lanes=i.lanes,Il(i,o,_)}return r2(i,o,h,m,_)}function zm(i,o,h){var m=o.pendingProps,_=m.children,N=(o.stateNode._pendingVisibility&2)!==0,K=i!==null?i.memoizedState:null;if(mf(i,o),m.mode==="hidden"||N){if((o.flags&128)!==0){if(m=K!==null?K.baseLanes|h:h,i!==null){for(_=o.child=i.child,N=0;_!==null;)N=N|_.lanes|_.childLanes,_=_.sibling;o.childLanes=N&~m}else o.childLanes=0,o.child=null;return Hm(i,o,m,h)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ze(o,K!==null?K.cachePool:null),K!==null?lu(o,K):_l(),Bd(o);else return o.lanes=o.childLanes=536870912,Hm(i,o,K!==null?K.baseLanes|h:h,h)}else K!==null?(Ze(o,K.cachePool),lu(o,K),Zo(),o.memoizedState=null):(i!==null&&Ze(o,null),_l(),Zo());return Fs(i,o,_,h),o.child}function Hm(i,o,h,m){var _=Me();return _=_===null?null:{parent:Yi._currentValue,pool:_},o.memoizedState={baseLanes:h,cachePool:_},i!==null&&Ze(o,null),_l(),Bd(o),i!==null&&yf(i,o,m,!0),null}function mf(i,o){var h=o.ref;if(h===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(i===null||i.ref!==h)&&(o.flags|=2097664)}}function r2(i,o,h,m,_){return xu(o),h=Sr(i,o,h,m,void 0,_),m=Nr(),i!==null&&!Ts?(In(i,o,_),Il(i,o,_)):(wr&&m&&rf(o),o.flags|=1,Fs(i,o,h,_),o.child)}function qm(i,o,h,m,_,N){return xu(o),o.updateQueue=null,h=Zn(o,m,h,_),sr(i),m=Nr(),i!==null&&!Ts?(In(i,o,N),Il(i,o,N)):(wr&&m&&rf(o),o.flags|=1,Fs(i,o,h,N),o.child)}function Gm(i,o,h,m,_){if(xu(o),o.stateNode===null){var N=Eo,K=h.contextType;typeof K=="object"&&K!==null&&(N=na(K)),N=new h(m,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Ka,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=m,N.state=o.memoizedState,N.refs={},p2(o),K=h.contextType,N.context=typeof K=="object"&&K!==null?na(K):Eo,N.state=o.memoizedState,K=h.getDerivedStateFromProps,typeof K=="function"&&(hc(o,h,K,m),N.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(K=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),K!==N.state&&Ka.enqueueReplaceState(N,N.state,null),xf(o,m,N,_),wf(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){N=o.stateNode;var he=o.memoizedProps,Ee=go(h,he);N.props=Ee;var qe=N.context,dt=h.contextType;K=Eo,typeof dt=="object"&&dt!==null&&(K=na(dt));var Ct=h.getDerivedStateFromProps;dt=typeof Ct=="function"||typeof N.getSnapshotBeforeUpdate=="function",he=o.pendingProps!==he,dt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(he||qe!==K)&&Mo(o,N,m,K),pc=!1;var it=o.memoizedState;N.state=it,xf(o,m,N,_),wf(),qe=o.memoizedState,he||it!==qe||pc?(typeof Ct=="function"&&(hc(o,h,Ct,m),qe=o.memoizedState),(Ee=pc||Oo(o,h,Ee,m,it,qe,K))?(dt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=qe),N.props=m,N.state=qe,N.context=K,m=Ee):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{N=o.stateNode,m2(i,o),K=o.memoizedProps,dt=go(h,K),N.props=dt,Ct=o.pendingProps,it=N.context,qe=h.contextType,Ee=Eo,typeof qe=="object"&&qe!==null&&(Ee=na(qe)),he=h.getDerivedStateFromProps,(qe=typeof he=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==Ct||it!==Ee)&&Mo(o,N,m,Ee),pc=!1,it=o.memoizedState,N.state=it,xf(o,m,N,_),wf();var ht=o.memoizedState;K!==Ct||it!==ht||pc||i!==null&&i.dependencies!==null&&Zd(i.dependencies)?(typeof he=="function"&&(hc(o,h,he,m),ht=o.memoizedState),(dt=pc||Oo(o,h,dt,m,it,ht,Ee)||i!==null&&i.dependencies!==null&&Zd(i.dependencies))?(qe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,ht,Ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,ht,Ee)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||K===i.memoizedProps&&it===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===i.memoizedProps&&it===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ht),N.props=m,N.state=ht,N.context=Ee,m=dt):(typeof N.componentDidUpdate!="function"||K===i.memoizedProps&&it===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===i.memoizedProps&&it===i.memoizedState||(o.flags|=1024),m=!1)}return N=m,mf(i,o),m=(o.flags&128)!==0,N||m?(N=o.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&m?(o.child=Ko(o,i.child,null,_),o.child=Ko(o,null,h,_)):Fs(i,o,h,_),o.memoizedState=N.state,i=o.child):i=Il(i,o,_),i}function Wm(i,o,h,m){return su(),o.flags|=256,Fs(i,o,h,m),o.child}var i2={dehydrated:null,treeContext:null,retryLane:0};function s2(i){return{baseLanes:i,cachePool:$e()}}function a2(i,o,h){return i=i!==null?i.childLanes&~h:0,o&&(i|=vo),i}function Ym(i,o,h){var m=o.pendingProps,_=!1,N=(o.flags&128)!==0,K;if((K=N)||(K=i!==null&&i.memoizedState===null?!1:(Wi.current&2)!==0),K&&(_=!0,o.flags&=-129),K=(o.flags&32)!==0,o.flags&=-33,i===null){if(wr){if(_?Qo(o):Zo(),wr){var he=cs,Ee;if(Ee=he){e:{for(Ee=he,he=ho;Ee.nodeType!==8;){if(!he){he=null;break e}if(Ee=ko(Ee.nextSibling),Ee===null){he=null;break e}}he=Ee}he!==null?(o.memoizedState={dehydrated:he,treeContext:Xo!==null?{id:za,overflow:Ha}:null,retryLane:536870912},Ee=yo(18,null,null,0),Ee.stateNode=he,Ee.return=o,o.child=Ee,Es=o,cs=null,Ee=!0):Ee=!1}Ee||Co(o)}if(he=o.memoizedState,he!==null&&(he=he.dehydrated,he!==null))return he.data==="$!"?o.lanes=16:o.lanes=536870912,null;Io(o)}return he=m.children,m=m.fallback,_?(Zo(),_=o.mode,he=l2({mode:"hidden",children:he},_),m=Au(m,_,h,null),he.return=o,m.return=o,he.sibling=m,o.child=he,_=o.child,_.memoizedState=s2(h),_.childLanes=a2(i,K,h),o.memoizedState=i2,m):(Qo(o),o2(o,he))}if(Ee=i.memoizedState,Ee!==null&&(he=Ee.dehydrated,he!==null)){if(N)o.flags&256?(Qo(o),o.flags&=-257,o=c2(i,o,h)):o.memoizedState!==null?(Zo(),o.child=i.child,o.flags|=128,o=null):(Zo(),_=m.fallback,he=o.mode,m=l2({mode:"visible",children:m.children},he),_=Au(_,he,h,null),_.flags|=2,m.return=o,_.return=o,m.sibling=_,o.child=m,Ko(o,i.child,null,h),m=o.child,m.memoizedState=s2(h),m.childLanes=a2(i,K,h),o.memoizedState=i2,o=_);else if(Qo(o),he.data==="$!"){if(K=he.nextSibling&&he.nextSibling.dataset,K)var qe=K.dgst;K=qe,m=Error(r(419)),m.stack="",m.digest=K,ac({value:m,source:null,stack:null}),o=c2(i,o,h)}else if(Ts||yf(i,o,h,!1),K=(h&i.childLanes)!==0,Ts||K){if(K=fi,K!==null){if(m=h&-h,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(K.suspendedLanes|h))!==0?0:m,m!==0&&m!==Ee.retryLane)throw Ee.retryLane=m,ya(i,m),wa(K,i,m),Fm}he.data==="$?"||B2(),o=c2(i,o,h)}else he.data==="$?"?(o.flags|=128,o.child=i.child,o=Ub.bind(null,i),he._reactRetry=o,o=null):(i=Ee.treeContext,cs=ko(he.nextSibling),Es=o,wr=!0,qa=null,ho=!1,i!==null&&(Ps[ea++]=za,Ps[ea++]=Ha,Ps[ea++]=Xo,za=i.id,Ha=i.overflow,Xo=o),o=o2(o,m.children),o.flags|=4096);return o}return _?(Zo(),_=m.fallback,he=o.mode,Ee=i.child,qe=Ee.sibling,m=bc(Ee,{mode:"hidden",children:m.children}),m.subtreeFlags=Ee.subtreeFlags&31457280,qe!==null?_=bc(qe,_):(_=Au(_,he,h,null),_.flags|=2),_.return=o,m.return=o,m.sibling=_,o.child=m,m=_,_=o.child,he=i.child.memoizedState,he===null?he=s2(h):(Ee=he.cachePool,Ee!==null?(qe=Yi._currentValue,Ee=Ee.parent!==qe?{parent:qe,pool:qe}:Ee):Ee=$e(),he={baseLanes:he.baseLanes|h,cachePool:Ee}),_.memoizedState=he,_.childLanes=a2(i,K,h),o.memoizedState=i2,m):(Qo(o),h=i.child,i=h.sibling,h=bc(h,{mode:"visible",children:m.children}),h.return=o,h.sibling=null,i!==null&&(K=o.deletions,K===null?(o.deletions=[i],o.flags|=16):K.push(i)),o.child=h,o.memoizedState=null,h)}function o2(i,o){return o=l2({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function l2(i,o){return w5(i,o,0,null)}function c2(i,o,h){return Ko(o,i.child,null,h),i=o2(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Xm(i,o,h){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),d2(i.return,o,h)}function u2(i,o,h,m,_){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:_}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=h,N.tailMode=_)}function Km(i,o,h){var m=o.pendingProps,_=m.revealOrder,N=m.tail;if(Fs(i,o,m.children,h),m=Wi.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xm(i,h,o);else if(i.tag===19)Xm(i,h,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(ct(Wi,m),_){case"forwards":for(h=o.child,_=null;h!==null;)i=h.alternate,i!==null&&Xu(i)===null&&(_=h),h=h.sibling;h=_,h===null?(_=o.child,o.child=null):(_=h.sibling,h.sibling=null),u2(o,!1,_,h,N);break;case"backwards":for(h=null,_=o.child,o.child=null;_!==null;){if(i=_.alternate,i!==null&&Xu(i)===null){o.child=_;break}i=_.sibling,_.sibling=h,h=_,_=i}u2(o,!0,h,null,N);break;case"together":u2(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Il(i,o,h){if(i!==null&&(o.dependencies=i.dependencies),Ac|=o.lanes,(h&o.childLanes)===0)if(i!==null){if(yf(i,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,h=bc(i,i.pendingProps),o.child=h,h.return=o;i.sibling!==null;)i=i.sibling,h=h.sibling=bc(i,i.pendingProps),h.return=o;h.sibling=null}return o.child}function h2(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Zd(i)))}function Tb(i,o,h){switch(o.tag){case 3:st(o,o.stateNode.containerInfo),gc(o,Yi,i.memoizedState.cache),su();break;case 27:case 5:Gt(o);break;case 4:st(o,o.stateNode.containerInfo);break;case 10:gc(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Qo(o),o.flags|=128,null):(h&o.child.childLanes)!==0?Ym(i,o,h):(Qo(o),i=Il(i,o,h),i!==null?i.sibling:null);Qo(o);break;case 19:var _=(i.flags&128)!==0;if(m=(h&o.childLanes)!==0,m||(yf(i,o,h,!1),m=(h&o.childLanes)!==0),_){if(m)return Km(i,o,h);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ct(Wi,Wi.current),m)break;return null;case 22:case 23:return o.lanes=0,zm(i,o,h);case 24:gc(o,Yi,i.memoizedState.cache)}return Il(i,o,h)}function Qm(i,o,h){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ts=!0;else{if(!h2(i,h)&&(o.flags&128)===0)return Ts=!1,Tb(i,o,h);Ts=(i.flags&131072)!==0}else Ts=!1,wr&&(o.flags&1048576)!==0&&Gu(o,xl,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var m=o.elementType,_=m._init;if(m=_(m._payload),o.type=m,typeof m=="function")S2(m)?(i=go(m,i),o.tag=1,o=Gm(null,o,m,i,h)):(o.tag=0,o=r2(null,o,m,i,h));else{if(m!=null){if(_=m.$$typeof,_===H){o.tag=11,o=jm(null,o,m,i,h);break e}else if(_===G){o.tag=14,o=Um(null,o,m,i,h);break e}}throw o=z(m)||m,Error(r(306,o,""))}}return o;case 0:return r2(i,o,o.type,o.pendingProps,h);case 1:return m=o.type,_=go(m,o.pendingProps),Gm(i,o,m,_,h);case 3:e:{if(st(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var N=o.pendingProps;_=o.memoizedState,m=_.element,m2(i,o),xf(o,N,null,h);var K=o.memoizedState;if(N=K.cache,gc(o,Yi,N),N!==_.cache&&g2(o,[Yi],h,!0),wf(),N=K.element,_.isDehydrated)if(_={element:N,isDehydrated:!1,cache:K.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Wm(i,o,N,h);break e}else if(N!==m){m=yi(Error(r(424)),o),ac(m),o=Wm(i,o,N,h);break e}else for(cs=ko(o.stateNode.containerInfo.firstChild),Es=o,wr=!0,qa=null,ho=!0,h=uf(o,null,N,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(su(),N===m){o=Il(i,o,h);break e}Fs(i,o,N,h)}o=o.child}return o;case 26:return mf(i,o),i===null?(h=$5(o.type,null,o.pendingProps,null))?o.memoizedState=h:wr||(h=o.type,i=o.pendingProps,m=d1(gt.current).createElement(h),m[cr]=o,m[ur]=i,js(m,h,i),ir(m),o.stateNode=m):o.memoizedState=$5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Gt(o),i===null&&wr&&(m=o.stateNode=Q5(o.type,o.pendingProps,gt.current),Es=o,ho=!0,cs=ko(m.firstChild)),m=o.pendingProps.children,i!==null||wr?Fs(i,o,m,h):o.child=Ko(o,null,m,h),mf(i,o),o.child;case 5:return i===null&&wr&&((_=m=cs)&&(m=nA(m,o.type,o.pendingProps,ho),m!==null?(o.stateNode=m,Es=o,cs=ko(m.firstChild),ho=!1,_=!0):_=!1),_||Co(o)),Gt(o),_=o.type,N=o.pendingProps,K=i!==null?i.memoizedProps:null,m=N.children,Z2(_,N)?m=null:K!==null&&Z2(_,K)&&(o.flags|=32),o.memoizedState!==null&&(_=Sr(i,o,Br,null,null,h),Pf._currentValue=_),mf(i,o),Fs(i,o,m,h),o.child;case 6:return i===null&&wr&&((i=h=cs)&&(h=rA(h,o.pendingProps,ho),h!==null?(o.stateNode=h,Es=o,cs=null,i=!0):i=!1),i||Co(o)),null;case 13:return Ym(i,o,h);case 4:return st(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ko(o,null,m,h):Fs(i,o,m,h),o.child;case 11:return jm(i,o,o.type,o.pendingProps,h);case 7:return Fs(i,o,o.pendingProps,h),o.child;case 8:return Fs(i,o,o.pendingProps.children,h),o.child;case 12:return Fs(i,o,o.pendingProps.children,h),o.child;case 10:return m=o.pendingProps,gc(o,o.type,m.value),Fs(i,o,m.children,h),o.child;case 9:return _=o.type._context,m=o.pendingProps.children,xu(o),_=na(_),m=m(_),o.flags|=1,Fs(i,o,m,h),o.child;case 14:return Um(i,o,o.type,o.pendingProps,h);case 15:return Vm(i,o,o.type,o.pendingProps,h);case 19:return Km(i,o,h);case 22:return zm(i,o,h);case 24:return xu(o),m=na(Yi),i===null?(_=Me(),_===null&&(_=fi,N=Qu(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=h),_=N),o.memoizedState={parent:m,cache:_},p2(o),gc(o,Yi,_)):((i.lanes&h)!==0&&(m2(i,o),xf(o,null,null,h),wf()),_=i.memoizedState,N=o.memoizedState,_.parent!==m?(_={parent:m,cache:m},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),gc(o,Yi,m)):(m=N.cache,gc(o,Yi,m),m!==_.cache&&g2(o,[Yi],h,!0))),Fs(i,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var f2=Pe(null),wu=null,Nl=null;function gc(i,o,h){ct(f2,o._currentValue),o._currentValue=h}function Rl(i){i._currentValue=f2.current,Ye(f2)}function d2(i,o,h){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===h)break;i=i.return}}function g2(i,o,h,m){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var N=_.dependencies;if(N!==null){var K=_.child;N=N.firstContext;e:for(;N!==null;){var he=N;N=_;for(var Ee=0;Ee<o.length;Ee++)if(he.context===o[Ee]){N.lanes|=h,he=N.alternate,he!==null&&(he.lanes|=h),d2(N.return,h,i),m||(K=null);break e}N=he.next}}else if(_.tag===18){if(K=_.return,K===null)throw Error(r(341));K.lanes|=h,N=K.alternate,N!==null&&(N.lanes|=h),d2(K,h,i),K=null}else K=_.child;if(K!==null)K.return=_;else for(K=_;K!==null;){if(K===i){K=null;break}if(_=K.sibling,_!==null){_.return=K.return,K=_;break}K=K.return}_=K}}function yf(i,o,h,m){i=null;for(var _=o,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var K=_.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var he=_.type;d(_.pendingProps.value,K.value)||(i!==null?i.push(he):i=[he])}}else if(_===Yt.current){if(K=_.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(Pf):i=[Pf])}_=_.return}i!==null&&g2(o,i,h,m),o.flags|=262144}function Zd(i){for(i=i.firstContext;i!==null;){if(!d(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xu(i){wu=i,Nl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function na(i){return Zm(wu,i)}function Jd(i,o){return wu===null&&xu(i),Zm(i,o)}function Zm(i,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Nl===null){if(i===null)throw Error(r(308));Nl=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Nl=Nl.next=o;return h}var pc=!1;function p2(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m2(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mc(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yc(i,o,h){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ii&2)!==0){var _=m.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),m.pending=o,o=ic(i),nu(i,null,h),o}return Ca(i,m,o,h),ic(i)}function vf(i,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194176)!==0)){var m=o.lanes;m&=i.pendingLanes,h|=m,o.lanes=h,Yr(i,h)}}function y2(i,o){var h=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var _=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var K={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};N===null?_=N=K:N=N.next=K,h=h.next}while(h!==null);N===null?_=N=o:N=N.next=o}else _=N=o;h={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=o:i.next=o,h.lastBaseUpdate=o}var v2=!1;function wf(){if(v2){var i=$;if(i!==null)throw i}}function xf(i,o,h,m){v2=!1;var _=i.updateQueue;pc=!1;var N=_.firstBaseUpdate,K=_.lastBaseUpdate,he=_.shared.pending;if(he!==null){_.shared.pending=null;var Ee=he,qe=Ee.next;Ee.next=null,K===null?N=qe:K.next=qe,K=Ee;var dt=i.alternate;dt!==null&&(dt=dt.updateQueue,he=dt.lastBaseUpdate,he!==K&&(he===null?dt.firstBaseUpdate=qe:he.next=qe,dt.lastBaseUpdate=Ee))}if(N!==null){var Ct=_.baseState;K=0,dt=qe=Ee=null,he=N;do{var it=he.lane&-536870913,ht=it!==he.lane;if(ht?(xr&it)===it:(m&it)===it){it!==0&&it===k&&(v2=!0),dt!==null&&(dt=dt.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var rn=i,Dn=he;it=o;var Vi=h;switch(Dn.tag){case 1:if(rn=Dn.payload,typeof rn=="function"){Ct=rn.call(Vi,Ct,it);break e}Ct=rn;break e;case 3:rn.flags=rn.flags&-65537|128;case 0:if(rn=Dn.payload,it=typeof rn=="function"?rn.call(Vi,Ct,it):rn,it==null)break e;Ct=ae({},Ct,it);break e;case 2:pc=!0}}it=he.callback,it!==null&&(i.flags|=64,ht&&(i.flags|=8192),ht=_.callbacks,ht===null?_.callbacks=[it]:ht.push(it))}else ht={lane:it,tag:he.tag,payload:he.payload,callback:he.callback,next:null},dt===null?(qe=dt=ht,Ee=Ct):dt=dt.next=ht,K|=it;if(he=he.next,he===null){if(he=_.shared.pending,he===null)break;ht=he,he=ht.next,ht.next=null,_.lastBaseUpdate=ht,_.shared.pending=null}}while(!0);dt===null&&(Ee=Ct),_.baseState=Ee,_.firstBaseUpdate=qe,_.lastBaseUpdate=dt,N===null&&(_.shared.lanes=0),Ac|=K,i.lanes=K,i.memoizedState=Ct}}function Jm(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function $m(i,o){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)Jm(h[i],o)}function bf(i,o){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&i)===i){m=void 0;var N=h.create,K=h.inst;m=N(),K.destroy=m}h=h.next}while(h!==_)}}catch(he){Jr(o,o.return,he)}}function vc(i,o,h){try{var m=o.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var N=_.next;m=N;do{if((m.tag&i)===i){var K=m.inst,he=K.destroy;if(he!==void 0){K.destroy=void 0,_=o;var Ee=h;try{he()}catch(qe){Jr(_,Ee,qe)}}}m=m.next}while(m!==N)}}catch(qe){Jr(o,o.return,qe)}}function e5(i){var o=i.updateQueue;if(o!==null){var h=i.stateNode;try{$m(o,h)}catch(m){Jr(i,i.return,m)}}}function t5(i,o,h){h.props=go(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(m){Jr(i,o,m)}}function bu(i,o){try{var h=i.ref;if(h!==null){var m=i.stateNode;switch(i.tag){case 26:case 27:case 5:var _=m;break;default:_=m}typeof h=="function"?i.refCleanup=h(_):h.current=_}}catch(N){Jr(i,o,N)}}function Qa(i,o){var h=i.ref,m=i.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(_){Jr(i,o,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Jr(i,o,_)}else h.current=null}function n5(i){var o=i.type,h=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(_){Jr(i,i.return,_)}}function r5(i,o,h){try{var m=i.stateNode;Zb(m,i.type,h,o),m[ur]=o}catch(_){Jr(i,i.return,_)}}function i5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function w2(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||i5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function x2(i,o,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(i,o):h.insertBefore(i,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(i,h)):(o=h,o.appendChild(i)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=f1));else if(m!==4&&m!==27&&(i=i.child,i!==null))for(x2(i,o,h),i=i.sibling;i!==null;)x2(i,o,h),i=i.sibling}function $d(i,o,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?h.insertBefore(i,o):h.appendChild(i);else if(m!==4&&m!==27&&(i=i.child,i!==null))for($d(i,o,h),i=i.sibling;i!==null;)$d(i,o,h),i=i.sibling}var Ll=!1,ji=!1,b2=!1,s5=typeof WeakSet=="function"?WeakSet:Set,Cs=null,a5=!1;function Cb(i,o){if(i=i.containerInfo,K2=w1,i=L(i),B(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var _=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break e}var K=0,he=-1,Ee=-1,qe=0,dt=0,Ct=i,it=null;t:for(;;){for(var ht;Ct!==h||_!==0&&Ct.nodeType!==3||(he=K+_),Ct!==N||m!==0&&Ct.nodeType!==3||(Ee=K+m),Ct.nodeType===3&&(K+=Ct.nodeValue.length),(ht=Ct.firstChild)!==null;)it=Ct,Ct=ht;for(;;){if(Ct===i)break t;if(it===h&&++qe===_&&(he=K),it===N&&++dt===m&&(Ee=K),(ht=Ct.nextSibling)!==null)break;Ct=it,it=Ct.parentNode}Ct=ht}h=he===-1||Ee===-1?null:{start:he,end:Ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(Q2={focusedElem:i,selectionRange:h},w1=!1,Cs=o;Cs!==null;)if(o=Cs,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Cs=i;else for(;Cs!==null;){switch(o=Cs,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,h=o,_=N.memoizedProps,N=N.memoizedState,m=h.stateNode;try{var rn=go(h.type,_,h.elementType===h.type);i=m.getSnapshotBeforeUpdate(rn,N),m.__reactInternalSnapshotBeforeUpdate=i}catch(Dn){Jr(h,h.return,Dn)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,h=i.nodeType,h===9)eg(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Cs=i;break}Cs=o.return}return rn=a5,a5=!1,rn}function o5(i,o,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ol(i,h),m&4&&bf(5,h);break;case 1:if(Ol(i,h),m&4)if(i=h.stateNode,o===null)try{i.componentDidMount()}catch(he){Jr(h,h.return,he)}else{var _=go(h.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(_,o,i.__reactInternalSnapshotBeforeUpdate)}catch(he){Jr(h,h.return,he)}}m&64&&e5(h),m&512&&bu(h,h.return);break;case 3:if(Ol(i,h),m&64&&(m=h.updateQueue,m!==null)){if(i=null,h.child!==null)switch(h.child.tag){case 27:case 5:i=h.child.stateNode;break;case 1:i=h.child.stateNode}try{$m(m,i)}catch(he){Jr(h,h.return,he)}}break;case 26:Ol(i,h),m&512&&bu(h,h.return);break;case 27:case 5:Ol(i,h),o===null&&m&4&&n5(h),m&512&&bu(h,h.return);break;case 12:Ol(i,h);break;case 13:Ol(i,h),m&4&&u5(i,h);break;case 22:if(_=h.memoizedState!==null||Ll,!_){o=o!==null&&o.memoizedState!==null||ji;var N=Ll,K=ji;Ll=_,(ji=o)&&!K?wc(i,h,(h.subtreeFlags&8772)!==0):Ol(i,h),Ll=N,ji=K}m&512&&(h.memoizedProps.mode==="manual"?bu(h,h.return):Qa(h,h.return));break;default:Ol(i,h)}}function l5(i){var o=i.alternate;o!==null&&(i.alternate=null,l5(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&qs(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var is=null,Za=!1;function Dl(i,o,h){for(h=h.child;h!==null;)c5(i,o,h),h=h.sibling}function c5(i,o,h){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(en,h)}catch{}switch(h.tag){case 26:ji||Qa(h,o),Dl(i,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ji||Qa(h,o);var m=is,_=Za;for(is=h.stateNode,Dl(i,o,h),h=h.stateNode,o=h.attributes;o.length;)h.removeAttributeNode(o[0]);qs(h),is=m,Za=_;break;case 5:ji||Qa(h,o);case 6:_=is;var N=Za;if(is=null,Dl(i,o,h),is=_,Za=N,is!==null)if(Za)try{i=is,m=h.stateNode,i.nodeType===8?i.parentNode.removeChild(m):i.removeChild(m)}catch(K){Jr(h,o,K)}else try{is.removeChild(h.stateNode)}catch(K){Jr(h,o,K)}break;case 18:is!==null&&(Za?(o=is,h=h.stateNode,o.nodeType===8?$2(o.parentNode,h):o.nodeType===1&&$2(o,h),jf(o)):$2(is,h.stateNode));break;case 4:m=is,_=Za,is=h.stateNode.containerInfo,Za=!0,Dl(i,o,h),is=m,Za=_;break;case 0:case 11:case 14:case 15:ji||vc(2,h,o),ji||vc(4,h,o),Dl(i,o,h);break;case 1:ji||(Qa(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"&&t5(h,o,m)),Dl(i,o,h);break;case 21:Dl(i,o,h);break;case 22:ji||Qa(h,o),ji=(m=ji)||h.memoizedState!==null,Dl(i,o,h),ji=m;break;default:Dl(i,o,h)}}function u5(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jf(i)}catch(h){Jr(o,o.return,h)}}function Ib(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new s5),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new s5),o;default:throw Error(r(435,i.tag))}}function A2(i,o){var h=Ib(i);o.forEach(function(m){var _=Vb.bind(null,i,m);h.has(m)||(h.add(m),m.then(_,_))})}function po(i,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var _=h[m],N=i,K=o,he=K;e:for(;he!==null;){switch(he.tag){case 27:case 5:is=he.stateNode,Za=!1;break e;case 3:is=he.stateNode.containerInfo,Za=!0;break e;case 4:is=he.stateNode.containerInfo,Za=!0;break e}he=he.return}if(is===null)throw Error(r(160));c5(N,K,_),is=null,Za=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)h5(o,i),o=o.sibling}var Po=null;function h5(i,o){var h=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:po(o,i),mo(i),m&4&&(vc(3,i,i.return),bf(3,i),vc(5,i,i.return));break;case 1:po(o,i),mo(i),m&512&&(ji||h===null||Qa(h,h.return)),m&64&&Ll&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var _=Po;if(po(o,i),mo(i),m&512&&(ji||h===null||Qa(h,h.return)),m&4){var N=h!==null?h.memoizedState:null;if(m=i.memoizedState,h===null)if(m===null)if(i.stateNode===null){e:{m=i.type,h=i.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":N=_.getElementsByTagName("title")[0],(!N||N[ms]||N[cr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(m),_.head.insertBefore(N,_.querySelector("head > title"))),js(N,m,h),N[cr]=i,ir(N),m=N;break e;case"link":var K=ny("link","href",_).get(m+(h.href||""));if(K){for(var he=0;he<K.length;he++)if(N=K[he],N.getAttribute("href")===(h.href==null?null:h.href)&&N.getAttribute("rel")===(h.rel==null?null:h.rel)&&N.getAttribute("title")===(h.title==null?null:h.title)&&N.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){K.splice(he,1);break t}}N=_.createElement(m),js(N,m,h),_.head.appendChild(N);break;case"meta":if(K=ny("meta","content",_).get(m+(h.content||""))){for(he=0;he<K.length;he++)if(N=K[he],N.getAttribute("content")===(h.content==null?null:""+h.content)&&N.getAttribute("name")===(h.name==null?null:h.name)&&N.getAttribute("property")===(h.property==null?null:h.property)&&N.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&N.getAttribute("charset")===(h.charSet==null?null:h.charSet)){K.splice(he,1);break t}}N=_.createElement(m),js(N,m,h),_.head.appendChild(N);break;default:throw Error(r(468,m))}N[cr]=i,ir(N),m=N}i.stateNode=m}else ry(_,i.type,i.stateNode);else i.stateNode=ty(_,m,i.memoizedProps);else N!==m?(N===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):N.count--,m===null?ry(_,i.type,i.stateNode):ty(_,m,i.memoizedProps)):m===null&&i.stateNode!==null&&r5(i,i.memoizedProps,h.memoizedProps)}break;case 27:if(m&4&&i.alternate===null){_=i.stateNode,N=i.memoizedProps;try{for(var Ee=_.firstChild;Ee;){var qe=Ee.nextSibling,dt=Ee.nodeName;Ee[ms]||dt==="HEAD"||dt==="BODY"||dt==="SCRIPT"||dt==="STYLE"||dt==="LINK"&&Ee.rel.toLowerCase()==="stylesheet"||_.removeChild(Ee),Ee=qe}for(var Ct=i.type,it=_.attributes;it.length;)_.removeAttributeNode(it[0]);js(_,Ct,N),_[cr]=i,_[ur]=N}catch(rn){Jr(i,i.return,rn)}}case 5:if(po(o,i),mo(i),m&512&&(ji||h===null||Qa(h,h.return)),i.flags&32){_=i.stateNode;try{es(_,"")}catch(rn){Jr(i,i.return,rn)}}m&4&&i.stateNode!=null&&(_=i.memoizedProps,r5(i,_,h!==null?h.memoizedProps:_)),m&1024&&(b2=!0);break;case 6:if(po(o,i),mo(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,h=i.stateNode;try{h.nodeValue=m}catch(rn){Jr(i,i.return,rn)}}break;case 3:if(m1=null,_=Po,Po=g1(o.containerInfo),po(o,i),Po=_,mo(i),m&4&&h!==null&&h.memoizedState.isDehydrated)try{jf(o.containerInfo)}catch(rn){Jr(i,i.return,rn)}b2&&(b2=!1,f5(i));break;case 4:m=Po,Po=g1(i.stateNode.containerInfo),po(o,i),mo(i),Po=m;break;case 12:po(o,i),mo(i);break;case 13:po(o,i),mo(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(L2=zt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,A2(i,m)));break;case 22:if(m&512&&(ji||h===null||Qa(h,h.return)),Ee=i.memoizedState!==null,qe=h!==null&&h.memoizedState!==null,dt=Ll,Ct=ji,Ll=dt||Ee,ji=Ct||qe,po(o,i),ji=Ct,Ll=dt,mo(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,m&8192&&(o._visibility=Ee?o._visibility&-2:o._visibility|1,Ee&&(o=Ll||ji,h===null||qe||o||oh(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(h=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(h===null){qe=h=o;try{if(_=qe.stateNode,Ee)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{K=qe.stateNode,he=qe.memoizedProps.style;var ht=he!=null&&he.hasOwnProperty("display")?he.display:null;K.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(rn){Jr(qe,qe.return,rn)}}}else if(o.tag===6){if(h===null){qe=o;try{qe.stateNode.nodeValue=Ee?"":qe.memoizedProps}catch(rn){Jr(qe,qe.return,rn)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,A2(i,h))));break;case 19:po(o,i),mo(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,A2(i,m)));break;case 21:break;default:po(o,i),mo(i)}}function mo(i){var o=i.flags;if(o&2){try{if(i.tag!==27){e:{for(var h=i.return;h!==null;){if(i5(h)){var m=h;break e}h=h.return}throw Error(r(160))}switch(m.tag){case 27:var _=m.stateNode,N=w2(i);$d(i,N,_);break;case 5:var K=m.stateNode;m.flags&32&&(es(K,""),m.flags&=-33);var he=w2(i);$d(i,he,K);break;case 3:case 4:var Ee=m.stateNode.containerInfo,qe=w2(i);x2(i,qe,Ee);break;default:throw Error(r(161))}}}catch(dt){Jr(i,i.return,dt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function f5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;f5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ol(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)o5(i,o.alternate,o),o=o.sibling}function oh(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:vc(4,o,o.return),oh(o);break;case 1:Qa(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&t5(o,o.return,h),oh(o);break;case 26:case 27:case 5:Qa(o,o.return),oh(o);break;case 22:Qa(o,o.return),o.memoizedState===null&&oh(o);break;default:oh(o)}i=i.sibling}}function wc(i,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,_=i,N=o,K=N.flags;switch(N.tag){case 0:case 11:case 15:wc(_,N,h),bf(4,N);break;case 1:if(wc(_,N,h),m=N,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(qe){Jr(m,m.return,qe)}if(m=N,_=m.updateQueue,_!==null){var he=m.stateNode;try{var Ee=_.shared.hiddenCallbacks;if(Ee!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Ee.length;_++)Jm(Ee[_],he)}catch(qe){Jr(m,m.return,qe)}}h&&K&64&&e5(N),bu(N,N.return);break;case 26:case 27:case 5:wc(_,N,h),h&&m===null&&K&4&&n5(N),bu(N,N.return);break;case 12:wc(_,N,h);break;case 13:wc(_,N,h),h&&K&4&&u5(_,N);break;case 22:N.memoizedState===null&&wc(_,N,h),bu(N,N.return);break;default:wc(_,N,h)}o=o.sibling}}function _2(i,o){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&x(h))}function E2(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&x(i))}function xc(i,o,h,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)d5(i,o,h,m),o=o.sibling}function d5(i,o,h,m){var _=o.flags;switch(o.tag){case 0:case 11:case 15:xc(i,o,h,m),_&2048&&bf(9,o);break;case 3:xc(i,o,h,m),_&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&x(i)));break;case 12:if(_&2048){xc(i,o,h,m),i=o.stateNode;try{var N=o.memoizedProps,K=N.id,he=N.onPostCommit;typeof he=="function"&&he(K,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ee){Jr(o,o.return,Ee)}}else xc(i,o,h,m);break;case 23:break;case 22:N=o.stateNode,o.memoizedState!==null?N._visibility&4?xc(i,o,h,m):Af(i,o):N._visibility&4?xc(i,o,h,m):(N._visibility|=4,lh(i,o,h,m,(o.subtreeFlags&10256)!==0)),_&2048&&_2(o.alternate,o);break;case 24:xc(i,o,h,m),_&2048&&E2(o.alternate,o);break;default:xc(i,o,h,m)}}function lh(i,o,h,m,_){for(_=_&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,K=o,he=h,Ee=m,qe=K.flags;switch(K.tag){case 0:case 11:case 15:lh(N,K,he,Ee,_),bf(8,K);break;case 23:break;case 22:var dt=K.stateNode;K.memoizedState!==null?dt._visibility&4?lh(N,K,he,Ee,_):Af(N,K):(dt._visibility|=4,lh(N,K,he,Ee,_)),_&&qe&2048&&_2(K.alternate,K);break;case 24:lh(N,K,he,Ee,_),_&&qe&2048&&E2(K.alternate,K);break;default:lh(N,K,he,Ee,_)}o=o.sibling}}function Af(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=i,m=o,_=m.flags;switch(m.tag){case 22:Af(h,m),_&2048&&_2(m.alternate,m);break;case 24:Af(h,m),_&2048&&E2(m.alternate,m);break;default:Af(h,m)}o=o.sibling}}var _f=8192;function ch(i){if(i.subtreeFlags&_f)for(i=i.child;i!==null;)g5(i),i=i.sibling}function g5(i){switch(i.tag){case 26:ch(i),i.flags&_f&&i.memoizedState!==null&&mA(Po,i.memoizedState,i.memoizedProps);break;case 5:ch(i);break;case 3:case 4:var o=Po;Po=g1(i.stateNode.containerInfo),ch(i),Po=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=_f,_f=16777216,ch(i),_f=o):ch(i));break;default:ch(i)}}function p5(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ef(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];Cs=m,y5(m,i)}p5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m5(i),i=i.sibling}function m5(i){switch(i.tag){case 0:case 11:case 15:Ef(i),i.flags&2048&&vc(9,i,i.return);break;case 3:Ef(i);break;case 12:Ef(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,e1(i)):Ef(i);break;default:Ef(i)}}function e1(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];Cs=m,y5(m,i)}p5(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:vc(8,o,o.return),e1(o);break;case 22:h=o.stateNode,h._visibility&4&&(h._visibility&=-5,e1(o));break;default:e1(o)}i=i.sibling}}function y5(i,o){for(;Cs!==null;){var h=Cs;switch(h.tag){case 0:case 11:case 15:vc(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:x(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Cs=m;else e:for(h=i;Cs!==null;){m=Cs;var _=m.sibling,N=m.return;if(l5(m),m===h){Cs=null;break e}if(_!==null){_.return=N,Cs=_;break e}Cs=N}}}function Nb(i,o,h,m){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(i,o,h,m){return new Nb(i,o,h,m)}function S2(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bc(i,o){var h=i.alternate;return h===null?(h=yo(i.tag,o,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=o,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&31457280,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,o=i.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function v5(i,o){i.flags&=31457282;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,o=h.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function t1(i,o,h,m,_,N){var K=0;if(m=i,typeof i=="function")S2(i)&&(K=1);else if(typeof i=="string")K=gA(i,h,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case v:return Au(h.children,_,N,o);case w:K=8,_|=24;break;case T:return i=yo(12,h,o,_|2),i.elementType=T,i.lanes=N,i;case q:return i=yo(13,h,o,_),i.elementType=q,i.lanes=N,i;case J:return i=yo(19,h,o,_),i.elementType=J,i.lanes=N,i;case le:return w5(h,_,N,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case R:K=10;break e;case M:K=9;break e;case H:K=11;break e;case G:K=14;break e;case te:K=16,m=null;break e}K=29,h=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=yo(K,h,o,_),o.elementType=i,o.type=m,o.lanes=N,o}function Au(i,o,h,m){return i=yo(7,i,m,o),i.lanes=h,i}function w5(i,o,h,m){i=yo(22,i,m,o),i.elementType=le,i.lanes=h;var _={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=_._current;if(N===null)throw Error(r(456));if((_._pendingVisibility&2)===0){var K=ya(N,2);K!==null&&(_._pendingVisibility|=2,wa(K,N,2))}},attach:function(){var N=_._current;if(N===null)throw Error(r(456));if((_._pendingVisibility&2)!==0){var K=ya(N,2);K!==null&&(_._pendingVisibility&=-3,wa(K,N,2))}}};return i.stateNode=_,i}function T2(i,o,h){return i=yo(6,i,null,o),i.lanes=h,i}function C2(i,o,h){return o=yo(4,i.children!==null?i.children:[],i.key,o),o.lanes=h,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Ml(i){i.flags|=4}function x5(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iy(o)){if(o=Ra.current,o!==null&&((xr&4194176)===xr?Wa!==null:(xr&62914560)!==xr&&(xr&536870912)===0||o!==Wa))throw va=of,Md;i.flags|=8192}}function n1(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ni():536870912,i.lanes|=o,hh|=o)}function Sf(i,o){if(!wr)switch(i.tailMode){case"hidden":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ci(i){var o=i.alternate!==null&&i.alternate.child===i.child,h=0,m=0;if(o)for(var _=i.child;_!==null;)h|=_.lanes|_.childLanes,m|=_.subtreeFlags&31457280,m|=_.flags&31457280,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)h|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=m,i.childLanes=h,o}function Rb(i,o,h){var m=o.pendingProps;switch(sf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(o),null;case 1:return Ci(o),null;case 3:return h=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Rl(Yi),Ae(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(iu(o)?Ml(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qa!==null&&(P2(qa),qa=null))),Ci(o),null;case 26:return h=o.memoizedState,i===null?(Ml(o),h!==null?(Ci(o),x5(o,h)):(Ci(o),o.flags&=-16777217)):h?h!==i.memoizedState?(Ml(o),Ci(o),x5(o,h)):(Ci(o),o.flags&=-16777217):(i.memoizedProps!==m&&Ml(o),Ci(o),o.flags&=-16777217),null;case 27:Nt(o),h=gt.current;var _=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Ml(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ci(o),null}i=ut.current,iu(o)?Wu(o):(i=Q5(_,m,h),o.stateNode=i,Ml(o))}return Ci(o),null;case 5:if(Nt(o),h=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Ml(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ci(o),null}if(i=ut.current,iu(o))Wu(o);else{switch(_=d1(gt.current),i){case 1:i=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:i=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":i=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":i=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?_.createElement(h,{is:m.is}):_.createElement(h)}}i[cr]=o,i[ur]=m;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=i;e:switch(js(i,h,m),h){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ml(o)}}return Ci(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Ml(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=gt.current,iu(o)){if(i=o.stateNode,h=o.memoizedProps,m=null,_=Es,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}i[cr]=o,i=!!(i.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||q5(i.nodeValue,h)),i||Co(o)}else i=d1(i).createTextNode(m),i[cr]=o,o.stateNode=i}return Ci(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=iu(o),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[cr]=o}else su(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ci(o),_=!1}else qa!==null&&(P2(qa),qa=null),_=!0;if(!_)return o.flags&256?(Io(o),o):(Io(o),null)}if(Io(o),(o.flags&128)!==0)return o.lanes=h,o;if(h=m!==null,i=i!==null&&i.memoizedState!==null,h){m=o.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==_&&(m.flags|=2048)}return h!==i&&h&&(o.child.flags|=8192),n1(o,o.updateQueue),Ci(o),null;case 4:return Ae(),i===null&&W2(o.stateNode.containerInfo),Ci(o),null;case 10:return Rl(o.type),Ci(o),null;case 19:if(Ye(Wi),_=o.memoizedState,_===null)return Ci(o),null;if(m=(o.flags&128)!==0,N=_.rendering,N===null)if(m)Sf(_,!1);else{if(Ui!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Xu(i),N!==null){for(o.flags|=128,Sf(_,!1),i=N.updateQueue,o.updateQueue=i,n1(o,i),o.subtreeFlags=0,i=h,h=o.child;h!==null;)v5(h,i),h=h.sibling;return ct(Wi,Wi.current&1|2),o.child}i=i.sibling}_.tail!==null&&zt()>r1&&(o.flags|=128,m=!0,Sf(_,!1),o.lanes=4194304)}else{if(!m)if(i=Xu(N),i!==null){if(o.flags|=128,m=!0,i=i.updateQueue,o.updateQueue=i,n1(o,i),Sf(_,!0),_.tail===null&&_.tailMode==="hidden"&&!N.alternate&&!wr)return Ci(o),null}else 2*zt()-_.renderingStartTime>r1&&h!==536870912&&(o.flags|=128,m=!0,Sf(_,!1),o.lanes=4194304);_.isBackwards?(N.sibling=o.child,o.child=N):(i=_.last,i!==null?i.sibling=N:o.child=N,_.last=N)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=zt(),o.sibling=null,i=Wi.current,ct(Wi,m?i&1|2:i&1),o):(Ci(o),null);case 22:case 23:return Io(o),cu(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(h&536870912)!==0&&(o.flags&128)===0&&(Ci(o),o.subtreeFlags&6&&(o.flags|=8192)):Ci(o),h=o.updateQueue,h!==null&&n1(o,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048),i!==null&&Ye(ye),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Rl(Yi),Ci(o),null;case 25:return null}throw Error(r(156,o.tag))}function Lb(i,o){switch(sf(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Rl(Yi),Ae(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Nt(o),null;case 13:if(Io(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));su()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(Wi),null;case 4:return Ae(),null;case 10:return Rl(o.type),null;case 22:case 23:return Io(o),cu(),i!==null&&Ye(ye),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Rl(Yi),null;case 25:return null;default:return null}}function b5(i,o){switch(sf(o),o.tag){case 3:Rl(Yi),Ae();break;case 26:case 27:case 5:Nt(o);break;case 4:Ae();break;case 13:Io(o);break;case 19:Ye(Wi);break;case 10:Rl(o.type);break;case 22:case 23:Io(o),cu(),i!==null&&Ye(ye);break;case 24:Rl(Yi)}}var Db={getCacheForType:function(i){var o=na(Yi),h=o.data.get(i);return h===void 0&&(h=i(),o.data.set(i,h)),h}},Ob=typeof WeakMap=="function"?WeakMap:Map,Ii=0,fi=null,nr=null,xr=0,di=0,Ja=null,Pl=!1,uh=!1,I2=!1,kl=0,Ui=0,Ac=0,_u=0,N2=0,vo=0,hh=0,Tf=null,nl=null,R2=!1,L2=0,r1=1/0,i1=null,_c=null,s1=!1,Eu=null,Cf=0,D2=0,O2=null,If=0,M2=null;function $a(){if((Ii&2)!==0&&xr!==0)return xr&-xr;if(j.T!==null){var i=k;return i!==0?i:z2()}return Ar()}function A5(){vo===0&&(vo=(xr&536870912)===0||wr?Gn():536870912);var i=Ra.current;return i!==null&&(i.flags|=32),vo}function wa(i,o,h){(i===fi&&di===2||i.cancelPendingCommit!==null)&&(fh(i,0),Bl(i,xr,vo,!1)),Bt(i,h),((Ii&2)===0||i!==fi)&&(i===fi&&((Ii&2)===0&&(_u|=h),Ui===4&&Bl(i,xr,vo,!1)),rl(i))}function _5(i,o,h){if((Ii&6)!==0)throw Error(r(327));var m=!h&&(o&60)===0&&(o&i.expiredLanes)===0||pn(i,o),_=m?kb(i,o):F2(i,o,!0),N=m;do{if(_===0){uh&&!m&&Bl(i,o,0,!1);break}else if(_===6)Bl(i,o,0,!Pl);else{if(h=i.current.alternate,N&&!Mb(h)){_=F2(i,o,!1),N=!1;continue}if(_===2){if(N=o,i.errorRecoveryDisabledLanes&N)var K=0;else K=i.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){o=K;e:{var he=i;_=Tf;var Ee=he.current.memoizedState.isDehydrated;if(Ee&&(fh(he,K).flags|=256),K=F2(he,K,!1),K!==2){if(I2&&!Ee){he.errorRecoveryDisabledLanes|=N,_u|=N,_=4;break e}N=nl,nl=_,N!==null&&P2(N)}_=K}if(N=!1,_!==2)continue}}if(_===1){fh(i,0),Bl(i,o,0,!0);break}e:{switch(m=i,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){Bl(m,o,vo,!Pl);break e}break;case 2:nl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(m.finishedWork=h,m.finishedLanes=o,(o&62914560)===o&&(N=L2+300-zt(),10<N)){if(Bl(m,o,vo,!Pl),nn(m,0)!==0)break e;m.timeoutHandle=Y5(E5.bind(null,m,h,nl,i1,R2,o,vo,_u,hh,Pl,2,-0,0),N);break e}E5(m,h,nl,i1,R2,o,vo,_u,hh,Pl,0,-0,0)}}break}while(!0);rl(i)}function P2(i){nl===null?nl=i:nl.push.apply(nl,i)}function E5(i,o,h,m,_,N,K,he,Ee,qe,dt,Ct,it){var ht=o.subtreeFlags;if((ht&8192||(ht&16785408)===16785408)&&(Mf={stylesheets:null,count:0,unsuspend:pA},g5(o),o=yA(),o!==null)){i.cancelPendingCommit=o(L5.bind(null,i,h,m,_,K,he,Ee,1,Ct,it)),Bl(i,N,K,!qe);return}L5(i,h,m,_,K,he,Ee,dt,Ct,it)}function Mb(i){for(var o=i;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var _=h[m],N=_.getSnapshot;_=_.value;try{if(!d(N(),_))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bl(i,o,h,m){o&=~N2,o&=~_u,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var _=o;0<_;){var N=31-xn(_),K=1<<N;m[N]=-1,_&=~K}h!==0&&Wr(i,h,o)}function a1(){return(Ii&6)===0?(Nf(0),!1):!0}function k2(){if(nr!==null){if(di===0)var i=nr.return;else i=nr,Nl=wu=null,Si(i),bl=null,Na=0,i=nr;for(;i!==null;)b5(i.alternate,i),i=i.return;nr=null}}function fh(i,o){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,$b(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),k2(),fi=i,nr=h=bc(i.current,null),xr=o,di=0,Ja=null,Pl=!1,uh=pn(i,o),I2=!1,hh=vo=N2=_u=Ac=Ui=0,nl=Tf=null,R2=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var _=31-xn(m),N=1<<_;o|=i[_],m&=~N}return kl=o,Ei(),h}function S5(i,o){nt=null,j.H=Xa,o===au?(o=kd(),di=3):o===Md?(o=kd(),di=4):di=o===Fm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ja=o,nr===null&&(Ui=1,dc(i,yi(o,i.current)))}function T5(){var i=j.H;return j.H=Xa,i===null?Xa:i}function C5(){var i=j.A;return j.A=Db,i}function B2(){Ui=4,Pl||(xr&4194176)!==xr&&Ra.current!==null||(uh=!0),(Ac&134217727)===0&&(_u&134217727)===0||fi===null||Bl(fi,xr,vo,!1)}function F2(i,o,h){var m=Ii;Ii|=2;var _=T5(),N=C5();(fi!==i||xr!==o)&&(i1=null,fh(i,o)),o=!1;var K=Ui;e:do try{if(di!==0&&nr!==null){var he=nr,Ee=Ja;switch(di){case 8:k2(),K=6;break e;case 3:case 2:case 6:Ra.current===null&&(o=!0);var qe=di;if(di=0,Ja=null,dh(i,he,Ee,qe),h&&uh){K=0;break e}break;default:qe=di,di=0,Ja=null,dh(i,he,Ee,qe)}}Pb(),K=Ui;break}catch(dt){S5(i,dt)}while(!0);return o&&i.shellSuspendCounter++,Nl=wu=null,Ii=m,j.H=_,j.A=N,nr===null&&(fi=null,xr=0,Ei()),K}function Pb(){for(;nr!==null;)I5(nr)}function kb(i,o){var h=Ii;Ii|=2;var m=T5(),_=C5();fi!==i||xr!==o?(i1=null,r1=zt()+500,fh(i,o)):uh=pn(i,o);e:do try{if(di!==0&&nr!==null){o=nr;var N=Ja;t:switch(di){case 1:di=0,Ja=null,dh(i,o,N,1);break;case 2:if(Pd(N)){di=0,Ja=null,N5(o);break}o=function(){di===2&&fi===i&&(di=7),rl(i)},N.then(o,o);break e;case 3:di=7;break e;case 4:di=5;break e;case 7:Pd(N)?(di=0,Ja=null,N5(o)):(di=0,Ja=null,dh(i,o,N,7));break;case 5:var K=null;switch(nr.tag){case 26:K=nr.memoizedState;case 5:case 27:var he=nr;if(!K||iy(K)){di=0,Ja=null;var Ee=he.sibling;if(Ee!==null)nr=Ee;else{var qe=he.return;qe!==null?(nr=qe,o1(qe)):nr=null}break t}}di=0,Ja=null,dh(i,o,N,5);break;case 6:di=0,Ja=null,dh(i,o,N,6);break;case 8:k2(),Ui=6;break e;default:throw Error(r(462))}}Bb();break}catch(dt){S5(i,dt)}while(!0);return Nl=wu=null,j.H=m,j.A=_,Ii=h,nr!==null?0:(fi=null,xr=0,Ei(),Ui)}function Bb(){for(;nr!==null&&!kt();)I5(nr)}function I5(i){var o=Qm(i.alternate,i,kl);i.memoizedProps=i.pendingProps,o===null?o1(i):nr=o}function N5(i){var o=i,h=o.alternate;switch(o.tag){case 15:case 0:o=qm(h,o,o.pendingProps,o.type,void 0,xr);break;case 11:o=qm(h,o,o.pendingProps,o.type.render,o.ref,xr);break;case 5:Si(o);default:b5(h,o),o=nr=v5(o,kl),o=Qm(h,o,kl)}i.memoizedProps=i.pendingProps,o===null?o1(i):nr=o}function dh(i,o,h,m){Nl=wu=null,Si(o),bl=null,Na=0;var _=o.return;try{if(Sb(i,_,o,h,xr)){Ui=1,dc(i,yi(h,i.current)),nr=null;return}}catch(N){if(_!==null)throw nr=_,N;Ui=1,dc(i,yi(h,i.current)),nr=null;return}o.flags&32768?(wr||m===1?i=!0:uh||(xr&536870912)!==0?i=!1:(Pl=i=!0,(m===2||m===3||m===6)&&(m=Ra.current,m!==null&&m.tag===13&&(m.flags|=16384))),R5(o,i)):o1(o)}function o1(i){var o=i;do{if((o.flags&32768)!==0){R5(o,Pl);return}i=o.return;var h=Rb(o.alternate,o,kl);if(h!==null){nr=h;return}if(o=o.sibling,o!==null){nr=o;return}nr=o=i}while(o!==null);Ui===0&&(Ui=5)}function R5(i,o){do{var h=Lb(i.alternate,i);if(h!==null){h.flags&=32767,nr=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(i=i.sibling,i!==null)){nr=i;return}nr=i=h}while(i!==null);Ui=6,nr=null}function L5(i,o,h,m,_,N,K,he,Ee,qe){var dt=j.T,Ct=fe.p;try{fe.p=2,j.T=null,Fb(i,o,h,m,Ct,_,N,K,he,Ee,qe)}finally{j.T=dt,fe.p=Ct}}function Fb(i,o,h,m,_,N,K,he){do gh();while(Eu!==null);if((Ii&6)!==0)throw Error(r(327));var Ee=i.finishedWork;if(m=i.finishedLanes,Ee===null)return null;if(i.finishedWork=null,i.finishedLanes=0,Ee===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var qe=Ee.lanes|Ee.childLanes;if(qe|=mi,ps(i,m,qe,N,K,he),i===fi&&(nr=fi=null,xr=0),(Ee.subtreeFlags&10256)===0&&(Ee.flags&10256)===0||s1||(s1=!0,D2=qe,O2=h,zb(Sn,function(){return gh(),null})),h=(Ee.flags&15990)!==0,(Ee.subtreeFlags&15990)!==0||h?(h=j.T,j.T=null,N=fe.p,fe.p=2,K=Ii,Ii|=4,Cb(i,Ee),h5(Ee,i),Q(Q2,i.containerInfo),w1=!!K2,Q2=K2=null,i.current=Ee,o5(i,Ee.alternate,Ee),Qt(),Ii=K,fe.p=N,j.T=h):i.current=Ee,s1?(s1=!1,Eu=i,Cf=m):D5(i,qe),qe=i.pendingLanes,qe===0&&(_c=null),dn(Ee.stateNode),rl(i),o!==null)for(_=i.onRecoverableError,Ee=0;Ee<o.length;Ee++)qe=o[Ee],_(qe.value,{componentStack:qe.stack});return(Cf&3)!==0&&gh(),qe=i.pendingLanes,(m&4194218)!==0&&(qe&42)!==0?i===M2?If++:(If=0,M2=i):If=0,Nf(0),null}function D5(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,x(o)))}function gh(){if(Eu!==null){var i=Eu,o=D2;D2=0;var h=Xn(Cf),m=j.T,_=fe.p;try{if(fe.p=32>h?32:h,j.T=null,Eu===null)var N=!1;else{h=O2,O2=null;var K=Eu,he=Cf;if(Eu=null,Cf=0,(Ii&6)!==0)throw Error(r(331));var Ee=Ii;if(Ii|=4,m5(K.current),d5(K,K.current,he,h),Ii=Ee,Nf(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(en,K)}catch{}N=!0}return N}finally{fe.p=_,j.T=m,D5(i,o)}}return!1}function O5(i,o,h){o=yi(h,o),o=n2(i.stateNode,o,2),i=yc(i,o,2),i!==null&&(Bt(i,2),rl(i))}function Jr(i,o,h){if(i.tag===3)O5(i,i,h);else for(;o!==null;){if(o.tag===3){O5(o,i,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_c===null||!_c.has(m))){i=yi(h,i),h=km(2),m=yc(o,h,2),m!==null&&(Bm(h,m,o,i),Bt(m,2),rl(m));break}}o=o.return}}function j2(i,o,h){var m=i.pingCache;if(m===null){m=i.pingCache=new Ob;var _=new Set;m.set(o,_)}else _=m.get(o),_===void 0&&(_=new Set,m.set(o,_));_.has(h)||(I2=!0,_.add(h),i=jb.bind(null,i,o,h),o.then(i,i))}function jb(i,o,h){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,fi===i&&(xr&h)===h&&(Ui===4||Ui===3&&(xr&62914560)===xr&&300>zt()-L2?(Ii&2)===0&&fh(i,0):N2|=h,hh===xr&&(hh=0)),rl(i)}function M5(i,o){o===0&&(o=ni()),i=ya(i,o),i!==null&&(Bt(i,o),rl(i))}function Ub(i){var o=i.memoizedState,h=0;o!==null&&(h=o.retryLane),M5(i,h)}function Vb(i,o){var h=0;switch(i.tag){case 13:var m=i.stateNode,_=i.memoizedState;_!==null&&(h=_.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),M5(i,h)}function zb(i,o){return Dt(i,o)}var l1=null,ph=null,U2=!1,c1=!1,V2=!1,Su=0;function rl(i){i!==ph&&i.next===null&&(ph===null?l1=ph=i:ph=ph.next=i),c1=!0,U2||(U2=!0,qb(Hb))}function Nf(i,o){if(!V2&&c1){V2=!0;do for(var h=!1,m=l1;m!==null;){if(i!==0){var _=m.pendingLanes;if(_===0)var N=0;else{var K=m.suspendedLanes,he=m.pingedLanes;N=(1<<31-xn(42|i)+1)-1,N&=_&~(K&~he),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(h=!0,B5(m,N))}else N=xr,N=nn(m,m===fi?N:0),(N&3)===0||pn(m,N)||(h=!0,B5(m,N));m=m.next}while(h);V2=!1}}function Hb(){c1=U2=!1;var i=0;Su!==0&&(Jb()&&(i=Su),Su=0);for(var o=zt(),h=null,m=l1;m!==null;){var _=m.next,N=P5(m,o);N===0?(m.next=null,h===null?l1=_:h.next=_,_===null&&(ph=h)):(h=m,(i!==0||(N&3)!==0)&&(c1=!0)),m=_}Nf(i)}function P5(i,o){for(var h=i.suspendedLanes,m=i.pingedLanes,_=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var K=31-xn(N),he=1<<K,Ee=_[K];Ee===-1?((he&h)===0||(he&m)!==0)&&(_[K]=gs(he,o)):Ee<=o&&(i.expiredLanes|=he),N&=~he}if(o=fi,h=xr,h=nn(i,i===o?h:0),m=i.callbackNode,h===0||i===o&&di===2||i.cancelPendingCommit!==null)return m!==null&&m!==null&&at(m),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||pn(i,h)){if(o=h&-h,o===i.callbackPriority)return o;switch(m!==null&&at(m),Xn(h)){case 2:case 8:h=ln;break;case 32:h=Sn;break;case 268435456:h=Cn;break;default:h=Sn}return m=k5.bind(null,i),h=Dt(h,m),i.callbackPriority=o,i.callbackNode=h,o}return m!==null&&m!==null&&at(m),i.callbackPriority=2,i.callbackNode=null,2}function k5(i,o){var h=i.callbackNode;if(gh()&&i.callbackNode!==h)return null;var m=xr;return m=nn(i,i===fi?m:0),m===0?null:(_5(i,m,o),P5(i,zt()),i.callbackNode!=null&&i.callbackNode===h?k5.bind(null,i):null)}function B5(i,o){if(gh())return null;_5(i,o,!0)}function qb(i){eA(function(){(Ii&6)!==0?Dt(Vt,i):i()})}function z2(){return Su===0&&(Su=Gn()),Su}function F5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:os(""+i)}function j5(i,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,i.id&&h.setAttribute("form",i.id),o.parentNode.insertBefore(h,o),i=new FormData(i),h.parentNode.removeChild(h),i}function Gb(i,o,h,m,_){if(o==="submit"&&h&&h.stateNode===_){var N=F5((_[ur]||null).action),K=m.submitter;K&&(o=(o=K[ur]||null)?F5(o.formAction):K.getAttribute("formAction"),o!==null&&(N=o,K=null));var he=new bs("action","action",null,m,_);i.push({event:he,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Su!==0){var Ee=K?j5(_,K):new FormData(_);nh(h,{pending:!0,data:Ee,method:_.method,action:N},null,Ee)}}else typeof N=="function"&&(he.preventDefault(),Ee=K?j5(_,K):new FormData(_),nh(h,{pending:!0,data:Ee,method:_.method,action:N},N,Ee))},currentTarget:_}]})}}for(var H2=0;H2<Ms.length;H2++){var q2=Ms[H2],Wb=q2.toLowerCase(),Yb=q2[0].toUpperCase()+q2.slice(1);ui(Wb,"on"+Yb)}ui(pi,"onAnimationEnd"),ui(Bi,"onAnimationIteration"),ui(li,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(tr,"onTransitionRun"),ui(ci,"onTransitionStart"),ui(Ti,"onTransitionCancel"),ui(_s,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rf));function U5(i,o){o=(o&4)!==0;for(var h=0;h<i.length;h++){var m=i[h],_=m.event;m=m.listeners;e:{var N=void 0;if(o)for(var K=m.length-1;0<=K;K--){var he=m[K],Ee=he.instance,qe=he.currentTarget;if(he=he.listener,Ee!==N&&_.isPropagationStopped())break e;N=he,_.currentTarget=qe;try{N(_)}catch(dt){fc(dt)}_.currentTarget=null,N=Ee}else for(K=0;K<m.length;K++){if(he=m[K],Ee=he.instance,qe=he.currentTarget,he=he.listener,Ee!==N&&_.isPropagationStopped())break e;N=he,_.currentTarget=qe;try{N(_)}catch(dt){fc(dt)}_.currentTarget=null,N=Ee}}}}function pr(i,o){var h=o[ri];h===void 0&&(h=o[ri]=new Set);var m=i+"__bubble";h.has(m)||(V5(o,i,2,!1),h.add(m))}function G2(i,o,h){var m=0;o&&(m|=4),V5(h,i,m,o)}var u1="_reactListening"+Math.random().toString(36).slice(2);function W2(i){if(!i[u1]){i[u1]=!0,Ba.forEach(function(h){h!=="selectionchange"&&(Xb.has(h)||G2(h,!1,i),G2(h,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[u1]||(o[u1]=!0,G2("selectionchange",!1,o))}}function V5(i,o,h,m){switch(uy(o)){case 2:var _=xA;break;case 8:_=bA;break;default:_=sg}h=_.bind(null,o,h,i),_=void 0,!sn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),m?_!==void 0?i.addEventListener(o,h,{capture:!0,passive:_}):i.addEventListener(o,h,!0):_!==void 0?i.addEventListener(o,h,{passive:_}):i.addEventListener(o,h,!1)}function Y2(i,o,h,m,_){var N=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var K=m.tag;if(K===3||K===4){var he=m.stateNode.containerInfo;if(he===_||he.nodeType===8&&he.parentNode===_)break;if(K===4)for(K=m.return;K!==null;){var Ee=K.tag;if((Ee===3||Ee===4)&&(Ee=K.stateNode.containerInfo,Ee===_||Ee.nodeType===8&&Ee.parentNode===_))return;K=K.return}for(;he!==null;){if(K=kr(he),K===null)return;if(Ee=K.tag,Ee===5||Ee===6||Ee===26||Ee===27){m=N=K;continue e}he=he.parentNode}}m=m.return}Xt(function(){var qe=N,dt=ba(h),Ct=[];e:{var it=ma.get(i);if(it!==void 0){var ht=bs,rn=i;switch(i){case"keypress":if(xs(h)===0)break e;case"keydown":case"keyup":ht=Os;break;case"focusin":rn="focus",ht=Ds;break;case"focusout":rn="blur",ht=Ds;break;case"beforeblur":case"afterblur":ht=Ds;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=_i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Jn;break;case pi:case Bi:case li:ht=ao;break;case _s:ht=ee;break;case"scroll":case"scrollend":ht=Ai;break;case"wheel":ht=Ne;break;case"copy":case"cut":case"paste":ht=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Js;break;case"toggle":case"beforetoggle":ht=ot}var Dn=(o&4)!==0,Vi=!Dn&&(i==="scroll"||i==="scrollend"),Ke=Dn?it!==null?it+"Capture":null:it;Dn=[];for(var Ve=qe,et;Ve!==null;){var xt=Ve;if(et=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||et===null||Ke===null||(xt=Aa(Ve,Ke),xt!=null&&Dn.push(Lf(Ve,xt,et))),Vi)break;Ve=Ve.return}0<Dn.length&&(it=new ht(it,rn,null,h,dt),Ct.push({event:it,listeners:Dn}))}}if((o&7)===0){e:{if(it=i==="mouseover"||i==="pointerover",ht=i==="mouseout"||i==="pointerout",it&&h!==vr&&(rn=h.relatedTarget||h.fromElement)&&(kr(rn)||rn[rr]))break e;if((ht||it)&&(it=dt.window===dt?dt:(it=dt.ownerDocument)?it.defaultView||it.parentWindow:window,ht?(rn=h.relatedTarget||h.toElement,ht=qe,rn=rn?kr(rn):null,rn!==null&&(Vi=_e(rn),Dn=rn.tag,rn!==Vi||Dn!==5&&Dn!==27&&Dn!==6)&&(rn=null)):(ht=null,rn=qe),ht!==rn)){if(Dn=_i,xt="onMouseLeave",Ke="onMouseEnter",Ve="mouse",(i==="pointerout"||i==="pointerover")&&(Dn=Js,xt="onPointerLeave",Ke="onPointerEnter",Ve="pointer"),Vi=ht==null?it:Wn(ht),et=rn==null?it:Wn(rn),it=new Dn(xt,Ve+"leave",ht,h,dt),it.target=Vi,it.relatedTarget=et,xt=null,kr(dt)===qe&&(Dn=new Dn(Ke,Ve+"enter",rn,h,dt),Dn.target=et,Dn.relatedTarget=Vi,xt=Dn),Vi=xt,ht&&rn)t:{for(Dn=ht,Ke=rn,Ve=0,et=Dn;et;et=mh(et))Ve++;for(et=0,xt=Ke;xt;xt=mh(xt))et++;for(;0<Ve-et;)Dn=mh(Dn),Ve--;for(;0<et-Ve;)Ke=mh(Ke),et--;for(;Ve--;){if(Dn===Ke||Ke!==null&&Dn===Ke.alternate)break t;Dn=mh(Dn),Ke=mh(Ke)}Dn=null}else Dn=null;ht!==null&&z5(Ct,it,ht,Dn,!1),rn!==null&&Vi!==null&&z5(Ct,Vi,rn,Dn,!0)}}e:{if(it=qe?Wn(qe):window,ht=it.nodeName&&it.nodeName.toLowerCase(),ht==="select"||ht==="input"&&it.type==="file")var Zt=Yo;else if(fr(it))if(lo)Zt=c;else{Zt=Z;var $n=Gi}else ht=it.nodeName,!ht||ht.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?qe&&Kn(qe.elementType)&&(Zt=Yo):Zt=s;if(Zt&&(Zt=Zt(i,qe))){Qr(Ct,Zt,h,dt);break e}$n&&$n(i,it,qe),i==="focusout"&&qe&&it.type==="number"&&qe.memoizedProps.value!=null&&ge(it,"number",it.value)}switch($n=qe?Wn(qe):window,i){case"focusin":(fr($n)||$n.contentEditable==="true")&&(me=$n,Re=qe,Oe=null);break;case"focusout":Oe=Re=me=null;break;case"mousedown":He=!0;break;case"contextmenu":case"mouseup":case"dragend":He=!1,rt(Ct,h,dt);break;case"selectionchange":if(re)break;case"keydown":case"keyup":rt(Ct,h,dt)}var on;if(Ot)e:{switch(i){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else gn?Qe(i,h)&&(vn="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(vn="onCompositionStart");vn&&(U&&h.locale!=="ko"&&(gn||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&gn&&(on=Ls()):(ws=dt,Xs="value"in ws?ws.value:ws.textContent,gn=!0)),$n=h1(qe,vn),0<$n.length&&(vn=new Qs(vn,i,null,h,dt),Ct.push({event:vn,listeners:$n}),on?vn.data=on:(on=St(h),on!==null&&(vn.data=on)))),(on=O?Rn(i,h):_n(i,h))&&(vn=h1(qe,"onBeforeInput"),0<vn.length&&($n=new Qs("onBeforeInput","beforeinput",null,h,dt),Ct.push({event:$n,listeners:vn}),$n.data=on)),Gb(Ct,i,qe,h,dt)}U5(Ct,o)})}function Lf(i,o,h){return{instance:i,listener:o,currentTarget:h}}function h1(i,o){for(var h=o+"Capture",m=[];i!==null;){var _=i,N=_.stateNode;_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Aa(i,h),_!=null&&m.unshift(Lf(i,_,N)),_=Aa(i,o),_!=null&&m.push(Lf(i,_,N))),i=i.return}return m}function mh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function z5(i,o,h,m,_){for(var N=o._reactName,K=[];h!==null&&h!==m;){var he=h,Ee=he.alternate,qe=he.stateNode;if(he=he.tag,Ee!==null&&Ee===m)break;he!==5&&he!==26&&he!==27||qe===null||(Ee=qe,_?(qe=Aa(h,N),qe!=null&&K.unshift(Lf(h,qe,Ee))):_||(qe=Aa(h,N),qe!=null&&K.push(Lf(h,qe,Ee)))),h=h.return}K.length!==0&&i.push({event:o,listeners:K})}var Kb=/\r\n?/g,Qb=/\u0000|\uFFFD/g;function H5(i){return(typeof i=="string"?i:""+i).replace(Kb,`
`).replace(Qb,"")}function q5(i,o){return o=H5(o),H5(i)===o}function f1(){}function Gr(i,o,h,m,_,N){switch(h){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||es(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&es(i,""+m);break;case"className":yr(i,"class",m);break;case"tabIndex":yr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(i,h,m);break;case"style":tn(i,m,N);break;case"data":if(o!=="object"){yr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||h!=="href")){i.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(h);break}m=os(""+m),i.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(h==="formAction"?(o!=="input"&&Gr(i,o,"name",_.name,_,null),Gr(i,o,"formEncType",_.formEncType,_,null),Gr(i,o,"formMethod",_.formMethod,_,null),Gr(i,o,"formTarget",_.formTarget,_,null)):(Gr(i,o,"encType",_.encType,_,null),Gr(i,o,"method",_.method,_,null),Gr(i,o,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(h);break}m=os(""+m),i.setAttribute(h,m);break;case"onClick":m!=null&&(i.onclick=f1);break;case"onScroll":m!=null&&pr("scroll",i);break;case"onScrollEnd":m!=null&&pr("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}h=os(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,""+m):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":m===!0?i.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(h,m):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(h,m):i.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(h):i.setAttribute(h,m);break;case"popover":pr("beforetoggle",i),pr("toggle",i),Ws(i,"popover",m);break;case"xlinkActuate":qi(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":qi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":qi(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":qi(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":qi(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":qi(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":qi(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":qi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":qi(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ws(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Fa.get(h)||h,Ws(i,h,m))}}function X2(i,o,h,m,_,N){switch(h){case"style":tn(i,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"children":typeof m=="string"?es(i,m):(typeof m=="number"||typeof m=="bigint")&&es(i,""+m);break;case"onScroll":m!=null&&pr("scroll",i);break;case"onScrollEnd":m!=null&&pr("scrollend",i);break;case"onClick":m!=null&&(i.onclick=f1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pt.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),o=h.slice(2,_?h.length-7:void 0),N=i[ur]||null,N=N!=null?N[h]:null,typeof N=="function"&&i.removeEventListener(o,N,_),typeof m=="function")){typeof N!="function"&&N!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(o,m,_);break e}h in i?i[h]=m:m===!0?i.setAttribute(h,""):Ws(i,h,m)}}}function js(i,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pr("error",i),pr("load",i);var m=!1,_=!1,N;for(N in h)if(h.hasOwnProperty(N)){var K=h[N];if(K!=null)switch(N){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Gr(i,o,N,K,h,null)}}_&&Gr(i,o,"srcSet",h.srcSet,h,null),m&&Gr(i,o,"src",h.src,h,null);return;case"input":pr("invalid",i);var he=N=K=_=null,Ee=null,qe=null;for(m in h)if(h.hasOwnProperty(m)){var dt=h[m];if(dt!=null)switch(m){case"name":_=dt;break;case"type":K=dt;break;case"checked":Ee=dt;break;case"defaultChecked":qe=dt;break;case"value":N=dt;break;case"defaultValue":he=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,o));break;default:Gr(i,o,m,dt,h,null)}}Xe(i,N,he,Ee,qe,K,_,!1),_r(i);return;case"select":pr("invalid",i),m=K=N=null;for(_ in h)if(h.hasOwnProperty(_)&&(he=h[_],he!=null))switch(_){case"value":N=he;break;case"defaultValue":K=he;break;case"multiple":m=he;default:Gr(i,o,_,he,h,null)}o=N,h=K,i.multiple=!!m,o!=null?Rt(i,!!m,o,!1):h!=null&&Rt(i,!!m,h,!0);return;case"textarea":pr("invalid",i),N=_=m=null;for(K in h)if(h.hasOwnProperty(K)&&(he=h[K],he!=null))switch(K){case"value":m=he;break;case"defaultValue":_=he;break;case"children":N=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:Gr(i,o,K,he,h,null)}gi(i,m,_,N),_r(i);return;case"option":for(Ee in h)if(h.hasOwnProperty(Ee)&&(m=h[Ee],m!=null))switch(Ee){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Gr(i,o,Ee,m,h,null)}return;case"dialog":pr("cancel",i),pr("close",i);break;case"iframe":case"object":pr("load",i);break;case"video":case"audio":for(m=0;m<Rf.length;m++)pr(Rf[m],i);break;case"image":pr("error",i),pr("load",i);break;case"details":pr("toggle",i);break;case"embed":case"source":case"link":pr("error",i),pr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qe in h)if(h.hasOwnProperty(qe)&&(m=h[qe],m!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Gr(i,o,qe,m,h,null)}return;default:if(Kn(o)){for(dt in h)h.hasOwnProperty(dt)&&(m=h[dt],m!==void 0&&X2(i,o,dt,m,h,void 0));return}}for(he in h)h.hasOwnProperty(he)&&(m=h[he],m!=null&&Gr(i,o,he,m,h,null))}function Zb(i,o,h,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,K=null,he=null,Ee=null,qe=null,dt=null;for(ht in h){var Ct=h[ht];if(h.hasOwnProperty(ht)&&Ct!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Ee=Ct;default:m.hasOwnProperty(ht)||Gr(i,o,ht,null,m,Ct)}}for(var it in m){var ht=m[it];if(Ct=h[it],m.hasOwnProperty(it)&&(ht!=null||Ct!=null))switch(it){case"type":N=ht;break;case"name":_=ht;break;case"checked":qe=ht;break;case"defaultChecked":dt=ht;break;case"value":K=ht;break;case"defaultValue":he=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,o));break;default:ht!==Ct&&Gr(i,o,it,ht,m,Ct)}}Mr(i,K,he,Ee,qe,dt,N,_);return;case"select":ht=K=he=it=null;for(N in h)if(Ee=h[N],h.hasOwnProperty(N)&&Ee!=null)switch(N){case"value":break;case"multiple":ht=Ee;default:m.hasOwnProperty(N)||Gr(i,o,N,null,m,Ee)}for(_ in m)if(N=m[_],Ee=h[_],m.hasOwnProperty(_)&&(N!=null||Ee!=null))switch(_){case"value":it=N;break;case"defaultValue":he=N;break;case"multiple":K=N;default:N!==Ee&&Gr(i,o,_,N,m,Ee)}o=he,h=K,m=ht,it!=null?Rt(i,!!h,it,!1):!!m!=!!h&&(o!=null?Rt(i,!!h,o,!0):Rt(i,!!h,h?[]:"",!1));return;case"textarea":ht=it=null;for(he in h)if(_=h[he],h.hasOwnProperty(he)&&_!=null&&!m.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:Gr(i,o,he,null,m,_)}for(K in m)if(_=m[K],N=h[K],m.hasOwnProperty(K)&&(_!=null||N!=null))switch(K){case"value":it=_;break;case"defaultValue":ht=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==N&&Gr(i,o,K,_,m,N)}Dr(i,it,ht);return;case"option":for(var rn in h)if(it=h[rn],h.hasOwnProperty(rn)&&it!=null&&!m.hasOwnProperty(rn))switch(rn){case"selected":i.selected=!1;break;default:Gr(i,o,rn,null,m,it)}for(Ee in m)if(it=m[Ee],ht=h[Ee],m.hasOwnProperty(Ee)&&it!==ht&&(it!=null||ht!=null))switch(Ee){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Gr(i,o,Ee,it,m,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dn in h)it=h[Dn],h.hasOwnProperty(Dn)&&it!=null&&!m.hasOwnProperty(Dn)&&Gr(i,o,Dn,null,m,it);for(qe in m)if(it=m[qe],ht=h[qe],m.hasOwnProperty(qe)&&it!==ht&&(it!=null||ht!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,o));break;default:Gr(i,o,qe,it,m,ht)}return;default:if(Kn(o)){for(var Vi in h)it=h[Vi],h.hasOwnProperty(Vi)&&it!==void 0&&!m.hasOwnProperty(Vi)&&X2(i,o,Vi,void 0,m,it);for(dt in m)it=m[dt],ht=h[dt],!m.hasOwnProperty(dt)||it===ht||it===void 0&&ht===void 0||X2(i,o,dt,it,m,ht);return}}for(var Ke in h)it=h[Ke],h.hasOwnProperty(Ke)&&it!=null&&!m.hasOwnProperty(Ke)&&Gr(i,o,Ke,null,m,it);for(Ct in m)it=m[Ct],ht=h[Ct],!m.hasOwnProperty(Ct)||it===ht||it==null&&ht==null||Gr(i,o,Ct,it,m,ht)}var K2=null,Q2=null;function d1(i){return i.nodeType===9?i:i.ownerDocument}function G5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Z2(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var J2=null;function Jb(){var i=window.event;return i&&i.type==="popstate"?i===J2?!1:(J2=i,!0):(J2=null,!1)}var Y5=typeof setTimeout=="function"?setTimeout:void 0,$b=typeof clearTimeout=="function"?clearTimeout:void 0,X5=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof X5<"u"?function(i){return X5.resolve(null).then(i).catch(tA)}:Y5;function tA(i){setTimeout(function(){throw i})}function $2(i,o){var h=o,m=0;do{var _=h.nextSibling;if(i.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(m===0){i.removeChild(_),jf(o);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=_}while(h);jf(o)}function eg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":eg(h),qs(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function nA(i,o,h,m){for(;i.nodeType===1;){var _=h;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ms])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==_.rel||i.getAttribute("href")!==(_.href==null?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ko(i.nextSibling),i===null)break}return null}function rA(i,o,h){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=ko(i.nextSibling),i===null))return null;return i}function ko(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function K5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return i;o--}else h==="/$"&&o++}i=i.previousSibling}return null}function Q5(i,o,h){switch(o=d1(h),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var wo=new Map,Z5=new Set;function g1(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Fl=fe.d;fe.d={f:iA,r:sA,D:aA,C:oA,L:lA,m:cA,X:hA,S:uA,M:fA};function iA(){var i=Fl.f(),o=a1();return i||o}function sA(i){var o=Tr(i);o!==null&&o.tag===5&&o.type==="form"?vu(o):Fl.r(i)}var yh=typeof document>"u"?null:document;function J5(i,o,h){var m=yh;if(m&&typeof o=="string"&&o){var _=cn(o);_='link[rel="'+i+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),Z5.has(_)||(Z5.add(_),i={rel:i,crossOrigin:h,href:o},m.querySelector(_)===null&&(o=m.createElement("link"),js(o,"link",i),ir(o),m.head.appendChild(o)))}}function aA(i){Fl.D(i),J5("dns-prefetch",i,null)}function oA(i,o){Fl.C(i,o),J5("preconnect",i,o)}function lA(i,o,h){Fl.L(i,o,h);var m=yh;if(m&&i&&o){var _='link[rel="preload"][as="'+cn(o)+'"]';o==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+cn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+cn(h.imageSizes)+'"]')):_+='[href="'+cn(i)+'"]';var N=_;switch(o){case"style":N=vh(i);break;case"script":N=wh(i)}wo.has(N)||(i=ae({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:i,as:o},h),wo.set(N,i),m.querySelector(_)!==null||o==="style"&&m.querySelector(Df(N))||o==="script"&&m.querySelector(Of(N))||(o=m.createElement("link"),js(o,"link",i),ir(o),m.head.appendChild(o)))}}function cA(i,o){Fl.m(i,o);var h=yh;if(h&&i){var m=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+cn(m)+'"][href="'+cn(i)+'"]',N=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=wh(i)}if(!wo.has(N)&&(i=ae({rel:"modulepreload",href:i},o),wo.set(N,i),h.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Of(N)))return}m=h.createElement("link"),js(m,"link",i),ir(m),h.head.appendChild(m)}}}function uA(i,o,h){Fl.S(i,o,h);var m=yh;if(m&&i){var _=Gs(m).hoistableStyles,N=vh(i);o=o||"default";var K=_.get(N);if(!K){var he={loading:0,preload:null};if(K=m.querySelector(Df(N)))he.loading=5;else{i=ae({rel:"stylesheet",href:i,"data-precedence":o},h),(h=wo.get(N))&&tg(i,h);var Ee=K=m.createElement("link");ir(Ee),js(Ee,"link",i),Ee._p=new Promise(function(qe,dt){Ee.onload=qe,Ee.onerror=dt}),Ee.addEventListener("load",function(){he.loading|=1}),Ee.addEventListener("error",function(){he.loading|=2}),he.loading|=4,p1(K,o,m)}K={type:"stylesheet",instance:K,count:1,state:he},_.set(N,K)}}}function hA(i,o){Fl.X(i,o);var h=yh;if(h&&i){var m=Gs(h).hoistableScripts,_=wh(i),N=m.get(_);N||(N=h.querySelector(Of(_)),N||(i=ae({src:i,async:!0},o),(o=wo.get(_))&&ng(i,o),N=h.createElement("script"),ir(N),js(N,"link",i),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(_,N))}}function fA(i,o){Fl.M(i,o);var h=yh;if(h&&i){var m=Gs(h).hoistableScripts,_=wh(i),N=m.get(_);N||(N=h.querySelector(Of(_)),N||(i=ae({src:i,async:!0,type:"module"},o),(o=wo.get(_))&&ng(i,o),N=h.createElement("script"),ir(N),js(N,"link",i),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(_,N))}}function $5(i,o,h,m){var _=(_=gt.current)?g1(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=vh(h.href),h=Gs(_).hoistableStyles,m=h.get(o),m||(m={type:"style",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=vh(h.href);var N=Gs(_).hoistableStyles,K=N.get(i);if(K||(_=_.ownerDocument||_,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,K),(N=_.querySelector(Df(i)))&&!N._p&&(K.instance=N,K.state.loading=5),wo.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},wo.set(i,h),N||dA(_,i,h,K.state))),o&&m===null)throw Error(r(528,""));return K}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wh(h),h=Gs(_).hoistableScripts,m=h.get(o),m||(m={type:"script",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function vh(i){return'href="'+cn(i)+'"'}function Df(i){return'link[rel="stylesheet"]['+i+"]"}function ey(i){return ae({},i,{"data-precedence":i.precedence,precedence:null})}function dA(i,o,h,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),js(o,"link",h),ir(o),i.head.appendChild(o))}function wh(i){return'[src="'+cn(i)+'"]'}function Of(i){return"script[async]"+i}function ty(i,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+cn(h.href)+'"]');if(m)return o.instance=m,ir(m),m;var _=ae({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),ir(m),js(m,"style",_),p1(m,h.precedence,i),o.instance=m;case"stylesheet":_=vh(h.href);var N=i.querySelector(Df(_));if(N)return o.state.loading|=4,o.instance=N,ir(N),N;m=ey(h),(_=wo.get(_))&&tg(m,_),N=(i.ownerDocument||i).createElement("link"),ir(N);var K=N;return K._p=new Promise(function(he,Ee){K.onload=he,K.onerror=Ee}),js(N,"link",m),o.state.loading|=4,p1(N,h.precedence,i),o.instance=N;case"script":return N=wh(h.src),(_=i.querySelector(Of(N)))?(o.instance=_,ir(_),_):(m=h,(_=wo.get(N))&&(m=ae({},h),ng(m,_)),i=i.ownerDocument||i,_=i.createElement("script"),ir(_),js(_,"link",m),i.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,p1(m,h.precedence,i));return o.instance}function p1(i,o,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,N=_,K=0;K<m.length;K++){var he=m[K];if(he.dataset.precedence===o)N=he;else if(N!==_)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(i,o.firstChild))}function tg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function ng(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var m1=null;function ny(i,o,h){if(m1===null){var m=new Map,_=m1=new Map;_.set(h,m)}else _=m1,m=_.get(h),m||(m=new Map,_.set(h,m));if(m.has(i))return m;for(m.set(i,null),h=h.getElementsByTagName(i),_=0;_<h.length;_++){var N=h[_];if(!(N[ms]||N[cr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var K=N.getAttribute(o)||"";K=i+K;var he=m.get(K);he?he.push(N):m.set(K,[N])}}return m}function ry(i,o,h){i=i.ownerDocument||i,i.head.insertBefore(h,o==="title"?i.querySelector("head > title"):null)}function gA(i,o,h){if(h===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function iy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Mf=null;function pA(){}function mA(i,o,h){if(Mf===null)throw Error(r(475));var m=Mf;if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var _=vh(h.href),N=i.querySelector(Df(_));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=y1.bind(m),i.then(m,m)),o.state.loading|=4,o.instance=N,ir(N);return}N=i.ownerDocument||i,h=ey(h),(_=wo.get(_))&&tg(h,_),N=N.createElement("link"),ir(N);var K=N;K._p=new Promise(function(he,Ee){K.onload=he,K.onerror=Ee}),js(N,"link",h),o.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=y1.bind(m),i.addEventListener("load",o),i.addEventListener("error",o))}}function yA(){if(Mf===null)throw Error(r(475));var i=Mf;return i.stylesheets&&i.count===0&&rg(i,i.stylesheets),0<i.count?function(o){var h=setTimeout(function(){if(i.stylesheets&&rg(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(h)}}:null}function y1(){if(this.count--,this.count===0){if(this.stylesheets)rg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var v1=null;function rg(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,v1=new Map,o.forEach(vA,i),v1=null,y1.call(i))}function vA(i,o){if(!(o.state.loading&4)){var h=v1.get(i);if(h)var m=h.get(null);else{h=new Map,v1.set(i,h);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var K=_[N];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(h.set(K.dataset.precedence,K),m=K)}m&&h.set(null,m)}_=o.instance,K=_.getAttribute("data-precedence"),N=h.get(K)||m,N===m&&h.set(null,_),h.set(K,_),this.count++,m=y1.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),N?N.parentNode.insertBefore(_,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),o.state.loading|=4}}var Pf={$$typeof:R,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function wA(i,o,h,m,_,N,K,he){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function sy(i,o,h,m,_,N,K,he,Ee,qe,dt,Ct){return i=new wA(i,o,h,K,he,Ee,qe,Ct),o=1,N===!0&&(o|=24),N=yo(3,null,null,o),i.current=N,N.stateNode=i,o=Qu(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:m,isDehydrated:h,cache:o},p2(N),i}function ay(i){return i?(i=Eo,i):Eo}function oy(i,o,h,m,_,N){_=ay(_),m.context===null?m.context=_:m.pendingContext=_,m=mc(o),m.payload={element:h},N=N===void 0?null:N,N!==null&&(m.callback=N),h=yc(i,m,o),h!==null&&(wa(h,i,o),vf(h,i,o))}function ly(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<o?h:o}}function ig(i,o){ly(i,o),(i=i.alternate)&&ly(i,o)}function cy(i){if(i.tag===13){var o=ya(i,67108864);o!==null&&wa(o,i,67108864),ig(i,67108864)}}var w1=!0;function xA(i,o,h,m){var _=j.T;j.T=null;var N=fe.p;try{fe.p=2,sg(i,o,h,m)}finally{fe.p=N,j.T=_}}function bA(i,o,h,m){var _=j.T;j.T=null;var N=fe.p;try{fe.p=8,sg(i,o,h,m)}finally{fe.p=N,j.T=_}}function sg(i,o,h,m){if(w1){var _=ag(m);if(_===null)Y2(i,o,m,x1,h),hy(i,m);else if(_A(_,i,o,h,m))m.stopPropagation();else if(hy(i,m),o&4&&-1<AA.indexOf(i)){for(;_!==null;){var N=Tr(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var K=er(N.pendingLanes);if(K!==0){var he=N;for(he.pendingLanes|=2,he.entangledLanes|=2;K;){var Ee=1<<31-xn(K);he.entanglements[1]|=Ee,K&=~Ee}rl(N),(Ii&6)===0&&(r1=zt()+500,Nf(0))}}break;case 13:he=ya(N,2),he!==null&&wa(he,N,2),a1(),ig(N,2)}if(N=ag(m),N===null&&Y2(i,o,m,x1,h),N===_)break;_=N}_!==null&&m.stopPropagation()}else Y2(i,o,m,null,h)}}function ag(i){return i=ba(i),og(i)}var x1=null;function og(i){if(x1=null,i=kr(i),i!==null){var o=_e(i);if(o===null)i=null;else{var h=o.tag;if(h===13){if(i=Te(o),i!==null)return i;i=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return x1=i,null}function uy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case Vt:return 2;case ln:return 8;case Sn:case Ht:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var lg=!1,Ec=null,Sc=null,Tc=null,kf=new Map,Bf=new Map,Cc=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(i,o){switch(i){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Sc=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":kf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(o.pointerId)}}function Ff(i,o,h,m,_,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:N,targetContainers:[_]},o!==null&&(o=Tr(o),o!==null&&cy(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),i)}function _A(i,o,h,m,_){switch(o){case"focusin":return Ec=Ff(Ec,i,o,h,m,_),!0;case"dragenter":return Sc=Ff(Sc,i,o,h,m,_),!0;case"mouseover":return Tc=Ff(Tc,i,o,h,m,_),!0;case"pointerover":var N=_.pointerId;return kf.set(N,Ff(kf.get(N)||null,i,o,h,m,_)),!0;case"gotpointercapture":return N=_.pointerId,Bf.set(N,Ff(Bf.get(N)||null,i,o,h,m,_)),!0}return!1}function fy(i){var o=kr(i.target);if(o!==null){var h=_e(o);if(h!==null){if(o=h.tag,o===13){if(o=Te(h),o!==null){i.blockedOn=o,lr(i.priority,function(){if(h.tag===13){var m=$a(),_=ya(h,m);_!==null&&wa(_,h,m),ig(h,m)}});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function b1(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var h=ag(i.nativeEvent);if(h===null){h=i.nativeEvent;var m=new h.constructor(h.type,h);vr=m,h.target.dispatchEvent(m),vr=null}else return o=Tr(h),o!==null&&cy(o),i.blockedOn=h,!1;o.shift()}return!0}function dy(i,o,h){b1(i)&&h.delete(o)}function EA(){lg=!1,Ec!==null&&b1(Ec)&&(Ec=null),Sc!==null&&b1(Sc)&&(Sc=null),Tc!==null&&b1(Tc)&&(Tc=null),kf.forEach(dy),Bf.forEach(dy)}function A1(i,o){i.blockedOn===o&&(i.blockedOn=null,lg||(lg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,EA)))}var _1=null;function gy(i){_1!==i&&(_1=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_1===i&&(_1=null);for(var o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],_=i[o+2];if(typeof m!="function"){if(og(m||h)===null)continue;break}var N=Tr(h);N!==null&&(i.splice(o,3),o-=3,nh(N,{pending:!0,data:_,method:h.method,action:m},m,_))}}))}function jf(i){function o(Ee){return A1(Ee,i)}Ec!==null&&A1(Ec,i),Sc!==null&&A1(Sc,i),Tc!==null&&A1(Tc,i),kf.forEach(o),Bf.forEach(o);for(var h=0;h<Cc.length;h++){var m=Cc[h];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Cc.length&&(h=Cc[0],h.blockedOn===null);)fy(h),h.blockedOn===null&&Cc.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var _=h[m],N=h[m+1],K=_[ur]||null;if(typeof N=="function")K||gy(h);else if(K){var he=null;if(N&&N.hasAttribute("formAction")){if(_=N,K=N[ur]||null)he=K.formAction;else if(og(_)!==null)continue}else he=K.action;typeof he=="function"?h[m+1]=he:(h.splice(m,3),m-=3),gy(h)}}}function cg(i){this._internalRoot=i}E1.prototype.render=cg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var h=o.current,m=$a();oy(h,m,i,o,null,null)},E1.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&gh(),oy(i.current,2,null,i,null,null),a1(),o[rr]=null}};function E1(i){this._internalRoot=i}E1.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ar();i={blockedOn:null,target:i,priority:o};for(var h=0;h<Cc.length&&o!==0&&o<Cc[h].priority;h++);Cc.splice(h,0,i),h===0&&fy(i)}};var py=e.version;if(py!=="19.0.0")throw Error(r(527,py,"19.0.0"));fe.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Be(o),i=i!==null?W(i):null,i=i===null?null:i.stateNode,i};var SA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:kr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S1.isDisabled&&S1.supportsFiber)try{en=S1.inject(SA),Et=S1}catch{}}return Vf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var h=!1,m="",_=pf,N=Qd,K=ah,he=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(K=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(he=o.unstable_transitionCallbacks)),o=sy(i,1,!1,null,null,h,m,_,N,K,he,null),i[rr]=o.current,W2(i.nodeType===8?i.parentNode:i),new cg(o)},Vf.hydrateRoot=function(i,o,h){if(!a(i))throw Error(r(299));var m=!1,_="",N=pf,K=Qd,he=ah,Ee=null,qe=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(K=h.onCaughtError),h.onRecoverableError!==void 0&&(he=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Ee=h.unstable_transitionCallbacks),h.formState!==void 0&&(qe=h.formState)),o=sy(i,1,!0,o,h??null,m,_,N,K,he,Ee,qe),o.context=ay(null),h=o.current,m=$a(),_=mc(m),_.callback=null,yc(h,_,m),o.current.lanes=m,Bt(o,m),rl(o),i[rr]=o.current,W2(i),new E1(o)},Vf.version="19.0.0",Vf}var Sy;function kA(){if(Sy)return fg.exports;Sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fg.exports=PA(),fg.exports}var BA=kA();const FA=Tp(BA);var zf={},Ty;function jA(){if(Ty)return zf;Ty=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.parse=f,zf.serialize=w;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const M=function(){};return M.prototype=Object.create(null),M})();function f(M,R){const H=new l,q=M.length;if(q<2)return H;const J=(R==null?void 0:R.decode)||T;let G=0;do{const te=M.indexOf("=",G);if(te===-1)break;const le=M.indexOf(";",G),Ce=le===-1?q:le;if(te>Ce){G=M.lastIndexOf(";",te-1)+1;continue}const De=p(M,G,te),Ge=v(M,te,De),X=M.slice(De,Ge);if(H[X]===void 0){let z=p(M,te+1,Ce),j=v(M,Ce,z);const ae=J(M.slice(z,j));H[X]=ae}G=Ce+1}while(G<q);return H}function p(M,R,H){do{const q=M.charCodeAt(R);if(q!==32&&q!==9)return R}while(++R<H);return H}function v(M,R,H){for(;R>H;){const q=M.charCodeAt(--R);if(q!==32&&q!==9)return R+1}return H}function w(M,R,H){const q=(H==null?void 0:H.encode)||encodeURIComponent;if(!n.test(M))throw new TypeError(`argument name is invalid: ${M}`);const J=q(R);if(!e.test(J))throw new TypeError(`argument val is invalid: ${R}`);let G=M+"="+J;if(!H)return G;if(H.maxAge!==void 0){if(!Number.isInteger(H.maxAge))throw new TypeError(`option maxAge is invalid: ${H.maxAge}`);G+="; Max-Age="+H.maxAge}if(H.domain){if(!t.test(H.domain))throw new TypeError(`option domain is invalid: ${H.domain}`);G+="; Domain="+H.domain}if(H.path){if(!r.test(H.path))throw new TypeError(`option path is invalid: ${H.path}`);G+="; Path="+H.path}if(H.expires){if(!I(H.expires)||!Number.isFinite(H.expires.valueOf()))throw new TypeError(`option expires is invalid: ${H.expires}`);G+="; Expires="+H.expires.toUTCString()}if(H.httpOnly&&(G+="; HttpOnly"),H.secure&&(G+="; Secure"),H.partitioned&&(G+="; Partitioned"),H.priority)switch(typeof H.priority=="string"?H.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${H.priority}`)}if(H.sameSite)switch(typeof H.sameSite=="string"?H.sameSite.toLowerCase():H.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${H.sameSite}`)}return G}function T(M){if(M.indexOf("%")===-1)return M;try{return decodeURIComponent(M)}catch{return M}}function I(M){return a.call(M)==="[object Date]"}return zf}jA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cy="popstate";function UA(n={}){function e(r,a){let{pathname:l,search:f,hash:p}=r.location;return Fg("",{pathname:l,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ad(a)}return zA(e,t,null,n)}function Ni(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VA(){return Math.random().toString(36).substring(2,10)}function Iy(n,e){return{usr:n.state,key:n.key,idx:e}}function Fg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xh(e):e,state:t,key:e&&e.key||r||VA()}}function ad({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zA(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,f=a.history,p="POP",v=null,w=T();w==null&&(w=0,f.replaceState({...f.state,idx:w},""));function T(){return(f.state||{idx:null}).idx}function I(){p="POP";let J=T(),G=J==null?null:J-w;w=J,v&&v({action:p,location:q.location,delta:G})}function M(J,G){p="PUSH";let te=Fg(q.location,J,G);w=T()+1;let le=Iy(te,w),Ce=q.createHref(te);try{f.pushState(le,"",Ce)}catch(De){if(De instanceof DOMException&&De.name==="DataCloneError")throw De;a.location.assign(Ce)}l&&v&&v({action:p,location:q.location,delta:1})}function R(J,G){p="REPLACE";let te=Fg(q.location,J,G);w=T();let le=Iy(te,w),Ce=q.createHref(te);f.replaceState(le,"",Ce),l&&v&&v({action:p,location:q.location,delta:0})}function H(J){let G=a.location.origin!=="null"?a.location.origin:a.location.href,te=typeof J=="string"?J:ad(J);return te=te.replace(/ $/,"%20"),Ni(G,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,G)}let q={get action(){return p},get location(){return n(a,f)},listen(J){if(v)throw new Error("A history only accepts one active listener");return a.addEventListener(Cy,I),v=J,()=>{a.removeEventListener(Cy,I),v=null}},createHref(J){return e(a,J)},createURL:H,encodeLocation(J){let G=H(J);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:M,replace:R,go(J){return f.go(J)}};return q}function Ww(n,e,t="/"){return HA(n,e,t,!1)}function HA(n,e,t,r){let a=typeof e=="string"?Xh(e):e,l=Wc(a.pathname||"/",t);if(l==null)return null;let f=Yw(n);qA(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let w=t_(l);p=$A(f[v],w,r)}return p}function Yw(n,e=[],t=[],r=""){let a=(l,f,p)=>{let v={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};v.relativePath.startsWith("/")&&(Ni(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length));let w=ql([r,v.relativePath]),T=t.concat(v);l.children&&l.children.length>0&&(Ni(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Yw(l.children,e,T,w)),!(l.path==null&&!l.index)&&e.push({path:w,score:ZA(w,l.index),routesMeta:T})};return n.forEach((l,f)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))a(l,f);else for(let v of Xw(l.path))a(l,f,v)}),e}function Xw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let f=Xw(r.join("/")),p=[];return p.push(...f.map(v=>v===""?l:[l,v].join("/"))),a&&p.push(...f),p.map(v=>n.startsWith("/")&&v===""?"/":v)}function qA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GA=/^:[\w-]+$/,WA=3,YA=2,XA=1,KA=10,QA=-2,Ny=n=>n==="*";function ZA(n,e){let t=n.split("/"),r=t.length;return t.some(Ny)&&(r+=QA),e&&(r+=YA),t.filter(a=>!Ny(a)).reduce((a,l)=>a+(GA.test(l)?WA:l===""?XA:KA),r)}function JA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function $A(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",f=[];for(let p=0;p<r.length;++p){let v=r[p],w=p===r.length-1,T=l==="/"?e:e.slice(l.length)||"/",I=t0({path:v.relativePath,caseSensitive:v.caseSensitive,end:w},T),M=v.route;if(!I&&w&&t&&!r[r.length-1].route.index&&(I=t0({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},T)),!I)return null;Object.assign(a,I.params),f.push({params:a,pathname:ql([l,I.pathname]),pathnameBase:s_(ql([l,I.pathnameBase])),route:M}),I.pathnameBase!=="/"&&(l=ql([l,I.pathnameBase]))}return f}function t0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=e_(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],f=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:r.reduce((w,{paramName:T,isOptional:I},M)=>{if(T==="*"){let H=p[M]||"";f=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const R=p[M];return I&&!R?w[T]=void 0:w[T]=(R||"").replace(/%2F/g,"/"),w},{}),pathname:l,pathnameBase:f,pattern:n}}function e_(n,e=!1,t=!0){gl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(r.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function t_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function n_(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Xh(n):n;return{pathname:t?t.startsWith("/")?t:r_(t,e):e,search:a_(r),hash:o_(a)}}function r_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function mg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kw(n){let e=i_(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Qw(n,e,t,r=!1){let a;typeof n=="string"?a=Xh(n):(a={...n},Ni(!a.pathname||!a.pathname.includes("?"),mg("?","pathname","search",a)),Ni(!a.pathname||!a.pathname.includes("#"),mg("#","pathname","hash",a)),Ni(!a.search||!a.search.includes("#"),mg("#","search","hash",a)));let l=n===""||a.pathname==="",f=l?"/":a.pathname,p;if(f==null)p=t;else{let I=e.length-1;if(!r&&f.startsWith("..")){let M=f.split("/");for(;M[0]==="..";)M.shift(),I-=1;a.pathname=M.join("/")}p=I>=0?e[I]:"/"}let v=n_(a,p),w=f&&f!=="/"&&f.endsWith("/"),T=(l||f===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(w||T)&&(v.pathname+="/"),v}var ql=n=>n.join("/").replace(/\/\/+/g,"/"),s_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),a_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,o_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function l_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Zw=["POST","PUT","PATCH","DELETE"];new Set(Zw);var c_=["GET",...Zw];new Set(c_);var Kh=ke.createContext(null);Kh.displayName="DataRouter";var N0=ke.createContext(null);N0.displayName="DataRouterState";var Jw=ke.createContext({isTransitioning:!1});Jw.displayName="ViewTransition";var u_=ke.createContext(new Map);u_.displayName="Fetchers";var h_=ke.createContext(null);h_.displayName="Await";var ml=ke.createContext(null);ml.displayName="Navigation";var wd=ke.createContext(null);wd.displayName="Location";var Jl=ke.createContext({outlet:null,matches:[],isDataRoute:!1});Jl.displayName="Route";var Ip=ke.createContext(null);Ip.displayName="RouteError";function f_(n,{relative:e}={}){Ni(xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ke.useContext(ml),{hash:a,pathname:l,search:f}=bd(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:ql([t,l])),r.createHref({pathname:p,search:f,hash:a})}function xd(){return ke.useContext(wd)!=null}function $l(){return Ni(xd(),"useLocation() may be used only in the context of a <Router> component."),ke.useContext(wd).location}var $w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e3(n){ke.useContext(ml).static||ke.useLayoutEffect(n)}function t3(){let{isDataRoute:n}=ke.useContext(Jl);return n?S_():d_()}function d_(){Ni(xd(),"useNavigate() may be used only in the context of a <Router> component.");let n=ke.useContext(Kh),{basename:e,navigator:t}=ke.useContext(ml),{matches:r}=ke.useContext(Jl),{pathname:a}=$l(),l=JSON.stringify(Kw(r)),f=ke.useRef(!1);return e3(()=>{f.current=!0}),ke.useCallback((v,w={})=>{if(gl(f.current,$w),!f.current)return;if(typeof v=="number"){t.go(v);return}let T=Qw(v,JSON.parse(l),a,w.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ql([e,T.pathname])),(w.replace?t.replace:t.push)(T,w.state,w)},[e,t,l,a,n])}ke.createContext(null);function bd(n,{relative:e}={}){let{matches:t}=ke.useContext(Jl),{pathname:r}=$l(),a=JSON.stringify(Kw(t));return ke.useMemo(()=>Qw(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function g_(n,e){return n3(n,e)}function n3(n,e,t,r){var te;Ni(xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=ke.useContext(ml),{matches:f}=ke.useContext(Jl),p=f[f.length-1],v=p?p.params:{},w=p?p.pathname:"/",T=p?p.pathnameBase:"/",I=p&&p.route;{let le=I&&I.path||"";r3(w,!I||le.endsWith("*")||le.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${le}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${le}"> to <Route path="${le==="/"?"*":`${le}/*`}">.`)}let M=$l(),R;if(e){let le=typeof e=="string"?Xh(e):e;Ni(T==="/"||((te=le.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${le.pathname}" was given in the \`location\` prop.`),R=le}else R=M;let H=R.pathname||"/",q=H;if(T!=="/"){let le=T.replace(/^\//,"").split("/");q="/"+H.replace(/^\//,"").split("/").slice(le.length).join("/")}let J=!l&&t&&t.matches&&t.matches.length>0?t.matches:Ww(n,{pathname:q});gl(I||J!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gl(J==null||J[J.length-1].route.element!==void 0||J[J.length-1].route.Component!==void 0||J[J.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=w_(J&&J.map(le=>Object.assign({},le,{params:Object.assign({},v,le.params),pathname:ql([T,a.encodeLocation?a.encodeLocation(le.pathname).pathname:le.pathname]),pathnameBase:le.pathnameBase==="/"?T:ql([T,a.encodeLocation?a.encodeLocation(le.pathnameBase).pathname:le.pathnameBase])})),f,t,r);return e&&G?ke.createElement(wd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},G):G}function p_(){let n=E_(),e=l_(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=ke.createElement(ke.Fragment,null,ke.createElement("p",null,"💿 Hey developer 👋"),ke.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ke.createElement("code",{style:l},"ErrorBoundary")," or"," ",ke.createElement("code",{style:l},"errorElement")," prop on your route.")),ke.createElement(ke.Fragment,null,ke.createElement("h2",null,"Unexpected Application Error!"),ke.createElement("h3",{style:{fontStyle:"italic"}},e),t?ke.createElement("pre",{style:a},t):null,f)}var m_=ke.createElement(p_,null),y_=class extends ke.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ke.createElement(Jl.Provider,{value:this.props.routeContext},ke.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v_({routeContext:n,match:e,children:t}){let r=ke.useContext(Kh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ke.createElement(Jl.Provider,{value:n},t)}function w_(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let v=a.findIndex(w=>w.route.id&&(l==null?void 0:l[w.route.id])!==void 0);Ni(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let f=!1,p=-1;if(t)for(let v=0;v<a.length;v++){let w=a[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:T,errors:I}=t,M=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||M){f=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((v,w,T)=>{let I,M=!1,R=null,H=null;t&&(I=l&&w.route.id?l[w.route.id]:void 0,R=w.route.errorElement||m_,f&&(p<0&&T===0?(r3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,H=null):p===T&&(M=!0,H=w.route.hydrateFallbackElement||null)));let q=e.concat(a.slice(0,T+1)),J=()=>{let G;return I?G=R:M?G=H:w.route.Component?G=ke.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=v,ke.createElement(v_,{match:w,routeContext:{outlet:v,matches:q,isDataRoute:t!=null},children:G})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?ke.createElement(y_,{location:t.location,revalidation:t.revalidation,component:R,error:I,children:J(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):J()},null)}function Np(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x_(n){let e=ke.useContext(Kh);return Ni(e,Np(n)),e}function b_(n){let e=ke.useContext(N0);return Ni(e,Np(n)),e}function A_(n){let e=ke.useContext(Jl);return Ni(e,Np(n)),e}function Rp(n){let e=A_(n),t=e.matches[e.matches.length-1];return Ni(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function __(){return Rp("useRouteId")}function E_(){var r;let n=ke.useContext(Ip),e=b_("useRouteError"),t=Rp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function S_(){let{router:n}=x_("useNavigate"),e=Rp("useNavigate"),t=ke.useRef(!1);return e3(()=>{t.current=!0}),ke.useCallback(async(a,l={})=>{gl(t.current,$w),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Ry={};function r3(n,e,t){!e&&!Ry[n]&&(Ry[n]=!0,gl(!1,t))}ke.memo(T_);function T_({routes:n,future:e,state:t}){return n3(n,void 0,t,e)}function Wf(n){Ni(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C_({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){Ni(!xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=ke.useMemo(()=>({basename:f,navigator:a,static:l,future:{}}),[f,a,l]);typeof t=="string"&&(t=Xh(t));let{pathname:v="/",search:w="",hash:T="",state:I=null,key:M="default"}=t,R=ke.useMemo(()=>{let H=Wc(v,f);return H==null?null:{location:{pathname:H,search:w,hash:T,state:I,key:M},navigationType:r}},[f,v,w,T,I,M,r]);return gl(R!=null,`<Router basename="${f}"> is not able to match the URL "${v}${w}${T}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:ke.createElement(ml.Provider,{value:p},ke.createElement(wd.Provider,{children:e,value:R}))}function I_({children:n,location:e}){return g_(jg(n),e)}function jg(n,e=[]){let t=[];return ke.Children.forEach(n,(r,a)=>{if(!ke.isValidElement(r))return;let l=[...e,a];if(r.type===ke.Fragment){t.push.apply(t,jg(r.props.children,l));return}Ni(r.type===Wf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ni(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=jg(r.props.children,l)),t.push(f)}),t}var j1="get",U1="application/x-www-form-urlencoded";function R0(n){return n!=null&&typeof n.tagName=="string"}function N_(n){return R0(n)&&n.tagName.toLowerCase()==="button"}function R_(n){return R0(n)&&n.tagName.toLowerCase()==="form"}function L_(n){return R0(n)&&n.tagName.toLowerCase()==="input"}function D_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function O_(n,e){return n.button===0&&(!e||e==="_self")&&!D_(n)}var C1=null;function M_(){if(C1===null)try{new FormData(document.createElement("form"),0),C1=!1}catch{C1=!0}return C1}var P_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(n){return n!=null&&!P_.has(n)?(gl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${U1}"`),null):n}function k_(n,e){let t,r,a,l,f;if(R_(n)){let p=n.getAttribute("action");r=p?Wc(p,e):null,t=n.getAttribute("method")||j1,a=yg(n.getAttribute("enctype"))||U1,l=new FormData(n)}else if(N_(n)||L_(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||p.getAttribute("action");if(r=v?Wc(v,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||j1,a=yg(n.getAttribute("formenctype"))||yg(p.getAttribute("enctype"))||U1,l=new FormData(p,n),!M_()){let{name:w,type:T,value:I}=n;if(T==="image"){let M=w?`${w}.`:"";l.append(`${M}x`,"0"),l.append(`${M}y`,"0")}else w&&l.append(w,I)}}else{if(R0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=j1,r=null,a=U1,f=n}return l&&a==="text/plain"&&(f=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:f}}function Lp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function B_(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function j_(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let f=await B_(l,t);return f.links?f.links():[]}return[]}));return H_(r.flat(1).filter(F_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ly(n,e,t,r,a,l){let f=(v,w)=>t[w]?v.route.id!==t[w].route.id:!0,p=(v,w)=>{var T;return t[w].pathname!==v.pathname||((T=t[w].route.path)==null?void 0:T.endsWith("*"))&&t[w].params["*"]!==v.params["*"]};return l==="assets"?e.filter((v,w)=>f(v,w)||p(v,w)):l==="data"?e.filter((v,w)=>{var I;let T=r.routes[v.route.id];if(!T||!T.hasLoader)return!1;if(f(v,w)||p(v,w))return!0;if(v.route.shouldRevalidate){let M=v.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function U_(n,e,{includeHydrateFallback:t}={}){return V_(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function V_(n){return[...new Set(n)]}function z_(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function H_(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(z_(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function q_(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function G_(){let n=ke.useContext(Kh);return Lp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function W_(){let n=ke.useContext(N0);return Lp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Dp=ke.createContext(void 0);Dp.displayName="FrameworkContext";function i3(){let n=ke.useContext(Dp);return Lp(n,"You must render this element inside a <HydratedRouter> element"),n}function Y_(n,e){let t=ke.useContext(Dp),[r,a]=ke.useState(!1),[l,f]=ke.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:w,onMouseLeave:T,onTouchStart:I}=e,M=ke.useRef(null);ke.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let q=G=>{G.forEach(te=>{f(te.isIntersecting)})},J=new IntersectionObserver(q,{threshold:.5});return M.current&&J.observe(M.current),()=>{J.disconnect()}}},[n]),ke.useEffect(()=>{if(r){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[r]);let R=()=>{a(!0)},H=()=>{a(!1),f(!1)};return t?n!=="intent"?[l,M,{}]:[l,M,{onFocus:Hf(p,R),onBlur:Hf(v,H),onMouseEnter:Hf(w,R),onMouseLeave:Hf(T,H),onTouchStart:Hf(I,R)}]:[!1,M,{}]}function Hf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function X_({page:n,...e}){let{router:t}=G_(),r=ke.useMemo(()=>Ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ke.createElement(Q_,{page:n,matches:r,...e}):null}function K_(n){let{manifest:e,routeModules:t}=i3(),[r,a]=ke.useState([]);return ke.useEffect(()=>{let l=!1;return j_(n,e,t).then(f=>{l||a(f)}),()=>{l=!0}},[n,e,t]),r}function Q_({page:n,matches:e,...t}){let r=$l(),{manifest:a,routeModules:l}=i3(),{loaderData:f,matches:p}=W_(),v=ke.useMemo(()=>Ly(n,e,p,a,r,"data"),[n,e,p,a,r]),w=ke.useMemo(()=>Ly(n,e,p,a,r,"assets"),[n,e,p,a,r]),T=ke.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,H=!1;if(e.forEach(J=>{var te;let G=a.routes[J.route.id];!G||!G.hasLoader||(!v.some(le=>le.route.id===J.route.id)&&J.route.id in f&&((te=l[J.route.id])!=null&&te.shouldRevalidate)||G.hasClientLoader?H=!0:R.add(J.route.id))}),R.size===0)return[];let q=q_(n);return H&&R.size>0&&q.searchParams.set("_routes",e.filter(J=>R.has(J.route.id)).map(J=>J.route.id).join(",")),[q.pathname+q.search]},[f,r,a,v,e,n,l]),I=ke.useMemo(()=>U_(w,a),[w,a]),M=K_(w);return ke.createElement(ke.Fragment,null,T.map(R=>ke.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),I.map(R=>ke.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),M.map(({key:R,link:H})=>ke.createElement("link",{key:R,...H})))}function Z_(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var s3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s3&&(window.__reactRouterVersion="7.2.0")}catch{}function J_({basename:n,children:e,window:t}){let r=ke.useRef();r.current==null&&(r.current=UA({window:t,v5Compat:!0}));let a=r.current,[l,f]=ke.useState({action:a.action,location:a.location}),p=ke.useCallback(v=>{ke.startTransition(()=>f(v))},[f]);return ke.useLayoutEffect(()=>a.listen(p),[a,p]),ke.createElement(C_,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var a3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=ke.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:f,state:p,target:v,to:w,preventScrollReset:T,viewTransition:I,...M},R){let{basename:H}=ke.useContext(ml),q=typeof w=="string"&&a3.test(w),J,G=!1;if(typeof w=="string"&&q&&(J=w,s3))try{let j=new URL(window.location.href),ae=w.startsWith("//")?new URL(j.protocol+w):new URL(w),V=Wc(ae.pathname,H);ae.origin===j.origin&&V!=null?w=V+ae.search+ae.hash:G=!0}catch{gl(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=f_(w,{relative:a}),[le,Ce,De]=Y_(r,M),Ge=nE(w,{replace:f,state:p,target:v,preventScrollReset:T,relative:a,viewTransition:I});function X(j){e&&e(j),j.defaultPrevented||Ge(j)}let z=ke.createElement("a",{...M,...De,href:J||te,onClick:G||l?e:X,ref:Z_(R,Ce),target:v,"data-discover":!q&&t==="render"?"true":void 0});return le&&!q?ke.createElement(ke.Fragment,null,z,ke.createElement(X_,{page:te})):z});kc.displayName="Link";var $_=ke.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:f,viewTransition:p,children:v,...w},T){let I=bd(f,{relative:w.relative}),M=$l(),R=ke.useContext(N0),{navigator:H,basename:q}=ke.useContext(ml),J=R!=null&&oE(I)&&p===!0,G=H.encodeLocation?H.encodeLocation(I).pathname:I.pathname,te=M.pathname,le=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(te=te.toLowerCase(),le=le?le.toLowerCase():null,G=G.toLowerCase()),le&&q&&(le=Wc(le,q)||le);const Ce=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let De=te===G||!a&&te.startsWith(G)&&te.charAt(Ce)==="/",Ge=le!=null&&(le===G||!a&&le.startsWith(G)&&le.charAt(G.length)==="/"),X={isActive:De,isPending:Ge,isTransitioning:J},z=De?e:void 0,j;typeof r=="function"?j=r(X):j=[r,De?"active":null,Ge?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let ae=typeof l=="function"?l(X):l;return ke.createElement(kc,{...w,"aria-current":z,className:j,ref:T,style:ae,to:f,viewTransition:p},typeof v=="function"?v(X):v)});$_.displayName="NavLink";var eE=ke.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:f=j1,action:p,onSubmit:v,relative:w,preventScrollReset:T,viewTransition:I,...M},R)=>{let H=sE(),q=aE(p,{relative:w}),J=f.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&a3.test(p),te=le=>{if(v&&v(le),le.defaultPrevented)return;le.preventDefault();let Ce=le.nativeEvent.submitter,De=(Ce==null?void 0:Ce.getAttribute("formmethod"))||f;H(Ce||le.currentTarget,{fetcherKey:e,method:De,navigate:t,replace:a,state:l,relative:w,preventScrollReset:T,viewTransition:I})};return ke.createElement("form",{ref:R,method:J,action:q,onSubmit:r?v:te,...M,"data-discover":!G&&n==="render"?"true":void 0})});eE.displayName="Form";function tE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o3(n){let e=ke.useContext(Kh);return Ni(e,tE(n)),e}function nE(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:f}={}){let p=t3(),v=$l(),w=bd(n,{relative:l});return ke.useCallback(T=>{if(O_(T,e)){T.preventDefault();let I=t!==void 0?t:ad(v)===ad(w);p(n,{replace:I,state:r,preventScrollReset:a,relative:l,viewTransition:f})}},[v,p,w,t,r,e,n,a,l,f])}var rE=0,iE=()=>`__${String(++rE)}__`;function sE(){let{router:n}=o3("useSubmit"),{basename:e}=ke.useContext(ml),t=__();return ke.useCallback(async(r,a={})=>{let{action:l,method:f,encType:p,formData:v,body:w}=k_(r,e);if(a.navigate===!1){let T=a.fetcherKey||iE();await n.fetch(T,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:v,body:w,formMethod:a.method||f,formEncType:a.encType||p,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:v,body:w,formMethod:a.method||f,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function aE(n,{relative:e}={}){let{basename:t}=ke.useContext(ml),r=ke.useContext(Jl);Ni(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...bd(n||".",{relative:e})},f=$l();if(n==null){l.search=f.search;let p=new URLSearchParams(l.search),v=p.getAll("index");if(v.some(T=>T==="")){p.delete("index"),v.filter(I=>I).forEach(I=>p.append("index",I));let T=p.toString();l.search=T?`?${T}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ql([t,l.pathname])),ad(l)}function oE(n,e={}){let t=ke.useContext(Jw);Ni(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=o3("useViewTransitionState"),a=bd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Wc(t.currentLocation.pathname,r)||t.currentLocation.pathname,f=Wc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return t0(a.pathname,f)!=null||t0(a.pathname,l)!=null}new TextEncoder;/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=ke.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:f,...p},v)=>ke.createElement("svg",{ref:v,...cE,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:l3("lucide",a),...p},[...f.map(([w,T])=>ke.createElement(w,T)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=(n,e)=>{const t=ke.forwardRef(({className:r,...a},l)=>ke.createElement(uE,{ref:l,iconNode:e,className:l3(`lucide-${lE(n)}`,r),...a}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fE=Pa("ArrowRight",hE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],c3=Pa("Calendar",dE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pE=Pa("ChevronDown",gE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],yE=Pa("Download",mE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],wE=Pa("Dumbbell",vE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],bE=Pa("Heart",xE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Dy=Pa("Loader",AE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],EE=Pa("LogOut",_E);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TE=Pa("MapPin",SE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],IE=Pa("Menu",CE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],RE=Pa("Scan",NE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],DE=Pa("Search",LE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ug=Pa("User",OE);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],u3=Pa("X",ME),PE=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},kE=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],f=n[t++],p=n[t++],v=((a&7)<<18|(l&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const l=n[t++],f=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|f&63)}}return e.join("")},f3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],f=a+1<n.length,p=f?n[a+1]:0,v=a+2<n.length,w=v?n[a+2]:0,T=l>>2,I=(l&3)<<4|p>>4;let M=(p&15)<<2|w>>6,R=w&63;v||(R=64,f||(M=64)),r.push(t[T],t[I],t[M],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(h3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],p=a<n.length?t[n.charAt(a)]:0;++a;const w=a<n.length?t[n.charAt(a)]:64;++a;const I=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||p==null||w==null||I==null)throw new BE;const M=l<<2|p>>4;if(r.push(M),w!==64){const R=p<<4&240|w>>2;if(r.push(R),I!==64){const H=w<<6&192|I;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FE=function(n){const e=h3(n);return f3.encodeByteArray(e,!0)},n0=function(n){return FE(n).replace(/\./g,"")},d3=function(n){try{return f3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=()=>jE().__FIREBASE_DEFAULTS__,VE=()=>{if(typeof process>"u"||typeof Oy>"u")return;const n=Oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&d3(n[1]);return e&&JSON.parse(e)},L0=()=>{try{return PE()||UE()||VE()||zE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},g3=n=>{var e,t;return(t=(e=L0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HE=n=>{const e=g3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},p3=()=>{var n;return(n=L0())===null||n===void 0?void 0:n.config},m3=n=>{var e;return(e=L0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[n0(JSON.stringify(t)),n0(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fa())}function YE(){var n;const e=(n=L0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZE(){const n=fa();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JE(){return!YE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function e6(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="FirebaseError";class ec extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t6,Object.setPrototypeOf(this,ec.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],f=l?n6(l,r):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new ec(a,p,r)}}function n6(n,e){return n.replace(r6,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const r6=/\{\$([^}]+)}/g;function i6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ou(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],f=e[a];if(My(l)&&My(f)){if(!Ou(l,f))return!1}else if(l!==f)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function My(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Xf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function s6(n,e){const t=new a6(n,e);return t.subscribe.bind(t)}class a6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");o6(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=vg),a.error===void 0&&(a.error=vg),a.complete===void 0&&(a.complete=vg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n){return n&&n._delegate?n._delegate:n}class Mu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qE;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u6(e))try{this.getOrInitializeService({instanceIdentifier:Tu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Tu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tu){return this.instances.has(e)}getOptions(e=Tu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&f.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const f=this.instances.get(a);return f&&e(f,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tu){return this.component?this.component.multipleInstances?e:Tu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c6(n){return n===Tu?void 0:n}function u6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ar||(ar={}));const f6={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},d6=ar.INFO,g6={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},p6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=g6[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=d6,this._logHandler=p6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ar))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...e),this._logHandler(this,ar.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...e),this._logHandler(this,ar.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...e),this._logHandler(this,ar.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...e),this._logHandler(this,ar.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...e),this._logHandler(this,ar.ERROR,...e)}}const m6=(n,e)=>e.some(t=>n instanceof t);let Py,ky;function y6(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v6(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y3=new WeakMap,Vg=new WeakMap,v3=new WeakMap,wg=new WeakMap,Mp=new WeakMap;function w6(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",f)},l=()=>{t(Vc(n.result)),a()},f=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&y3.set(t,n)}).catch(()=>{}),Mp.set(e,n),e}function x6(n){if(Vg.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",f),n.removeEventListener("abort",f)},l=()=>{t(),a()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",f),n.addEventListener("abort",f)});Vg.set(n,e)}let zg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function b6(n){zg=n(zg)}function A6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(xg(this),e,...t);return v3.set(r,e.sort?e.sort():[e]),Vc(r)}:v6().includes(n)?function(...e){return n.apply(xg(this),e),Vc(y3.get(this))}:function(...e){return Vc(n.apply(xg(this),e))}}function _6(n){return typeof n=="function"?A6(n):(n instanceof IDBTransaction&&x6(n),m6(n,y6())?new Proxy(n,zg):n)}function Vc(n){if(n instanceof IDBRequest)return w6(n);if(wg.has(n))return wg.get(n);const e=_6(n);return e!==n&&(wg.set(n,e),Mp.set(e,n)),e}const xg=n=>Mp.get(n);function E6(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const f=indexedDB.open(n,e),p=Vc(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Vc(f.result),v.oldVersion,v.newVersion,Vc(f.transaction),v)}),t&&f.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),p.then(v=>{l&&v.addEventListener("close",()=>l()),a&&v.addEventListener("versionchange",w=>a(w.oldVersion,w.newVersion,w))}).catch(()=>{}),p}const S6=["get","getKey","getAll","getAllKeys","count"],T6=["put","add","delete","clear"],bg=new Map;function By(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=T6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||S6.includes(t)))return;const l=async function(f,...p){const v=this.transaction(f,a?"readwrite":"readonly");let w=v.store;return r&&(w=w.index(p.shift())),(await Promise.all([w[t](...p),a&&v.done]))[0]};return bg.set(e,l),l}b6(n=>({...n,get:(e,t,r)=>By(e,t)||n.get(e,t,r),has:(e,t)=>!!By(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function I6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",Fy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Op("@firebase/app"),N6="@firebase/app-compat",R6="@firebase/analytics-compat",L6="@firebase/analytics",D6="@firebase/app-check-compat",O6="@firebase/app-check",M6="@firebase/auth",P6="@firebase/auth-compat",k6="@firebase/database",B6="@firebase/data-connect",F6="@firebase/database-compat",j6="@firebase/functions",U6="@firebase/functions-compat",V6="@firebase/installations",z6="@firebase/installations-compat",H6="@firebase/messaging",q6="@firebase/messaging-compat",G6="@firebase/performance",W6="@firebase/performance-compat",Y6="@firebase/remote-config",X6="@firebase/remote-config-compat",K6="@firebase/storage",Q6="@firebase/storage-compat",Z6="@firebase/firestore",J6="@firebase/vertexai",$6="@firebase/firestore-compat",eS="firebase",tS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",nS={[Hg]:"fire-core",[N6]:"fire-core-compat",[L6]:"fire-analytics",[R6]:"fire-analytics-compat",[O6]:"fire-app-check",[D6]:"fire-app-check-compat",[M6]:"fire-auth",[P6]:"fire-auth-compat",[k6]:"fire-rtdb",[B6]:"fire-data-connect",[F6]:"fire-rtdb-compat",[j6]:"fire-fn",[U6]:"fire-fn-compat",[V6]:"fire-iid",[z6]:"fire-iid-compat",[H6]:"fire-fcm",[q6]:"fire-fcm-compat",[G6]:"fire-perf",[W6]:"fire-perf-compat",[Y6]:"fire-rc",[X6]:"fire-rc-compat",[K6]:"fire-gcs",[Q6]:"fire-gcs-compat",[Z6]:"fire-fst",[$6]:"fire-fst-compat",[J6]:"fire-vertex","fire-js":"fire-js",[eS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map,rS=new Map,Gg=new Map;function jy(n,e){try{n.container.addComponent(e)}catch(t){Xl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fh(n){const e=n.name;if(Gg.has(e))return Xl.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,n);for(const t of r0.values())jy(t,n);for(const t of rS.values())jy(t,n);return!0}function Pp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function no(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zc=new Ad("app","Firebase",iS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=tS;function w3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw zc.create("bad-app-name",{appName:String(a)});if(t||(t=p3()),!t)throw zc.create("no-options");const l=r0.get(a);if(l){if(Ou(t,l.options)&&Ou(r,l.config))return l;throw zc.create("duplicate-app",{appName:a})}const f=new h6(a);for(const v of Gg.values())f.addComponent(v);const p=new sS(t,r,f);return r0.set(a,p),p}function x3(n=qg){const e=r0.get(n);if(!e&&n===qg&&p3())return w3();if(!e)throw zc.create("no-app",{appName:n});return e}function Hc(n,e,t){var r;let a=(r=nS[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xl.warn(p.join(" "));return}Fh(new Mu(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebase-heartbeat-database",oS=1,od="firebase-heartbeat-store";let Ag=null;function b3(){return Ag||(Ag=E6(aS,oS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(od)}catch(t){console.warn(t)}}}}).catch(n=>{throw zc.create("idb-open",{originalErrorMessage:n.message})})),Ag}async function lS(n){try{const t=(await b3()).transaction(od),r=await t.objectStore(od).get(A3(n));return await t.done,r}catch(e){if(e instanceof ec)Xl.warn(e.message);else{const t=zc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xl.warn(t.message)}}}async function Uy(n,e){try{const r=(await b3()).transaction(od,"readwrite");await r.objectStore(od).put(e,A3(n)),await r.done}catch(t){if(t instanceof ec)Xl.warn(t.message);else{const r=zc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xl.warn(r.message)}}}function A3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=1024,uS=30;class hS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dS(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Vy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>uS){const f=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vy(),{heartbeatsToSend:r,unsentEntries:a}=fS(this._heartbeatsCache.heartbeats),l=n0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xl.warn(t),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function fS(n,e=cS){const t=[];let r=n.slice();for(const a of n){const l=t.find(f=>f.agent===a.agent);if(l){if(l.dates.push(a.date),zy(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),zy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?e6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function zy(n){return n0(JSON.stringify({version:2,heartbeats:n})).length}function gS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n){Fh(new Mu("platform-logger",e=>new C6(e),"PRIVATE")),Fh(new Mu("heartbeat",e=>new hS(e),"PRIVATE")),Hc(Hg,Fy,n),Hc(Hg,Fy,"esm2017"),Hc("fire-js","")}pS("");function kp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function _3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=_3,E3=new Ad("auth","Firebase",_3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Op("@firebase/auth");function yS(n,...e){i0.logLevel<=ar.WARN&&i0.warn(`Auth (${Qh}): ${n}`,...e)}function V1(n,...e){i0.logLevel<=ar.ERROR&&i0.error(`Auth (${Qh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(n,...e){throw Fp(n,...e)}function zo(n,...e){return Fp(n,...e)}function Bp(n,e,t){const r=Object.assign(Object.assign({},mS()),{[e]:t});return new Ad("auth","Firebase",r).create(e,{appName:n.name})}function Gl(n){return Bp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vS(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&bo(n,"argument-error"),Bp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return E3.create(n,...e)}function An(n,e,...t){if(!n)throw Fp(e,...t)}function Ul(n){const e="INTERNAL ASSERTION FAILED: "+n;throw V1(e),new Error(e)}function Kl(n,e){n||Ul(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wS(){return Hy()==="http:"||Hy()==="https:"}function Hy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wS()||KE()||"connection"in navigator)?navigator.onLine:!0}function bS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kl(t>e,"Short delay should be less than long delay!"),this.isMobile=WE()||QE()}get(){return xS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n,e){Kl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Ed(3e4,6e4);function tc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function nc(n,e,t,r,a={}){return T3(n,a,async()=>{let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});const p=_d(Object.assign({key:n.config.apiKey},f)).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const w=Object.assign({method:e,headers:v},l);return XE()||(w.referrerPolicy="no-referrer"),S3.fetch()(C3(n,n.config.apiHost,t,p),w)})}async function T3(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},AS),e);try{const a=new SS(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw I1(n,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const p=l.ok?f.errorMessage:f.error.message,[v,w]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw I1(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw I1(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw I1(n,"user-disabled",f);const T=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Bp(n,T,w);bo(n,T)}}catch(a){if(a instanceof ec)throw a;bo(n,"network-request-failed",{message:String(a)})}}async function Sd(n,e,t,r,a={}){const l=await nc(n,e,t,r,a);return"mfaPendingCredential"in l&&bo(n,"multi-factor-auth-required",{_serverResponse:l}),l}function C3(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?jp(n.config,a):`${n.config.apiScheme}://${a}`}function ES(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zo(this.auth,"network-request-failed")),_S.get())})}}function I1(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=zo(n,e,r);return a.customData._tokenResponse=t,a}function qy(n){return n!==void 0&&n.enterprise!==void 0}class TS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ES(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CS(n,e){return nc(n,"GET","/v2/recaptchaConfig",tc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(n,e){return nc(n,"POST","/v1/accounts:delete",e)}async function I3(n,e){return nc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NS(n,e=!1){const t=xa(n),r=await t.getIdToken(e),a=Up(r);An(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,f=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ed(_g(a.auth_time)),issuedAtTime:ed(_g(a.iat)),expirationTime:ed(_g(a.exp)),signInProvider:f||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _g(n){return Number(n)*1e3}function Up(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return V1("JWT malformed, contained fewer than 3 sections"),null;try{const a=d3(t);return a?JSON.parse(a):(V1("Failed to decode base64 JWT payload"),null)}catch(a){return V1("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Gy(n){const e=Up(n);return An(e,"internal-error"),An(typeof e.exp<"u","internal-error"),An(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ec&&RS(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function RS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(n){var e;const t=n.auth,r=await n.getIdToken(),a=await ld(n,I3(t,{idToken:r}));An(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const f=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?N3(l.providerUserInfo):[],p=OS(n.providerData,f),v=n.isAnonymous,w=!(n.email&&l.passwordHash)&&!(p!=null&&p.length),T=v?w:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Yg(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(n,I)}async function DS(n){const e=xa(n);await s0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OS(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function N3(n){return n.map(e=>{var{providerId:t}=e,r=kp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(n,e){const t=await T3(n,{},async()=>{const r=_d({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,f=C3(n,a,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",S3.fetch()(f,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PS(n,e){return nc(n,"POST","/v2/accounts:revokeToken",tc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){An(e.idToken,"internal-error"),An(typeof e.idToken<"u","internal-error"),An(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){An(e.length!==0,"internal-error");const t=Gy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(An(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await MS(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,f=new Rh;return r&&(An(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),a&&(An(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),l&&(An(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rh,this.toJSON())}_performRefresh(){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n,e){An(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vl{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ld(this,this.stsTokenManager.getToken(this.auth,e));return An(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NS(this,e)}reload(){return DS(this)}_assign(e){this!==e&&(An(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){An(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await s0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(no(this.auth.app))return Promise.reject(Gl(this.auth));const e=await this.getIdToken();return await ld(this,IS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,f,p,v,w,T;const I=(r=t.displayName)!==null&&r!==void 0?r:void 0,M=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,H=(f=t.photoURL)!==null&&f!==void 0?f:void 0,q=(p=t.tenantId)!==null&&p!==void 0?p:void 0,J=(v=t._redirectEventId)!==null&&v!==void 0?v:void 0,G=(w=t.createdAt)!==null&&w!==void 0?w:void 0,te=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:le,emailVerified:Ce,isAnonymous:De,providerData:Ge,stsTokenManager:X}=t;An(le&&X,e,"internal-error");const z=Rh.fromJSON(this.name,X);An(typeof le=="string",e,"internal-error"),Nc(I,e.name),Nc(M,e.name),An(typeof Ce=="boolean",e,"internal-error"),An(typeof De=="boolean",e,"internal-error"),Nc(R,e.name),Nc(H,e.name),Nc(q,e.name),Nc(J,e.name),Nc(G,e.name),Nc(te,e.name);const j=new Vl({uid:le,auth:e,email:M,emailVerified:Ce,displayName:I,isAnonymous:De,photoURL:H,phoneNumber:R,tenantId:q,stsTokenManager:z,createdAt:G,lastLoginAt:te});return Ge&&Array.isArray(Ge)&&(j.providerData=Ge.map(ae=>Object.assign({},ae))),J&&(j._redirectEventId=J),j}static async _fromIdTokenResponse(e,t,r=!1){const a=new Rh;a.updateFromServerResponse(t);const l=new Vl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await s0(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];An(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?N3(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),p=new Rh;p.updateFromIdToken(r);const v=new Vl({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:f}),w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(v,w),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=new Map;function zl(n){Kl(n instanceof Function,"Expected a class definition");let e=Wy.get(n);return e?(Kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}R3.type="NONE";const Yy=R3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e,t){return`firebase:${n}:${e}:${t}`}class Lh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=z1(this.userKey,a.apiKey,l),this.fullPersistenceKey=z1("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Lh(zl(Yy),e,r);const a=(await Promise.all(t.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let l=a[0]||zl(Yy);const f=z1(r,e.config.apiKey,e.name);let p=null;for(const w of t)try{const T=await w._get(f);if(T){const I=Vl._fromJSON(e,T);w!==l&&(p=I),l=w;break}}catch{}const v=a.filter(w=>w._shouldAllowMigration);return!l._shouldAllowMigration||!v.length?new Lh(l,e,r):(l=v[0],p&&await l._set(f,p.toJSON()),await Promise.all(t.map(async w=>{if(w!==l)try{await w._remove(f)}catch{}})),new Lh(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k3(e))return"Blackberry";if(B3(e))return"Webos";if(D3(e))return"Safari";if((e.includes("chrome/")||O3(e))&&!e.includes("edge/"))return"Chrome";if(P3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function L3(n=fa()){return/firefox\//i.test(n)}function D3(n=fa()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O3(n=fa()){return/crios\//i.test(n)}function M3(n=fa()){return/iemobile/i.test(n)}function P3(n=fa()){return/android/i.test(n)}function k3(n=fa()){return/blackberry/i.test(n)}function B3(n=fa()){return/webos/i.test(n)}function Vp(n=fa()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kS(n=fa()){var e;return Vp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BS(){return ZE()&&document.documentMode===10}function F3(n=fa()){return Vp(n)||P3(n)||B3(n)||k3(n)||/windows phone/i.test(n)||M3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(n,e=[]){let t;switch(n){case"Browser":t=Xy(fa());break;case"Worker":t=`${Xy(fa())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((f,p)=>{try{const v=e(l);f(v)}catch(v){p(v)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(n,e={}){return nc(n,"GET","/v2/passwordPolicy",tc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=6;class VS{constructor(e){var t,r,a,l;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:US,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,f,p;const v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,v),this.validatePasswordCharacterOptions(e,v),v.isValid&&(v.isValid=(t=v.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),v.isValid&&(v.isValid=(r=v.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),v.isValid&&(v.isValid=(a=v.containsLowercaseLetter)!==null&&a!==void 0?a:!0),v.isValid&&(v.isValid=(l=v.containsUppercaseLetter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(f=v.containsNumericCharacter)!==null&&f!==void 0?f:!0),v.isValid&&(v.isValid=(p=v.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),v}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ky(this),this.idTokenSubscription=new Ky(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zl(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await I3(this,{idToken:e}),r=await Vl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(no(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=a==null?void 0:a._redirectEventId,v=await this.tryRedirectSignIn(e);(!f||f===p)&&(v!=null&&v.user)&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return An(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await s0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(no(this.app))return Promise.reject(Gl(this));const t=e?xa(e):null;return t&&An(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&An(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return no(this.app)?Promise.reject(Gl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return no(this.app)?Promise.reject(Gl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jS(this),t=new VS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await PS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zl(e)||this._popupRedirectResolver;An(t,this,"argument-error"),this.redirectPersistenceManager=await Lh.create(this,[zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(An(p,this,"internal-error"),p.then(()=>{f||l(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,r,a);return()=>{f=!0,v()}}else{const v=e.addObserver(t);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return An(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(no(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rc(n){return xa(n)}class Ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=s6(t=>this.observer=t)}get next(){return An(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HS(n){D0=n}function U3(n){return D0.loadJS(n)}function qS(){return D0.recaptchaEnterpriseScript}function GS(){return D0.gapiScript}function WS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class YS{constructor(){this.enterprise=new XS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KS="recaptcha-enterprise",V3="NO_RECAPTCHA";class QS{constructor(e){this.type=KS,this.auth=rc(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(f,p)=>{CS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const w=new TS(v);return l.tenantId==null?l._agentRecaptchaConfig=w:l._tenantRecaptchaConfigs[l.tenantId]=w,f(w.siteKey)}}).catch(v=>{p(v)})})}function a(l,f,p){const v=window.grecaptcha;qy(v)?v.enterprise.ready(()=>{v.enterprise.execute(l,{action:e}).then(w=>{f(w)}).catch(()=>{f(V3)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YS().execute("siteKey",{action:"verify"}):new Promise((l,f)=>{r(this.auth).then(p=>{if(!t&&qy(window.grecaptcha))a(p,l,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let v=qS();v.length!==0&&(v+=p),U3(v).then(()=>{a(p,l,f)}).catch(w=>{f(w)})}}).catch(p=>{f(p)})})}}async function Qy(n,e,t,r=!1,a=!1){const l=new QS(n);let f;if(a)f=V3;else try{f=await l.verify(t)}catch{f=await l.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const v=p.phoneEnrollmentInfo.phoneNumber,w=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:w,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const v=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function a0(n,e,t,r,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Qy(n,e,t,t==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Qy(n,e,t,t==="getOobCode");return r(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e){const t=Pp(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ou(l,e??{}))return a;bo(a,"already-initialized")}return t.initialize({options:e})}function JS(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(zl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $S(n,e,t){const r=rc(n);An(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=z3(e),{host:f,port:p}=e8(e),v=p===null?"":`:${p}`,w={url:`${l}//${f}${v}/`},T=Object.freeze({host:f,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){An(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),An(Ou(w,r.config.emulator)&&Ou(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=w,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,t8()}function z3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function e8(n){const e=z3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Zy(r.substr(l.length+1))}}else{const[l,f]=r.split(":");return{host:l,port:Zy(f)}}}function Zy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function t8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ul("not implemented")}_getIdTokenResponse(e){return Ul("not implemented")}_linkToIdToken(e,t){return Ul("not implemented")}_getReauthenticationResolver(e){return Ul("not implemented")}}async function n8(n,e){return nc(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(n,e){return Sd(n,"POST","/v1/accounts:signInWithPassword",tc(n,e))}async function i8(n,e){return nc(n,"POST","/v1/accounts:sendOobCode",tc(n,e))}async function s8(n,e){return i8(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",tc(n,e))}async function o8(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",tc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends zp{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new cd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,t,"signInWithPassword",r8);case"emailLink":return a8(e,{email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,r,"signUpPassword",n8);case"emailLink":return o8(e,{idToken:t,email:this._email,oobCode:this._password});default:bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(n,e){return Sd(n,"POST","/v1/accounts:signInWithIdp",tc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="http://localhost";class Pu extends zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=kp(t,["providerId","signInMethod"]);if(!r||!a)return null;const f=new Pu(r,a);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Dh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}buildRequest(){const e={requestUri:l8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_d(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u8(n){const e=Yf(Xf(n)).link,t=e?Yf(Xf(e)).deep_link_id:null,r=Yf(Xf(n)).deep_link_id;return(r?Yf(Xf(r)).link:null)||r||t||e||n}class Hp{constructor(e){var t,r,a,l,f,p;const v=Yf(Xf(e)),w=(t=v.apiKey)!==null&&t!==void 0?t:null,T=(r=v.oobCode)!==null&&r!==void 0?r:null,I=c8((a=v.mode)!==null&&a!==void 0?a:null);An(w&&T&&I,"argument-error"),this.apiKey=w,this.operation=I,this.code=T,this.continueUrl=(l=v.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(f=v.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=v.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=u8(e);try{return new Hp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.providerId=Zh.PROVIDER_ID}static credential(e,t){return cd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Hp.parseLink(t);return An(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}Zh.PROVIDER_ID="password";Zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Td{constructor(){super("facebook.com")}static credential(e){return Pu._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oc.credentialFromTaggedObject(e)}static credentialFromError(e){return Oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oc.credential(e.oauthAccessToken)}catch{return null}}}Oc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pu._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ol.credential(t,r)}catch{return null}}}ol.GOOGLE_SIGN_IN_METHOD="google.com";ol.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Td{constructor(){super("github.com")}static credential(e){return Pu._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mc.credential(e.oauthAccessToken)}catch{return null}}}Mc.GITHUB_SIGN_IN_METHOD="github.com";Mc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Td{constructor(){super("twitter.com")}static credential(e,t){return Pu._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Pc.credential(t,r)}catch{return null}}}Pc.TWITTER_SIGN_IN_METHOD="twitter.com";Pc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(n,e){return Sd(n,"POST","/v1/accounts:signUp",tc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Vl._fromIdTokenResponse(e,r,a),f=Jy(r);return new ku({user:l,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=Jy(r);return new ku({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function Jy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends ec{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,o0.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new o0(e,t,r,a)}}function H3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?o0._fromErrorAndOperation(n,l,e,r):l})}async function f8(n,e,t=!1){const r=await ld(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ku._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(n,e,t=!1){const{auth:r}=n;if(no(r.app))return Promise.reject(Gl(r));const a="reauthenticate";try{const l=await ld(n,H3(r,a,e,n),t);An(l.idToken,r,"internal-error");const f=Up(l.idToken);An(f,r,"internal-error");const{sub:p}=f;return An(n.uid===p,r,"user-mismatch"),ku._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&bo(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(n,e,t=!1){if(no(n.app))return Promise.reject(Gl(n));const r="signIn",a=await H3(n,r,e),l=await ku._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function g8(n,e){return q3(rc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n){const e=rc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p8(n,e,t){const r=rc(n);await a0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",s8)}async function m8(n,e,t){if(no(n.app))return Promise.reject(Gl(n));const r=rc(n),f=await a0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h8).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&G3(n),v}),p=await ku._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function y8(n,e,t){return no(n.app)?Promise.reject(Gl(n)):g8(xa(n),Zh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G3(n),r})}function v8(n,e,t,r){return xa(n).onIdTokenChanged(e,t,r)}function w8(n,e,t){return xa(n).beforeAuthStateChanged(e,t)}function x8(n,e,t,r){return xa(n).onAuthStateChanged(e,t,r)}function W3(n){return xa(n).signOut()}const l0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(l0,"1"),this.storage.removeItem(l0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1e3,A8=10;class X3 extends Y3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,v)=>{this.notifyListeners(f,v)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},l=this.storage.getItem(r);BS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,A8):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}X3.type="LOCAL";const _8=X3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3 extends Y3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}K3.type="SESSION";const Q3=K3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new O0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,f=this.handlersMap[a];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const p=Array.from(f).map(async w=>w(t.origin,l)),v=await E8(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}O0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,f;return new Promise((p,v)=>{const w=Gp("",20);a.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:a,onMessage(I){const M=I;if(M.data.eventId===w)switch(M.data.status){case"ack":clearTimeout(T),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(M.data.response);break;default:clearTimeout(T),clearTimeout(l),v(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:w,data:t},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return window}function T8(n){cl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return typeof cl().WorkerGlobalScope<"u"&&typeof cl().importScripts=="function"}async function C8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function N8(){return Z3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="firebaseLocalStorageDb",R8=1,c0="firebaseLocalStorage",$3="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function M0(n,e){return n.transaction([c0],e?"readwrite":"readonly").objectStore(c0)}function L8(){const n=indexedDB.deleteDatabase(J3);return new Cd(n).toPromise()}function Xg(){const n=indexedDB.open(J3,R8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(c0,{keyPath:$3})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(c0)?e(r):(r.close(),await L8(),e(await Xg()))})})}async function $y(n,e,t){const r=M0(n,!0).put({[$3]:e,value:t});return new Cd(r).toPromise()}async function D8(n,e){const t=M0(n,!1).get(e),r=await new Cd(t).toPromise();return r===void 0?null:r.value}function ev(n,e){const t=M0(n,!0).delete(e);return new Cd(t).toPromise()}const O8=800,M8=3;class ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>M8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=O0._getInstance(N8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await C8(),!this.activeServiceWorker)return;this.sender=new S8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await $y(e,l0,"1"),await ev(e,l0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$y(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>D8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ev(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=M0(a,!1).getAll();return new Cd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ex.type="LOCAL";const P8=ex;new Ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,e){return e?zl(e):(An(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function k8(n){return q3(n.auth,new Wp(n),n.bypassAuthState)}function B8(n){const{auth:e,user:t}=n;return An(t,e,"internal-error"),d8(t,new Wp(n),n.bypassAuthState)}async function F8(n){const{auth:e,user:t}=n;return An(t,e,"internal-error"),f8(t,new Wp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:f,type:p}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k8;case"linkViaPopup":case"linkViaRedirect":return F8;case"reauthViaPopup":case"reauthViaRedirect":return B8;default:bo(this.auth,"internal-error")}}resolve(e){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Ed(2e3,1e4);async function U8(n,e,t){if(no(n.app))return Promise.reject(zo(n,"operation-not-supported-in-this-environment"));const r=rc(n);vS(n,e,qp);const a=tx(r,t);return new Nu(r,"signInViaPopup",e,a).executeNotNull()}class Nu extends nx{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return An(e,this.auth,"internal-error"),e}async onExecution(){Kl(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j8.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="pendingRedirect",H1=new Map;class z8 extends nx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=H1.get(this.auth._key());if(!e){try{const r=await H8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}H1.set(this.auth._key(),e)}return this.bypassAuthState||H1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H8(n,e){const t=W8(e),r=G8(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function q8(n,e){H1.set(n._key(),e)}function G8(n){return zl(n._redirectPersistence)}function W8(n){return z1(V8,n.config.apiKey,n.name)}async function Y8(n,e,t=!1){if(no(n.app))return Promise.reject(Gl(n));const r=rc(n),a=tx(r,e),f=await new z8(r,a,t).execute();return f&&!t&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=10*60*1e3;class K8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rx(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zo(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X8&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(e))}saveEventToCache(e){this.cachedEventUids.add(tv(e)),this.lastProcessedEventTime=Date.now()}}function tv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(n,e={}){return nc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$8=/^https?/;async function eT(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Z8(n);for(const t of e)try{if(tT(t))return}catch{}bo(n,"unauthorized-domain")}function tT(n){const e=Wg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===r}if(!$8.test(t))return!1;if(J8.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Ed(3e4,6e4);function nv(){const n=cl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rT(n){return new Promise((e,t)=>{var r,a,l;function f(){nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nv(),t(zo(n,"network-request-failed"))},timeout:nT.get()})}if(!((a=(r=cl().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=cl().gapi)===null||l===void 0)&&l.load)f();else{const p=WS("iframefcb");return cl()[p]=()=>{gapi.load?f():t(zo(n,"network-request-failed"))},U3(`${GS()}?onload=${p}`).catch(v=>t(v))}}).catch(e=>{throw q1=null,e})}let q1=null;function iT(n){return q1=q1||rT(n),q1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Ed(5e3,15e3),aT="__/auth/iframe",oT="emulator/auth/iframe",lT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uT(n){const e=n.config;An(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jp(e,oT):`https://${n.config.authDomain}/${aT}`,r={apiKey:e.apiKey,appName:n.name,v:Qh},a=cT.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${_d(r).slice(1)}`}async function hT(n){const e=await iT(n),t=cl().gapi;return An(t,n,"internal-error"),e.open({where:document.body,url:uT(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lT,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const f=zo(n,"network-request-failed"),p=cl().setTimeout(()=>{l(f)},sT.get());function v(){cl().clearTimeout(p),a(r)}r.ping(v).then(v,()=>{l(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dT=500,gT=600,pT="_blank",mT="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yT(n,e,t,r=dT,a=gT){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const v=Object.assign(Object.assign({},fT),{width:r.toString(),height:a.toString(),top:l,left:f}),w=fa().toLowerCase();t&&(p=O3(w)?pT:t),L3(w)&&(e=e||mT,v.scrollbars="yes");const T=Object.entries(v).reduce((M,[R,H])=>`${M}${R}=${H},`,"");if(kS(w)&&p!=="_self")return vT(e||"",p),new rv(null);const I=window.open(e||"",p,T);An(I,n,"popup-blocked");try{I.focus()}catch{}return new rv(I)}function vT(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__/auth/handler",xT="emulator/auth/handler",bT=encodeURIComponent("fac");async function iv(n,e,t,r,a,l){An(n.config.authDomain,n,"auth-domain-config-required"),An(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Qh,eventId:a};if(e instanceof qp){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",i6(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,I]of Object.entries({}))f[T]=I}if(e instanceof Td){const T=e.getScopes().filter(I=>I!=="");T.length>0&&(f.scopes=T.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const v=await n._getAppCheckToken(),w=v?`#${bT}=${encodeURIComponent(v)}`:"";return`${AT(n)}?${_d(p).slice(1)}${w}`}function AT({config:n}){return n.emulator?jp(n,xT):`https://${n.authDomain}/${wT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class _T{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q3,this._completeRedirectFn=Y8,this._overrideRedirectResult=q8}async _openPopup(e,t,r,a){var l;Kl((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const f=await iv(e,t,r,Wg(),a);return yT(e,f,Gp())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await iv(e,t,r,Wg(),a);return T8(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Kl(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await hT(e),r=new K8(e);return t.register("authEvent",a=>(An(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eg,{type:Eg},a=>{var l;const f=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Eg];f!==void 0&&t(!!f),bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F3()||D3()||Vp()}}const ET=_T;var sv="@firebase/auth",av="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){An(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CT(n){Fh(new Mu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;An(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j3(n)},w=new zS(r,a,l,v);return JS(w,t),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fh(new Mu("auth-internal",e=>{const t=rc(e.getProvider("auth").getImmediate());return(r=>new ST(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hc(sv,av,TT(n)),Hc(sv,av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=5*60,NT=m3("authIdTokenMaxAge")||IT;let ov=null;const RT=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>NT)return;const a=t==null?void 0:t.token;ov!==a&&(ov=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Bc(n=x3()){const e=Pp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZS(n,{popupRedirectResolver:ET,persistence:[P8,_8,Q3]}),r=m3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const f=RT(l.toString());w8(t,f,()=>f(t.currentUser)),v8(t,p=>f(p))}}const a=g3("auth");return a&&$S(t,`http://${a}`),t}function LT(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}HS({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=zo("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",LT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CT("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qc,ix;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(X,z){function j(){}j.prototype=z.prototype,X.D=z.prototype,X.prototype=new j,X.prototype.constructor=X,X.C=function(ae,V,F){for(var Y=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)Y[xe-2]=arguments[xe];return z.prototype[V].apply(ae,Y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(X,z,j){j||(j=0);var ae=Array(16);if(typeof z=="string")for(var V=0;16>V;++V)ae[V]=z.charCodeAt(j++)|z.charCodeAt(j++)<<8|z.charCodeAt(j++)<<16|z.charCodeAt(j++)<<24;else for(V=0;16>V;++V)ae[V]=z[j++]|z[j++]<<8|z[j++]<<16|z[j++]<<24;z=X.g[0],j=X.g[1],V=X.g[2];var F=X.g[3],Y=z+(F^j&(V^F))+ae[0]+3614090360&4294967295;z=j+(Y<<7&4294967295|Y>>>25),Y=F+(V^z&(j^V))+ae[1]+3905402710&4294967295,F=z+(Y<<12&4294967295|Y>>>20),Y=V+(j^F&(z^j))+ae[2]+606105819&4294967295,V=F+(Y<<17&4294967295|Y>>>15),Y=j+(z^V&(F^z))+ae[3]+3250441966&4294967295,j=V+(Y<<22&4294967295|Y>>>10),Y=z+(F^j&(V^F))+ae[4]+4118548399&4294967295,z=j+(Y<<7&4294967295|Y>>>25),Y=F+(V^z&(j^V))+ae[5]+1200080426&4294967295,F=z+(Y<<12&4294967295|Y>>>20),Y=V+(j^F&(z^j))+ae[6]+2821735955&4294967295,V=F+(Y<<17&4294967295|Y>>>15),Y=j+(z^V&(F^z))+ae[7]+4249261313&4294967295,j=V+(Y<<22&4294967295|Y>>>10),Y=z+(F^j&(V^F))+ae[8]+1770035416&4294967295,z=j+(Y<<7&4294967295|Y>>>25),Y=F+(V^z&(j^V))+ae[9]+2336552879&4294967295,F=z+(Y<<12&4294967295|Y>>>20),Y=V+(j^F&(z^j))+ae[10]+4294925233&4294967295,V=F+(Y<<17&4294967295|Y>>>15),Y=j+(z^V&(F^z))+ae[11]+2304563134&4294967295,j=V+(Y<<22&4294967295|Y>>>10),Y=z+(F^j&(V^F))+ae[12]+1804603682&4294967295,z=j+(Y<<7&4294967295|Y>>>25),Y=F+(V^z&(j^V))+ae[13]+4254626195&4294967295,F=z+(Y<<12&4294967295|Y>>>20),Y=V+(j^F&(z^j))+ae[14]+2792965006&4294967295,V=F+(Y<<17&4294967295|Y>>>15),Y=j+(z^V&(F^z))+ae[15]+1236535329&4294967295,j=V+(Y<<22&4294967295|Y>>>10),Y=z+(V^F&(j^V))+ae[1]+4129170786&4294967295,z=j+(Y<<5&4294967295|Y>>>27),Y=F+(j^V&(z^j))+ae[6]+3225465664&4294967295,F=z+(Y<<9&4294967295|Y>>>23),Y=V+(z^j&(F^z))+ae[11]+643717713&4294967295,V=F+(Y<<14&4294967295|Y>>>18),Y=j+(F^z&(V^F))+ae[0]+3921069994&4294967295,j=V+(Y<<20&4294967295|Y>>>12),Y=z+(V^F&(j^V))+ae[5]+3593408605&4294967295,z=j+(Y<<5&4294967295|Y>>>27),Y=F+(j^V&(z^j))+ae[10]+38016083&4294967295,F=z+(Y<<9&4294967295|Y>>>23),Y=V+(z^j&(F^z))+ae[15]+3634488961&4294967295,V=F+(Y<<14&4294967295|Y>>>18),Y=j+(F^z&(V^F))+ae[4]+3889429448&4294967295,j=V+(Y<<20&4294967295|Y>>>12),Y=z+(V^F&(j^V))+ae[9]+568446438&4294967295,z=j+(Y<<5&4294967295|Y>>>27),Y=F+(j^V&(z^j))+ae[14]+3275163606&4294967295,F=z+(Y<<9&4294967295|Y>>>23),Y=V+(z^j&(F^z))+ae[3]+4107603335&4294967295,V=F+(Y<<14&4294967295|Y>>>18),Y=j+(F^z&(V^F))+ae[8]+1163531501&4294967295,j=V+(Y<<20&4294967295|Y>>>12),Y=z+(V^F&(j^V))+ae[13]+2850285829&4294967295,z=j+(Y<<5&4294967295|Y>>>27),Y=F+(j^V&(z^j))+ae[2]+4243563512&4294967295,F=z+(Y<<9&4294967295|Y>>>23),Y=V+(z^j&(F^z))+ae[7]+1735328473&4294967295,V=F+(Y<<14&4294967295|Y>>>18),Y=j+(F^z&(V^F))+ae[12]+2368359562&4294967295,j=V+(Y<<20&4294967295|Y>>>12),Y=z+(j^V^F)+ae[5]+4294588738&4294967295,z=j+(Y<<4&4294967295|Y>>>28),Y=F+(z^j^V)+ae[8]+2272392833&4294967295,F=z+(Y<<11&4294967295|Y>>>21),Y=V+(F^z^j)+ae[11]+1839030562&4294967295,V=F+(Y<<16&4294967295|Y>>>16),Y=j+(V^F^z)+ae[14]+4259657740&4294967295,j=V+(Y<<23&4294967295|Y>>>9),Y=z+(j^V^F)+ae[1]+2763975236&4294967295,z=j+(Y<<4&4294967295|Y>>>28),Y=F+(z^j^V)+ae[4]+1272893353&4294967295,F=z+(Y<<11&4294967295|Y>>>21),Y=V+(F^z^j)+ae[7]+4139469664&4294967295,V=F+(Y<<16&4294967295|Y>>>16),Y=j+(V^F^z)+ae[10]+3200236656&4294967295,j=V+(Y<<23&4294967295|Y>>>9),Y=z+(j^V^F)+ae[13]+681279174&4294967295,z=j+(Y<<4&4294967295|Y>>>28),Y=F+(z^j^V)+ae[0]+3936430074&4294967295,F=z+(Y<<11&4294967295|Y>>>21),Y=V+(F^z^j)+ae[3]+3572445317&4294967295,V=F+(Y<<16&4294967295|Y>>>16),Y=j+(V^F^z)+ae[6]+76029189&4294967295,j=V+(Y<<23&4294967295|Y>>>9),Y=z+(j^V^F)+ae[9]+3654602809&4294967295,z=j+(Y<<4&4294967295|Y>>>28),Y=F+(z^j^V)+ae[12]+3873151461&4294967295,F=z+(Y<<11&4294967295|Y>>>21),Y=V+(F^z^j)+ae[15]+530742520&4294967295,V=F+(Y<<16&4294967295|Y>>>16),Y=j+(V^F^z)+ae[2]+3299628645&4294967295,j=V+(Y<<23&4294967295|Y>>>9),Y=z+(V^(j|~F))+ae[0]+4096336452&4294967295,z=j+(Y<<6&4294967295|Y>>>26),Y=F+(j^(z|~V))+ae[7]+1126891415&4294967295,F=z+(Y<<10&4294967295|Y>>>22),Y=V+(z^(F|~j))+ae[14]+2878612391&4294967295,V=F+(Y<<15&4294967295|Y>>>17),Y=j+(F^(V|~z))+ae[5]+4237533241&4294967295,j=V+(Y<<21&4294967295|Y>>>11),Y=z+(V^(j|~F))+ae[12]+1700485571&4294967295,z=j+(Y<<6&4294967295|Y>>>26),Y=F+(j^(z|~V))+ae[3]+2399980690&4294967295,F=z+(Y<<10&4294967295|Y>>>22),Y=V+(z^(F|~j))+ae[10]+4293915773&4294967295,V=F+(Y<<15&4294967295|Y>>>17),Y=j+(F^(V|~z))+ae[1]+2240044497&4294967295,j=V+(Y<<21&4294967295|Y>>>11),Y=z+(V^(j|~F))+ae[8]+1873313359&4294967295,z=j+(Y<<6&4294967295|Y>>>26),Y=F+(j^(z|~V))+ae[15]+4264355552&4294967295,F=z+(Y<<10&4294967295|Y>>>22),Y=V+(z^(F|~j))+ae[6]+2734768916&4294967295,V=F+(Y<<15&4294967295|Y>>>17),Y=j+(F^(V|~z))+ae[13]+1309151649&4294967295,j=V+(Y<<21&4294967295|Y>>>11),Y=z+(V^(j|~F))+ae[4]+4149444226&4294967295,z=j+(Y<<6&4294967295|Y>>>26),Y=F+(j^(z|~V))+ae[11]+3174756917&4294967295,F=z+(Y<<10&4294967295|Y>>>22),Y=V+(z^(F|~j))+ae[2]+718787259&4294967295,V=F+(Y<<15&4294967295|Y>>>17),Y=j+(F^(V|~z))+ae[9]+3951481745&4294967295,X.g[0]=X.g[0]+z&4294967295,X.g[1]=X.g[1]+(V+(Y<<21&4294967295|Y>>>11))&4294967295,X.g[2]=X.g[2]+V&4294967295,X.g[3]=X.g[3]+F&4294967295}r.prototype.u=function(X,z){z===void 0&&(z=X.length);for(var j=z-this.blockSize,ae=this.B,V=this.h,F=0;F<z;){if(V==0)for(;F<=j;)a(this,X,F),F+=this.blockSize;if(typeof X=="string"){for(;F<z;)if(ae[V++]=X.charCodeAt(F++),V==this.blockSize){a(this,ae),V=0;break}}else for(;F<z;)if(ae[V++]=X[F++],V==this.blockSize){a(this,ae),V=0;break}}this.h=V,this.o+=z},r.prototype.v=function(){var X=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);X[0]=128;for(var z=1;z<X.length-8;++z)X[z]=0;var j=8*this.o;for(z=X.length-8;z<X.length;++z)X[z]=j&255,j/=256;for(this.u(X),X=Array(16),z=j=0;4>z;++z)for(var ae=0;32>ae;ae+=8)X[j++]=this.g[z]>>>ae&255;return X};function l(X,z){var j=p;return Object.prototype.hasOwnProperty.call(j,X)?j[X]:j[X]=z(X)}function f(X,z){this.h=z;for(var j=[],ae=!0,V=X.length-1;0<=V;V--){var F=X[V]|0;ae&&F==z||(j[V]=F,ae=!1)}this.g=j}var p={};function v(X){return-128<=X&&128>X?l(X,function(z){return new f([z|0],0>z?-1:0)}):new f([X|0],0>X?-1:0)}function w(X){if(isNaN(X)||!isFinite(X))return I;if(0>X)return J(w(-X));for(var z=[],j=1,ae=0;X>=j;ae++)z[ae]=X/j|0,j*=4294967296;return new f(z,0)}function T(X,z){if(X.length==0)throw Error("number format error: empty string");if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(X.charAt(0)=="-")return J(T(X.substring(1),z));if(0<=X.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=w(Math.pow(z,8)),ae=I,V=0;V<X.length;V+=8){var F=Math.min(8,X.length-V),Y=parseInt(X.substring(V,V+F),z);8>F?(F=w(Math.pow(z,F)),ae=ae.j(F).add(w(Y))):(ae=ae.j(j),ae=ae.add(w(Y)))}return ae}var I=v(0),M=v(1),R=v(16777216);n=f.prototype,n.m=function(){if(q(this))return-J(this).m();for(var X=0,z=1,j=0;j<this.g.length;j++){var ae=this.i(j);X+=(0<=ae?ae:4294967296+ae)*z,z*=4294967296}return X},n.toString=function(X){if(X=X||10,2>X||36<X)throw Error("radix out of range: "+X);if(H(this))return"0";if(q(this))return"-"+J(this).toString(X);for(var z=w(Math.pow(X,6)),j=this,ae="";;){var V=Ce(j,z).g;j=G(j,V.j(z));var F=((0<j.g.length?j.g[0]:j.h)>>>0).toString(X);if(j=V,H(j))return F+ae;for(;6>F.length;)F="0"+F;ae=F+ae}},n.i=function(X){return 0>X?0:X<this.g.length?this.g[X]:this.h};function H(X){if(X.h!=0)return!1;for(var z=0;z<X.g.length;z++)if(X.g[z]!=0)return!1;return!0}function q(X){return X.h==-1}n.l=function(X){return X=G(this,X),q(X)?-1:H(X)?0:1};function J(X){for(var z=X.g.length,j=[],ae=0;ae<z;ae++)j[ae]=~X.g[ae];return new f(j,~X.h).add(M)}n.abs=function(){return q(this)?J(this):this},n.add=function(X){for(var z=Math.max(this.g.length,X.g.length),j=[],ae=0,V=0;V<=z;V++){var F=ae+(this.i(V)&65535)+(X.i(V)&65535),Y=(F>>>16)+(this.i(V)>>>16)+(X.i(V)>>>16);ae=Y>>>16,F&=65535,Y&=65535,j[V]=Y<<16|F}return new f(j,j[j.length-1]&-2147483648?-1:0)};function G(X,z){return X.add(J(z))}n.j=function(X){if(H(this)||H(X))return I;if(q(this))return q(X)?J(this).j(J(X)):J(J(this).j(X));if(q(X))return J(this.j(J(X)));if(0>this.l(R)&&0>X.l(R))return w(this.m()*X.m());for(var z=this.g.length+X.g.length,j=[],ae=0;ae<2*z;ae++)j[ae]=0;for(ae=0;ae<this.g.length;ae++)for(var V=0;V<X.g.length;V++){var F=this.i(ae)>>>16,Y=this.i(ae)&65535,xe=X.i(V)>>>16,we=X.i(V)&65535;j[2*ae+2*V]+=Y*we,te(j,2*ae+2*V),j[2*ae+2*V+1]+=F*we,te(j,2*ae+2*V+1),j[2*ae+2*V+1]+=Y*xe,te(j,2*ae+2*V+1),j[2*ae+2*V+2]+=F*xe,te(j,2*ae+2*V+2)}for(ae=0;ae<z;ae++)j[ae]=j[2*ae+1]<<16|j[2*ae];for(ae=z;ae<2*z;ae++)j[ae]=0;return new f(j,0)};function te(X,z){for(;(X[z]&65535)!=X[z];)X[z+1]+=X[z]>>>16,X[z]&=65535,z++}function le(X,z){this.g=X,this.h=z}function Ce(X,z){if(H(z))throw Error("division by zero");if(H(X))return new le(I,I);if(q(X))return z=Ce(J(X),z),new le(J(z.g),J(z.h));if(q(z))return z=Ce(X,J(z)),new le(J(z.g),z.h);if(30<X.g.length){if(q(X)||q(z))throw Error("slowDivide_ only works with positive integers.");for(var j=M,ae=z;0>=ae.l(X);)j=De(j),ae=De(ae);var V=Ge(j,1),F=Ge(ae,1);for(ae=Ge(ae,2),j=Ge(j,2);!H(ae);){var Y=F.add(ae);0>=Y.l(X)&&(V=V.add(j),F=Y),ae=Ge(ae,1),j=Ge(j,1)}return z=G(X,V.j(z)),new le(V,z)}for(V=I;0<=X.l(z);){for(j=Math.max(1,Math.floor(X.m()/z.m())),ae=Math.ceil(Math.log(j)/Math.LN2),ae=48>=ae?1:Math.pow(2,ae-48),F=w(j),Y=F.j(z);q(Y)||0<Y.l(X);)j-=ae,F=w(j),Y=F.j(z);H(F)&&(F=M),V=V.add(F),X=G(X,Y)}return new le(V,X)}n.A=function(X){return Ce(this,X).h},n.and=function(X){for(var z=Math.max(this.g.length,X.g.length),j=[],ae=0;ae<z;ae++)j[ae]=this.i(ae)&X.i(ae);return new f(j,this.h&X.h)},n.or=function(X){for(var z=Math.max(this.g.length,X.g.length),j=[],ae=0;ae<z;ae++)j[ae]=this.i(ae)|X.i(ae);return new f(j,this.h|X.h)},n.xor=function(X){for(var z=Math.max(this.g.length,X.g.length),j=[],ae=0;ae<z;ae++)j[ae]=this.i(ae)^X.i(ae);return new f(j,this.h^X.h)};function De(X){for(var z=X.g.length+1,j=[],ae=0;ae<z;ae++)j[ae]=X.i(ae)<<1|X.i(ae-1)>>>31;return new f(j,X.h)}function Ge(X,z){var j=z>>5;z%=32;for(var ae=X.g.length-j,V=[],F=0;F<ae;F++)V[F]=0<z?X.i(F+j)>>>z|X.i(F+j+1)<<32-z:X.i(F+j);return new f(V,X.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ix=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=w,f.fromString=T,qc=f}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sx,Kf,ax,G1,Kg,ox,lx,cx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,O,U){return b==Array.prototype||b==Object.prototype||(b[O]=U.value),b};function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof N1=="object"&&N1];for(var O=0;O<b.length;++O){var U=b[O];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=t(this);function a(b,O){if(O)e:{var U=r;b=b.split(".");for(var oe=0;oe<b.length-1;oe++){var Ue=b[oe];if(!(Ue in U))break e;U=U[Ue]}b=b[b.length-1],oe=U[b],O=O(oe),O!=oe&&O!=null&&e(U,b,{configurable:!0,writable:!0,value:O})}}function l(b,O){b instanceof String&&(b+="");var U=0,oe=!1,Ue={next:function(){if(!oe&&U<b.length){var Qe=U++;return{value:O(Qe,b[Qe]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return Ue[Symbol.iterator]=function(){return Ue},Ue}a("Array.prototype.values",function(b){return b||function(){return l(this,function(O,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function v(b){var O=typeof b;return O=O!="object"?O:b?Array.isArray(b)?"array":O:"null",O=="array"||O=="object"&&typeof b.length=="number"}function w(b){var O=typeof b;return O=="object"&&b!=null||O=="function"}function T(b,O,U){return b.call.apply(b.bind,arguments)}function I(b,O,U){if(!b)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ue,oe),b.apply(O,Ue)}}return function(){return b.apply(O,arguments)}}function M(b,O,U){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,M.apply(null,arguments)}function R(b,O){var U=Array.prototype.slice.call(arguments,1);return function(){var oe=U.slice();return oe.push.apply(oe,arguments),b.apply(this,oe)}}function H(b,O){function U(){}U.prototype=O.prototype,b.aa=O.prototype,b.prototype=new U,b.prototype.constructor=b,b.Qb=function(oe,Ue,Qe){for(var St=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)St[gn-2]=arguments[gn];return O.prototype[Ue].apply(oe,St)}}function q(b){const O=b.length;if(0<O){const U=Array(O);for(let oe=0;oe<O;oe++)U[oe]=b[oe];return U}return[]}function J(b,O){for(let U=1;U<arguments.length;U++){const oe=arguments[U];if(v(oe)){const Ue=b.length||0,Qe=oe.length||0;b.length=Ue+Qe;for(let St=0;St<Qe;St++)b[Ue+St]=oe[St]}else b.push(oe)}}class G{constructor(O,U){this.i=O,this.j=U,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function te(b){return/^[\s\xa0]*$/.test(b)}function le(){var b=p.navigator;return b&&(b=b.userAgent)?b:""}function Ce(b){return Ce[" "](b),b}Ce[" "]=function(){};var De=le().indexOf("Gecko")!=-1&&!(le().toLowerCase().indexOf("webkit")!=-1&&le().indexOf("Edge")==-1)&&!(le().indexOf("Trident")!=-1||le().indexOf("MSIE")!=-1)&&le().indexOf("Edge")==-1;function Ge(b,O,U){for(const oe in b)O.call(U,b[oe],oe,b)}function X(b,O){for(const U in b)O.call(void 0,b[U],U,b)}function z(b){const O={};for(const U in b)O[U]=b[U];return O}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(b,O){let U,oe;for(let Ue=1;Ue<arguments.length;Ue++){oe=arguments[Ue];for(U in oe)b[U]=oe[U];for(let Qe=0;Qe<j.length;Qe++)U=j[Qe],Object.prototype.hasOwnProperty.call(oe,U)&&(b[U]=oe[U])}}function V(b){var O=1;b=b.split(":");const U=[];for(;0<O&&b.length;)U.push(b.shift()),O--;return b.length&&U.push(b.join(":")),U}function F(b){p.setTimeout(()=>{throw b},0)}function Y(){var b=Te;let O=null;return b.g&&(O=b.g,b.g=b.g.next,b.g||(b.h=null),O.next=null),O}class xe{constructor(){this.h=this.g=null}add(O,U){const oe=we.get();oe.set(O,U),this.h?this.h.next=oe:this.g=oe,this.h=oe}}var we=new G(()=>new Se,b=>b.reset());class Se{constructor(){this.next=this.g=this.h=null}set(O,U){this.h=O,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,_e=!1,Te=new xe,se=()=>{const b=p.Promise.resolve(void 0);Ie=()=>{b.then(Be)}};var Be=()=>{for(var b;b=Y();){try{b.h.call(b.g)}catch(U){F(U)}var O=we;O.j(b),100>O.h&&(O.h++,b.next=O.g,O.g=b)}_e=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(b,O){this.type=b,this.g=this.target=O,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var b=!1,O=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const U=()=>{};p.addEventListener("test",U,O),p.removeEventListener("test",U,O)}catch{}return b}();function be(b,O){if(ce.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var U=this.type=b.type,oe=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=O,O=b.relatedTarget){if(De){e:{try{Ce(O.nodeName);var Ue=!0;break e}catch{}Ue=!1}Ue||(O=null)}}else U=="mouseover"?O=b.fromElement:U=="mouseout"&&(O=b.toElement);this.relatedTarget=O,oe?(this.clientX=oe.clientX!==void 0?oe.clientX:oe.pageX,this.clientY=oe.clientY!==void 0?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:ve[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&be.aa.h.call(this)}}H(be,ce);var ve={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Ye(b,O,U,oe,Ue){this.listener=b,this.proxy=null,this.src=O,this.type=U,this.capture=!!oe,this.ha=Ue,this.key=++Pe,this.da=this.fa=!1}function ct(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function ut(b){this.src=b,this.g={},this.h=0}ut.prototype.add=function(b,O,U,oe,Ue){var Qe=b.toString();b=this.g[Qe],b||(b=this.g[Qe]=[],this.h++);var St=gt(b,O,oe,Ue);return-1<St?(O=b[St],U||(O.fa=!1)):(O=new Ye(O,this.src,Qe,!!oe,Ue),O.fa=U,b.push(O)),O};function Lt(b,O){var U=O.type;if(U in b.g){var oe=b.g[U],Ue=Array.prototype.indexOf.call(oe,O,void 0),Qe;(Qe=0<=Ue)&&Array.prototype.splice.call(oe,Ue,1),Qe&&(ct(O),b.g[U].length==0&&(delete b.g[U],b.h--))}}function gt(b,O,U,oe){for(var Ue=0;Ue<b.length;++Ue){var Qe=b[Ue];if(!Qe.da&&Qe.listener==O&&Qe.capture==!!U&&Qe.ha==oe)return Ue}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),st={};function Ae(b,O,U,oe,Ue){if(Array.isArray(O)){for(var Qe=0;Qe<O.length;Qe++)Ae(b,O[Qe],U,oe,Ue);return null}return U=mn(U),b&&b[We]?b.K(O,U,w(oe)?!!oe.capture:!1,Ue):Gt(b,O,U,!1,oe,Ue)}function Gt(b,O,U,oe,Ue,Qe){if(!O)throw Error("Invalid event type");var St=w(Ue)?!!Ue.capture:!!Ue,gn=Qt(b);if(gn||(b[Yt]=gn=new ut(b)),U=gn.add(O,U,oe,St,Qe),U.proxy)return U;if(oe=Nt(),U.proxy=oe,oe.src=b,oe.listener=U,b.addEventListener)fe||(Ue=St),Ue===void 0&&(Ue=!1),b.addEventListener(O.toString(),oe,Ue);else if(b.attachEvent)b.attachEvent(at(O.toString()),oe);else if(b.addListener&&b.removeListener)b.addListener(oe);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Nt(){function b(U){return O.call(b.src,b.listener,U)}const O=kt;return b}function lt(b,O,U,oe,Ue){if(Array.isArray(O))for(var Qe=0;Qe<O.length;Qe++)lt(b,O[Qe],U,oe,Ue);else oe=w(oe)?!!oe.capture:!!oe,U=mn(U),b&&b[We]?(b=b.i,O=String(O).toString(),O in b.g&&(Qe=b.g[O],U=gt(Qe,U,oe,Ue),-1<U&&(ct(Qe[U]),Array.prototype.splice.call(Qe,U,1),Qe.length==0&&(delete b.g[O],b.h--)))):b&&(b=Qt(b))&&(O=b.g[O.toString()],b=-1,O&&(b=gt(O,U,oe,Ue)),(U=-1<b?O[b]:null)&&Dt(U))}function Dt(b){if(typeof b!="number"&&b&&!b.da){var O=b.src;if(O&&O[We])Lt(O.i,b);else{var U=b.type,oe=b.proxy;O.removeEventListener?O.removeEventListener(U,oe,b.capture):O.detachEvent?O.detachEvent(at(U),oe):O.addListener&&O.removeListener&&O.removeListener(oe),(U=Qt(O))?(Lt(U,b),U.h==0&&(U.src=null,O[Yt]=null)):ct(b)}}}function at(b){return b in st?st[b]:st[b]="on"+b}function kt(b,O){if(b.da)b=!0;else{O=new be(O,this);var U=b.listener,oe=b.ha||b.src;b.fa&&Dt(b),b=U.call(oe,O)}return b}function Qt(b){return b=b[Yt],b instanceof ut?b:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(b){return typeof b=="function"?b:(b[zt]||(b[zt]=function(O){return b.handleEvent(O)}),b[zt])}function Vt(){W.call(this),this.i=new ut(this),this.M=this,this.F=null}H(Vt,W),Vt.prototype[We]=!0,Vt.prototype.removeEventListener=function(b,O,U,oe){lt(this,b,O,U,oe)};function ln(b,O){var U,oe=b.F;if(oe)for(U=[];oe;oe=oe.F)U.push(oe);if(b=b.M,oe=O.type||O,typeof O=="string")O=new ce(O,b);else if(O instanceof ce)O.target=O.target||b;else{var Ue=O;O=new ce(oe,b),ae(O,Ue)}if(Ue=!0,U)for(var Qe=U.length-1;0<=Qe;Qe--){var St=O.g=U[Qe];Ue=Sn(St,oe,!0,O)&&Ue}if(St=O.g=b,Ue=Sn(St,oe,!0,O)&&Ue,Ue=Sn(St,oe,!1,O)&&Ue,U)for(Qe=0;Qe<U.length;Qe++)St=O.g=U[Qe],Ue=Sn(St,oe,!1,O)&&Ue}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var b=this.i,O;for(O in b.g){for(var U=b.g[O],oe=0;oe<U.length;oe++)ct(U[oe]);delete b.g[O],b.h--}}this.F=null},Vt.prototype.K=function(b,O,U,oe){return this.i.add(String(b),O,!1,U,oe)},Vt.prototype.L=function(b,O,U,oe){return this.i.add(String(b),O,!0,U,oe)};function Sn(b,O,U,oe){if(O=b.i.g[String(O)],!O)return!0;O=O.concat();for(var Ue=!0,Qe=0;Qe<O.length;++Qe){var St=O[Qe];if(St&&!St.da&&St.capture==U){var gn=St.listener,Rn=St.ha||St.src;St.fa&&Lt(b.i,St),Ue=gn.call(Rn,oe)!==!1&&Ue}}return Ue&&!oe.defaultPrevented}function Ht(b,O,U){if(typeof b=="function")U&&(b=M(b,U));else if(b&&typeof b.handleEvent=="function")b=M(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:p.setTimeout(b,O||0)}function Cn(b){b.g=Ht(()=>{b.g=null,b.i&&(b.i=!1,Cn(b))},b.l);const O=b.h;b.h=null,b.m.apply(null,O)}class Ft extends W{constructor(O,U){super(),this.m=O,this.l=U,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(b){W.call(this),this.h=b,this.g={}}H(ei,W);var en=[];function Et(b){Ge(b.g,function(O,U){this.g.hasOwnProperty(U)&&Dt(O)},b),b.g={}}ei.prototype.N=function(){ei.aa.N.call(this),Et(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=p.JSON.stringify,$t=p.JSON.parse,xn=class{stringify(b){return p.JSON.stringify(b,void 0)}parse(b){return p.JSON.parse(b,void 0)}};function Pn(){}Pn.prototype.h=null;function Hs(b){return b.h||(b.h=b.i())}function Or(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ti(){ce.call(this,"d")}H(ti,ce);function er(){ce.call(this,"c")}H(er,ce);var nn={},pn=null;function gs(){return pn=pn||new Vt}nn.La="serverreachability";function Gn(b){ce.call(this,nn.La,b)}H(Gn,ce);function ni(b){const O=gs();ln(O,new Gn(O))}nn.STAT_EVENT="statevent";function Di(b,O){ce.call(this,nn.STAT_EVENT,b),this.stat=O}H(Di,ce);function Bt(b){const O=gs();ln(O,new Di(O,b))}nn.Ma="timingevent";function ps(b,O){ce.call(this,nn.Ma,b),this.size=O}H(ps,ce);function Wr(b,O){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){b()},O)}function Yr(){this.g=!0}Yr.prototype.xa=function(){this.g=!1};function Xn(b,O,U,oe,Ue,Qe){b.info(function(){if(b.g)if(Qe)for(var St="",gn=Qe.split("&"),Rn=0;Rn<gn.length;Rn++){var _n=gn[Rn].split("=");if(1<_n.length){var zn=_n[0];_n=_n[1];var fr=zn.split("_");St=2<=fr.length&&fr[1]=="type"?St+(zn+"="+_n+"&"):St+(zn+"=redacted&")}}else St=null;else St=Qe;return"XMLHTTP REQ ("+oe+") [attempt "+Ue+"]: "+O+`
`+U+`
`+St})}function Ar(b,O,U,oe,Ue,Qe,St){b.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Ue+"]: "+O+`
`+U+`
`+Qe+" "+St})}function lr(b,O,U,oe){b.info(function(){return"XMLHTTP TEXT ("+O+"): "+cr(b,U)+(oe?" "+oe:"")})}function Pt(b,O){b.info(function(){return"TIMEOUT: "+O})}Yr.prototype.info=function(){};function cr(b,O){if(!b.g)return O;if(!O)return null;try{var U=JSON.parse(O);if(U){for(b=0;b<U.length;b++)if(Array.isArray(U[b])){var oe=U[b];if(!(2>oe.length)){var Ue=oe[1];if(Array.isArray(Ue)&&!(1>Ue.length)){var Qe=Ue[0];if(Qe!="noop"&&Qe!="stop"&&Qe!="close")for(var St=1;St<Ue.length;St++)Ue[St]=""}}}}return dn(U)}catch{return O}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function Oi(){}H(Oi,Pn),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},ri=new Oi;function Vr(b,O,U,oe){this.j=b,this.i=O,this.l=U,this.R=oe||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var ms={},qs={};function kr(b,O,U){b.L=1,b.v=Dr(cn(O)),b.m=U,b.P=!0,Tr(b,null)}function Tr(b,O){b.F=Date.now(),ir(b),b.A=cn(b.v);var U=b.A,oe=b.R;Array.isArray(oe)||(oe=[String(oe)]),Ut(U.i,"t",oe),b.C=0,U=b.j.J,b.h=new Xr,b.g=ee(b.j,U?O:null,!b.m),0<b.O&&(b.M=new Ft(M(b.Y,b,b.g),b.O)),O=b.U,U=b.g,oe=b.ca;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(en[0]=Ue.toString()),Ue=en);for(var Qe=0;Qe<Ue.length;Qe++){var St=Ae(U,Ue[Qe],oe||O.handleEvent,!1,O.h||O);if(!St)break;O.g[St.key]=St}O=b.H?z(b.H):{},b.m?(b.u||(b.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,O)):(b.u="GET",b.g.ea(b.A,b.u,null,O)),ni(),Xn(b.i,b.u,b.A,b.l,b.R,b.m)}Vr.prototype.ca=function(b){b=b.target;const O=this.M;O&&_i(b)==3?O.j():this.Y(b)},Vr.prototype.Y=function(b){try{if(b==this.g)e:{const fr=_i(this.g);var O=this.g.Ba();const Qr=this.g.Z();if(!(3>fr)&&(fr!=3||this.g&&(this.h.h||this.g.oa()||Wo(this.g)))){this.J||fr!=4||O==7||(O==8||0>=Qr?ni(3):ni(2)),pt(this);var U=this.g.Z();this.X=U;t:if(Wn(this)){var oe=Wo(this.g);b="";var Ue=oe.length,Qe=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),$i(this);var St="";break t}this.h.i=new p.TextDecoder}for(O=0;O<Ue;O++)this.h.h=!0,b+=this.h.i.decode(oe[O],{stream:!(Qe&&O==Ue-1)});oe.length=0,this.h.g+=b,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=U==200,Ar(this.i,this.u,this.A,this.l,this.R,fr,U),this.o){if(this.T&&!this.K){t:{if(this.g){var gn,Rn=this.g;if((gn=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(gn)){var _n=gn;break t}}_n=null}if(U=_n)lr(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ii(this,U);else{this.o=!1,this.s=3,Bt(12),Bn(this),$i(this);break e}}if(this.P){U=!0;let oi;for(;!this.J&&this.C<St.length;)if(oi=Gs(this,St),oi==qs){fr==4&&(this.s=4,Bt(14),U=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==ms){this.s=4,Bt(15),lr(this.i,this.l,St,"[Invalid Chunk]"),U=!1;break}else lr(this.i,this.l,oi,null),ii(this,oi);if(Wn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fr!=4||St.length!=0||this.h.h||(this.s=1,Bt(16),U=!1),this.o=this.o&&U,!U)lr(this.i,this.l,St,"[Invalid Chunked Response]"),Bn(this),$i(this);else if(0<St.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),Zs(zn),zn.M=!0,Bt(11))}}else lr(this.i,this.l,St,null),ii(this,St);fr==4&&Bn(this),this.o&&!this.J&&(fr==4?hr(this.j,this):(this.o=!1,ir(this)))}else Vn(this.g),U==400&&0<St.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Bn(this),$i(this)}}}catch{}finally{}};function Wn(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function Gs(b,O){var U=b.C,oe=O.indexOf(`
`,U);return oe==-1?qs:(U=Number(O.substring(U,oe)),isNaN(U)?ms:(oe+=1,oe+U>O.length?qs:(O=O.slice(oe,oe+U),b.C=oe+U,O)))}Vr.prototype.cancel=function(){this.J=!0,Bn(this)};function ir(b){b.S=Date.now()+b.I,Ba(b,b.I)}function Ba(b,O){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Wr(M(b.ba,b),O)}function pt(b){b.B&&(p.clearTimeout(b.B),b.B=null)}Vr.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Pt(this.i,this.A),this.L!=2&&(ni(),Bt(17)),Bn(this),this.s=2,$i(this)):Ba(this,this.S-b)};function $i(b){b.j.G==0||b.J||hr(b.j,b)}function Bn(b){pt(b);var O=b.M;O&&typeof O.ma=="function"&&O.ma(),b.M=null,Et(b.U),b.g&&(O=b.g,b.g=null,O.abort(),O.ma())}function ii(b,O){try{var U=b.j;if(U.G!=0&&(U.g==b||Ws(U.h,b))){if(!b.K&&Ws(U.h,b)&&U.G==3){try{var oe=U.Da.g.parse(O)}catch{oe=null}if(Array.isArray(oe)&&oe.length==3){var Ue=oe;if(Ue[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<b.F)Os(U),ao(U);else break e;Ua(U),Bt(18)}}else U.za=Ue[1],0<U.za-U.T&&37500>Ue[2]&&U.F&&U.v==0&&!U.C&&(U.C=Wr(M(U.Za,U),6e3));if(1>=Tn(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else ai(U,11)}else if((b.K||U.g==b)&&Os(U),!te(O))for(Ue=U.Da.g.parse(O),O=0;O<Ue.length;O++){let _n=Ue[O];if(U.T=_n[0],_n=_n[1],U.G==2)if(_n[0]=="c"){U.K=_n[1],U.ia=_n[2];const zn=_n[3];zn!=null&&(U.la=zn,U.j.info("VER="+U.la));const fr=_n[4];fr!=null&&(U.Aa=fr,U.j.info("SVER="+U.Aa));const Qr=_n[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(oe=1.5*Qr,U.L=oe,U.j.info("backChannelRequestTimeoutMs_="+oe)),oe=U;const oi=b.g;if(oi){const Zr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var Qe=oe.h;Qe.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(Qe.j=Qe.l,Qe.g=new Set,Qe.h&&(yr(Qe,Qe.h),Qe.h=null))}if(oe.D){const Sa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(oe.ya=Sa,Rt(oe.I,oe.D,Sa))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-b.F,U.j.info("Handshake RTT: "+U.R+"ms")),oe=U;var St=b;if(oe.qa=C(oe,oe.J?oe.ia:null,oe.W),St.K){qi(oe.h,St);var gn=St,Rn=oe.L;Rn&&(gn.I=Rn),gn.B&&(pt(gn),ir(gn)),oe.g=St}else oo(oe);0<U.i.length&&yn(U)}else _n[0]!="stop"&&_n[0]!="close"||ai(U,7);else U.G==3&&(_n[0]=="stop"||_n[0]=="close"?_n[0]=="stop"?ai(U,7):ki(U):_n[0]!="noop"&&U.l&&U.l.ta(_n),U.v=0)}}ni(4)}catch{}}var vl=class{constructor(b,O){this.g=b,this.map=O}};function Fn(b){this.l=b||10,p.PerformanceNavigationTiming?(b=p.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Tn(b){return b.h?1:b.g?b.g.size:0}function Ws(b,O){return b.h?b.h==O:b.g?b.g.has(O):!1}function yr(b,O){b.g?b.g.add(O):b.h=O}function qi(b,O){b.h&&b.h==O?b.h=null:b.g&&b.g.has(O)&&b.g.delete(O)}Fn.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Yn(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let O=b.i;for(const U of b.g.values())O=O.concat(U.D);return O}return q(b.i)}function ys(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(v(b)){for(var O=[],U=b.length,oe=0;oe<U;oe++)O.push(b[oe]);return O}O=[],U=0;for(oe in b)O[U++]=b[oe];return O}function Ao(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(v(b)||typeof b=="string"){var O=[];b=b.length;for(var U=0;U<b;U++)O.push(U);return O}O=[],U=0;for(const oe in b)O[U++]=oe;return O}}}function _r(b,O){if(b.forEach&&typeof b.forEach=="function")b.forEach(O,void 0);else if(v(b)||typeof b=="string")Array.prototype.forEach.call(b,O,void 0);else for(var U=Ao(b),oe=ys(b),Ue=oe.length,Qe=0;Qe<Ue;Qe++)O.call(void 0,oe[Qe],U&&U[Qe],b)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(b,O){if(b){b=b.split("&");for(var U=0;U<b.length;U++){var oe=b[U].indexOf("="),Ue=null;if(0<=oe){var Qe=b[U].substring(0,oe);Ue=b[U].substring(oe+1)}else Qe=b[U];O(Qe,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}function Lr(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Lr){this.h=b.h,Mr(this,b.j),this.o=b.o,this.g=b.g,Xe(this,b.s),this.l=b.l;var O=b.i,U=new os;U.i=O.i,O.g&&(U.g=new Map(O.g),U.h=O.h),ge(this,U),this.m=b.m}else b&&(O=String(b).match(si))?(this.h=!1,Mr(this,O[1]||"",!0),this.o=gi(O[2]||""),this.g=gi(O[3]||"",!0),Xe(this,O[4]),this.l=gi(O[5]||"",!0),ge(this,O[6]||"",!0),this.m=gi(O[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Lr.prototype.toString=function(){var b=[],O=this.j;O&&b.push(es(O,Mi,!0),":");var U=this.g;return(U||O=="file")&&(b.push("//"),(O=this.o)&&b.push(es(O,Mi,!0),"@"),b.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&b.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&b.push("/"),b.push(es(U,U.charAt(0)=="/"?Kn:tn,!0))),(U=this.i.toString())&&b.push("?",U),(U=this.m)&&b.push("#",es(U,so)),b.join("")};function cn(b){return new Lr(b)}function Mr(b,O,U){b.j=U?gi(O,!0):O,b.j&&(b.j=b.j.replace(/:$/,""))}function Xe(b,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);b.s=O}else b.s=null}function ge(b,O,U){O instanceof os?(b.i=O,vs(b.i,b.h)):(U||(O=es(O,Fa)),b.i=new os(O,b.h))}function Rt(b,O,U){b.i.set(O,U)}function Dr(b){return Rt(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function gi(b,O){return b?O?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function es(b,O,U){return typeof b=="string"?(b=encodeURI(b).replace(O,_o),U&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function _o(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Mi=/[#\/\?@]/g,tn=/[#\?:]/g,Kn=/[#\?]/g,Fa=/[#\?@]/g,so=/#/g;function os(b,O){this.h=this.g=null,this.i=b||null,this.j=!!O}function vr(b){b.g||(b.g=new Map,b.h=0,b.i&&da(b.i,function(O,U){b.add(decodeURIComponent(O.replace(/\+/g," ")),U)}))}n=os.prototype,n.add=function(b,O){vr(this),this.i=null,b=ls(this,b);var U=this.g.get(b);return U||this.g.set(b,U=[]),U.push(O),this.h+=1,this};function ba(b,O){vr(b),O=ls(b,O),b.g.has(O)&&(b.i=null,b.h-=b.g.get(O).length,b.g.delete(O))}function Ys(b,O){return vr(b),O=ls(b,O),b.g.has(O)}n.forEach=function(b,O){vr(this),this.g.forEach(function(U,oe){U.forEach(function(Ue){b.call(O,Ue,oe,this)},this)},this)},n.na=function(){vr(this);const b=Array.from(this.g.values()),O=Array.from(this.g.keys()),U=[];for(let oe=0;oe<O.length;oe++){const Ue=b[oe];for(let Qe=0;Qe<Ue.length;Qe++)U.push(O[oe])}return U},n.V=function(b){vr(this);let O=[];if(typeof b=="string")Ys(this,b)&&(O=O.concat(this.g.get(ls(this,b))));else{b=Array.from(this.g.values());for(let U=0;U<b.length;U++)O=O.concat(b[U])}return O},n.set=function(b,O){return vr(this),this.i=null,b=ls(this,b),Ys(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[O]),this.h+=1,this},n.get=function(b,O){return b?(b=this.V(b),0<b.length?String(b[0]):O):O};function Ut(b,O,U){ba(b,O),0<U.length&&(b.i=null,b.g.set(ls(b,O),q(U)),b.h+=U.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],O=Array.from(this.g.keys());for(var U=0;U<O.length;U++){var oe=O[U];const Qe=encodeURIComponent(String(oe)),St=this.V(oe);for(oe=0;oe<St.length;oe++){var Ue=Qe;St[oe]!==""&&(Ue+="="+encodeURIComponent(String(St[oe]))),b.push(Ue)}}return this.i=b.join("&")};function ls(b,O){return O=String(O),b.j&&(O=O.toLowerCase()),O}function vs(b,O){O&&!b.j&&(vr(b),b.i=null,b.g.forEach(function(U,oe){var Ue=oe.toLowerCase();oe!=Ue&&(ba(this,oe),Ut(this,Ue,U))},b)),b.j=O}function Xt(b,O){const U=new Yr;if(p.Image){const oe=new Image;oe.onload=R(sn,U,"TestLoadImage: loaded",!0,O,oe),oe.onerror=R(sn,U,"TestLoadImage: error",!1,O,oe),oe.onabort=R(sn,U,"TestLoadImage: abort",!1,O,oe),oe.ontimeout=R(sn,U,"TestLoadImage: timeout",!1,O,oe),p.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=b}else O(!1)}function Aa(b,O){const U=new Yr,oe=new AbortController,Ue=setTimeout(()=>{oe.abort(),sn(U,"TestPingServer: timeout",!1,O)},1e4);fetch(b,{signal:oe.signal}).then(Qe=>{clearTimeout(Ue),Qe.ok?sn(U,"TestPingServer: ok",!0,O):sn(U,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Ue),sn(U,"TestPingServer: error",!1,O)})}function sn(b,O,U,oe,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),oe(U)}catch{}}function Cr(){this.g=new xn}function ws(b,O,U){const oe=U||"";try{_r(b,function(Ue,Qe){let St=Ue;w(Ue)&&(St=dn(Ue)),O.push(oe+Qe+"="+encodeURIComponent(St))})}catch(Ue){throw O.push(oe+"type="+encodeURIComponent("_badmap")),Ue}}function Xs(b){this.l=b.Ub||null,this.j=b.eb||!1}H(Xs,Pn),Xs.prototype.g=function(){return new Ks(this.l,this.j)},Xs.prototype.i=function(b){return function(){return b}}({});function Ks(b,O){Vt.call(this),this.D=b,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Ks,Vt),n=Ks.prototype,n.open=function(b,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=O,this.readyState=1,bi(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(O.body=b),(this.D||p).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ls(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ls(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}n.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var O=b.value?b.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!b.done}))&&(this.response=this.responseText+=O)}b.done?xs(this):bi(this),this.readyState==3&&Ls(this)}},n.Ra=function(b){this.g&&(this.response=this.responseText=b,xs(this))},n.Qa=function(b){this.g&&(this.response=b,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(b){b.readyState=4,b.l=null,b.j=null,b.v=null,bi(b)}n.setRequestHeader=function(b,O){this.u.append(b,O)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],O=this.h.entries();for(var U=O.next();!U.done;)U=U.value,b.push(U[0]+": "+U[1]),U=O.next();return b.join(`\r
`)};function bi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ts(b){let O="";return Ge(b,function(U,oe){O+=oe,O+=":",O+=U,O+=`\r
`}),O}function zr(b,O,U){e:{for(oe in U){var oe=!1;break e}oe=!0}oe||(U=ts(U),typeof b=="string"?U!=null&&encodeURIComponent(String(U)):Rt(b,O,U))}function Un(b){Vt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Un,Vt);var bs=/^https?$/i,ns=["POST","PUT"];n=Un.prototype,n.Ha=function(b){this.J=b},n.ea=function(b,O,U,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);O=O?O.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Hs(this.o):Hs(ri),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(O,String(b),!0),this.B=!1}catch(Qe){Ai(this,Qe);return}if(b=U||"",U=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var Ue in oe)U.set(Ue,oe[Ue]);else if(typeof oe.keys=="function"&&typeof oe.get=="function")for(const Qe of oe.keys())U.set(Qe,oe.get(Qe));else throw Error("Unknown input type for opt_headers: "+String(oe));oe=Array.from(U.keys()).find(Qe=>Qe.toLowerCase()=="content-type"),Ue=p.FormData&&b instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ns,O,void 0))||oe||Ue||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qe,St]of U)this.g.setRequestHeader(Qe,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(b),this.u=!1}catch(Qe){Ai(this,Qe)}};function Ai(b,O){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=O,b.m=5,_a(b),As(b)}function _a(b){b.A||(b.A=!0,ln(b,"complete"),ln(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,ln(this,"complete"),ln(this,"abort"),As(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),Un.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(b){if(b.h&&typeof f<"u"&&(!b.v[1]||_i(b)!=4||b.Z()!=2)){if(b.u&&_i(b)==4)Ht(b.Ea,0,b);else if(ln(b,"readystatechange"),_i(b)==4){b.h=!1;try{const St=b.Z();e:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var U;if(!(U=O)){var oe;if(oe=St===0){var Ue=String(b.D).match(si)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),oe=!bs.test(Ue?Ue.toLowerCase():"")}U=oe}if(U)ln(b,"complete"),ln(b,"success");else{b.m=6;try{var Qe=2<_i(b)?b.g.statusText:""}catch{Qe=""}b.l=Qe+" ["+b.Z()+"]",_a(b)}}finally{As(b)}}}}function As(b,O){if(b.g){rs(b);const U=b.g,oe=b.v[0]?()=>{}:null;b.g=null,b.v=null,O||ln(b,"ready");try{U.onreadystatechange=oe}catch{}}}function rs(b){b.I&&(p.clearTimeout(b.I),b.I=null)}n.isActive=function(){return!!this.g};function _i(b){return b.g?b.g.readyState:0}n.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(b){if(this.g){var O=this.g.responseText;return b&&O.indexOf(b)==0&&(O=O.substring(b.length)),$t(O)}};function Wo(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Vn(b){const O={};b=(b.g&&2<=_i(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let oe=0;oe<b.length;oe++){if(te(b[oe]))continue;var U=V(b[oe]);const Ue=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Qe=O[Ue]||[];O[Ue]=Qe,Qe.push(U)}X(O,function(oe){return oe.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(b,O,U){return U&&U.internalChannelParams&&U.internalChannelParams[b]||O}function Ds(b){this.Aa=0,this.i=[],this.j=new Yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,b),this.cb=Pi("retryDelaySeedMs",1e4,b),this.Wa=Pi("forwardChannelMaxRetries",2,b),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Fn(b&&b.concurrentRequestLimit),this.Da=new Cr,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ds.prototype,n.la=8,n.G=1,n.connect=function(b,O,U,oe){Bt(0),this.W=b,this.H=O||{},U&&oe!==void 0&&(this.H.OSID=U,this.H.OAID=oe),this.F=this.X,this.I=C(this,null,this.W),yn(this)};function ki(b){if(tt(b),b.G==3){var O=b.U++,U=cn(b.I);if(Rt(U,"SID",b.K),Rt(U,"RID",O),Rt(U,"TYPE","terminate"),ga(b,U),O=new Vr(b,b.j,O),O.L=2,O.v=Dr(cn(U)),U=!1,p.navigator&&p.navigator.sendBeacon)try{U=p.navigator.sendBeacon(O.v.toString(),"")}catch{}!U&&p.Image&&(new Image().src=O.v,U=!0),U||(O.g=ee(O.j,null),O.g.ea(O.v)),O.F=Date.now(),ir(O)}Jn(b)}function ao(b){b.g&&(Zs(b),b.g.cancel(),b.g=null)}function tt(b){ao(b),b.u&&(p.clearTimeout(b.u),b.u=null),Os(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&p.clearTimeout(b.s),b.s=null)}function yn(b){if(!jn(b.h)&&!b.s){b.s=!0;var O=b.Ga;Ie||se(),_e||(Ie(),_e=!0),Te.add(O,b),b.B=0}}function Kr(b,O){return Tn(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=O.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Wr(M(b.Ga,b,O),Js(b,b.B)),b.B++,!0)}n.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Ue=new Vr(this,this.j,b);let Qe=this.o;if(this.S&&(Qe?(Qe=z(Qe),ae(Qe,this.S)):Qe=this.S),this.m!==null||this.O||(Ue.H=Qe,Qe=null),this.P)e:{for(var O=0,U=0;U<this.i.length;U++){t:{var oe=this.i[U];if("__data__"in oe.map&&(oe=oe.map.__data__,typeof oe=="string")){oe=oe.length;break t}oe=void 0}if(oe===void 0)break;if(O+=oe,4096<O){O=U;break e}if(O===4096||U===this.i.length-1){O=U+1;break e}}O=1e3}else O=1e3;O=ja(this,Ue,O),U=cn(this.I),Rt(U,"RID",b),Rt(U,"CVER",22),this.D&&Rt(U,"X-HTTP-Session-Id",this.D),ga(this,U),Qe&&(this.O?O="headers="+encodeURIComponent(String(ts(Qe)))+"&"+O:this.m&&zr(U,this.m,Qe)),yr(this.h,Ue),this.Ua&&Rt(U,"TYPE","init"),this.P?(Rt(U,"$req",O),Rt(U,"SID","null"),Ue.T=!0,kr(Ue,U,null)):kr(Ue,U,O),this.G=2}}else this.G==3&&(b?Qs(this,b):this.i.length==0||jn(this.h)||Qs(this))};function Qs(b,O){var U;O?U=O.l:U=b.U++;const oe=cn(b.I);Rt(oe,"SID",b.K),Rt(oe,"RID",U),Rt(oe,"AID",b.T),ga(b,oe),b.m&&b.o&&zr(oe,b.m,b.o),U=new Vr(b,b.j,U,b.B+1),b.m===null&&(U.H=b.o),O&&(b.i=O.D.concat(b.i)),O=ja(b,U,1e3),U.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),yr(b.h,U),kr(U,oe,O)}function ga(b,O){b.H&&Ge(b.H,function(U,oe){Rt(O,oe,U)}),b.l&&_r({},function(U,oe){Rt(O,oe,U)})}function ja(b,O,U){U=Math.min(b.i.length,U);var oe=b.l?M(b.l.Na,b.l,b):null;e:{var Ue=b.i;let Qe=-1;for(;;){const St=["count="+U];Qe==-1?0<U?(Qe=Ue[0].g,St.push("ofs="+Qe)):Qe=0:St.push("ofs="+Qe);let gn=!0;for(let Rn=0;Rn<U;Rn++){let _n=Ue[Rn].g;const zn=Ue[Rn].map;if(_n-=Qe,0>_n)Qe=Math.max(0,Ue[Rn].g-100),gn=!1;else try{ws(zn,St,"req"+_n+"_")}catch{oe&&oe(zn)}}if(gn){oe=St.join("&");break e}}}return b=b.i.splice(0,U),O.D=b,oe}function oo(b){if(!b.g&&!b.u){b.Y=1;var O=b.Fa;Ie||se(),_e||(Ie(),_e=!0),Te.add(O,b),b.v=0}}function Ua(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Wr(M(b.Fa,b),Js(b,b.v)),b.v++,!0)}n.Fa=function(){if(this.u=null,Hr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Wr(M(this.ab,this),b)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),ao(this),Hr(this))};function Zs(b){b.A!=null&&(p.clearTimeout(b.A),b.A=null)}function Hr(b){b.g=new Vr(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var O=cn(b.qa);Rt(O,"RID","rpc"),Rt(O,"SID",b.K),Rt(O,"AID",b.T),Rt(O,"CI",b.F?"0":"1"),!b.F&&b.ja&&Rt(O,"TO",b.ja),Rt(O,"TYPE","xmlhttp"),ga(b,O),b.m&&b.o&&zr(O,b.m,b.o),b.L&&(b.g.I=b.L);var U=b.g;b=b.ia,U.L=1,U.v=Dr(cn(O)),U.m=null,U.P=!0,Tr(U,b)}n.Za=function(){this.C!=null&&(this.C=null,ao(this),Ua(this),Bt(19))};function Os(b){b.C!=null&&(p.clearTimeout(b.C),b.C=null)}function hr(b,O){var U=null;if(b.g==O){Os(b),Zs(b),b.g=null;var oe=2}else if(Ws(b.h,O))U=O.D,qi(b.h,O),oe=1;else return;if(b.G!=0){if(O.o)if(oe==1){U=O.m?O.m.length:0,O=Date.now()-O.F;var Ue=b.B;oe=gs(),ln(oe,new ps(oe,U)),yn(b)}else oo(b);else if(Ue=O.s,Ue==3||Ue==0&&0<O.X||!(oe==1&&Kr(b,O)||oe==2&&Ua(b)))switch(U&&0<U.length&&(O=b.h,O.i=O.i.concat(U)),Ue){case 1:ai(b,5);break;case 4:ai(b,10);break;case 3:ai(b,6);break;default:ai(b,2)}}}function Js(b,O){let U=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(U*=2),U*O}function ai(b,O){if(b.j.info("Error code "+O),O==2){var U=M(b.fb,b),oe=b.Xa;const Ue=!oe;oe=new Lr(oe||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Mr(oe,"https"),Dr(oe),Ue?Xt(oe.toString(),U):Aa(oe.toString(),U)}else Bt(2);b.G=0,b.l&&b.l.sa(O),Jn(b),tt(b)}n.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Jn(b){if(b.G=0,b.ka=[],b.l){const O=Yn(b.h);(O.length!=0||b.i.length!=0)&&(J(b.ka,O),J(b.ka,b.i),b.h.i.length=0,q(b.i),b.i.length=0),b.l.ra()}}function C(b,O,U){var oe=U instanceof Lr?cn(U):new Lr(U);if(oe.g!="")O&&(oe.g=O+"."+oe.g),Xe(oe,oe.s);else{var Ue=p.location;oe=Ue.protocol,O=O?O+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;var Qe=new Lr(null);oe&&Mr(Qe,oe),O&&(Qe.g=O),Ue&&Xe(Qe,Ue),U&&(Qe.l=U),oe=Qe}return U=b.D,O=b.ya,U&&O&&Rt(oe,U,O),Rt(oe,"VER",b.la),ga(b,oe),oe}function ee(b,O,U){if(O&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=b.Ca&&!b.pa?new Un(new Xs({eb:U})):new Un(b.pa),O.Ha(b.J),O}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pe(){}n=pe.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ne(){}Ne.prototype.g=function(b,O){return new je(b,O)};function je(b,O){Vt.call(this),this.g=new Ds(O),this.l=b,this.h=O&&O.messageUrlParams||null,b=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(b?b["X-WebChannel-Content-Type"]=O.messageContentType:b={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(b?b["X-WebChannel-Client-Profile"]=O.va:b={"X-WebChannel-Client-Profile":O.va}),this.g.S=b,(b=O&&O.Sb)&&!te(b)&&(this.g.m=b),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!te(O)&&(this.g.D=O,b=this.h,b!==null&&O in b&&(b=this.h,O in b&&delete b[O])),this.j=new Ot(this)}H(je,Vt),je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},je.prototype.close=function(){ki(this.g)},je.prototype.o=function(b){var O=this.g;if(typeof b=="string"){var U={};U.__data__=b,b=U}else this.u&&(U={},U.__data__=dn(b),b=U);O.i.push(new vl(O.Ya++,b)),O.G==3&&yn(O)},je.prototype.N=function(){this.g.l=null,delete this.j,ki(this.g),delete this.g,je.aa.N.call(this)};function ot(b){ti.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var O=b.__sm__;if(O){e:{for(const U in O){b=U;break e}b=void 0}(this.i=b)&&(b=this.i,O=O!==null&&b in O?O[b]:void 0),this.data=O}else this.data=b}H(ot,ti);function yt(){er.call(this),this.status=1}H(yt,er);function Ot(b){this.g=b}H(Ot,pe),Ot.prototype.ua=function(){ln(this.g,"a")},Ot.prototype.ta=function(b){ln(this.g,new ot(b))},Ot.prototype.sa=function(b){ln(this.g,new yt)},Ot.prototype.ra=function(){ln(this.g,"b")},Ne.prototype.createWebChannel=Ne.prototype.g,je.prototype.send=je.prototype.o,je.prototype.open=je.prototype.m,je.prototype.close=je.prototype.close,cx=function(){return new Ne},lx=function(){return gs()},ox=nn,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,G1=ur,rr.COMPLETE="complete",ax=rr,Or.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Kf=Or,Un.prototype.listenOnce=Un.prototype.L,Un.prototype.getLastError=Un.prototype.Ka,Un.prototype.getLastErrorCode=Un.prototype.Ba,Un.prototype.getStatus=Un.prototype.Z,Un.prototype.getResponseJson=Un.prototype.Oa,Un.prototype.getResponseText=Un.prototype.oa,Un.prototype.send=Un.prototype.ea,Un.prototype.setWithCredentials=Un.prototype.Ha,sx=Un}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",uv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ca.UNAUTHENTICATED=new ca(null),ca.GOOGLE_CREDENTIALS=new ca("google-credentials-uid"),ca.FIRST_PARTY=new ca("first-party-uid"),ca.MOCK_USER=new ca("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new Op("@firebase/firestore");function Ah(){return Bu.logLevel}function qt(n,...e){if(Bu.logLevel<=ar.DEBUG){const t=e.map(Yp);Bu.debug(`Firestore (${Jh}): ${n}`,...t)}}function Ql(n,...e){if(Bu.logLevel<=ar.ERROR){const t=e.map(Yp);Bu.error(`Firestore (${Jh}): ${n}`,...t)}}function jh(n,...e){if(Bu.logLevel<=ar.WARN){const t=e.map(Yp);Bu.warn(`Firestore (${Jh}): ${n}`,...t)}}function Yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n="Unexpected state"){const e=`FIRESTORE (${Jh}) INTERNAL ASSERTION FAILED: `+n;throw Ql(e),new Error(e)}function Pr(n,e){n||En()}function Mn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends ec{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ca.UNAUTHENTICATED))}shutdown(){}}class OT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MT{constructor(e){this.t=e,this.currentUser=ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pr(this.o===void 0);let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wl,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},p=v=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wl)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pr(typeof r.accessToken=="string"),new ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pr(e===null||typeof e=="string"),new ca(e)}}class PT{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ca.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kT{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new PT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,no(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Pr(this.o===void 0);const r=l=>{l.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,qt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new hv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pr(typeof t.token=="string"),this.R=t.token,new hv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=FT(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function mr(n,e){return n<e?-1:n>e?1:0}function Uh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-62135596800,dv=1e6;class fs{static now(){return fs.fromMillis(Date.now())}static fromDate(e){return fs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dv);return new fs(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Kt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Kt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fv)throw new Kt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Kt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(e){return this.seconds===e.seconds?mr(this.nanoseconds,e.nanoseconds):mr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new fs(0,0))}static max(){return new Nn(new fs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="__name__";class al{constructor(e,t,r){t===void 0?t=0:t>e.length&&En(),r===void 0?r=e.length-t:r>e.length-t&&En(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=al.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=al.isNumericId(e),a=al.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?al.extractNumericId(e).compare(al.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qc.fromString(e.substring(4,e.length-2))}}class wi extends al{construct(e,t,r){return new wi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Kt(Tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new wi(t)}static emptyPath(){return new wi([])}}const jT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vs extends al{construct(e,t,r){return new Vs(e,t,r)}static isValidIdentifier(e){return jT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Vs([gv])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Kt(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new Kt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Kt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,a+=2}else p==="`"?(f=!f,a++):p!=="."||f?(r+=p,a++):(l(),a++)}if(l(),f)throw new Kt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vs(t)}static emptyPath(){return new Vs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.path=e}static fromPath(e){return new fn(wi.fromString(e))}static fromName(e){return new fn(wi.fromString(e).popFirst(5))}static empty(){return new fn(wi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new wi(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function UT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Nn.fromTimestamp(r===1e9?new fs(t+1,0):new fs(t,r));return new Yc(a,fn.empty(),e)}function VT(n){return new Yc(n.readTime,n.key,ud)}class Yc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yc(Nn.min(),fn.empty(),ud)}static max(){return new Yc(Nn.max(),fn.empty(),ud)}}function zT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fn.comparator(n.documentKey,e.documentKey),t!==0?t:mr(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(n){if(n.code!==Tt.FAILED_PRECONDITION||n.message!==HT)throw n;qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bt?t:bt.resolve(t)}catch(t){return bt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bt.reject(t)}static resolve(e){return new bt((t,r)=>{t(e)})}static reject(e){return new bt((t,r)=>{r(e)})}static waitFor(e){return new bt((t,r)=>{let a=0,l=0,f=!1;e.forEach(p=>{++a,p.next(()=>{++l,f&&l===a&&t()},v=>r(v))}),f=!0,l===a&&t()})}static or(e){let t=bt.resolve(!1);for(const r of e)t=t.next(a=>a?bt.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new bt((r,a)=>{const l=e.length,f=new Array(l);let p=0;for(let v=0;v<l;v++){const w=v;t(e[w]).next(T=>{f[w]=T,++p,p===l&&r(f)},T=>a(T))}})}static doWhile(e,t){return new bt((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function GT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ef(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}P0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function k0(n){return n==null}function u0(n){return n===0&&1/n==-1/0}function WT(n){return typeof n=="number"&&Number.isInteger(n)&&!u0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="";function YT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pv(e)),e=XT(n.get(t),e);return pv(e)}function XT(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case fx:t+="";break;default:t+=l}}return t}function pv(n){return n+fx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t){this.comparator=e,this.root=t||Us.EMPTY}insert(e,t){return new Ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R1(this.root,e,this.comparator,!1)}getReverseIterator(){return new R1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R1(this.root,e,this.comparator,!0)}}class R1{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Us{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Us.RED,this.left=a??Us.EMPTY,this.right=l??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Us(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Us.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1;Us.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(e,t,r,a,l){return this}insert(e,t,r){return new Us(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(e){return new yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ds(this.comparator);return t.data=e,t}}class yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.fields=e,e.sort(Vs.comparator)}static empty(){return new Vo([])}unionWith(e){let t=new ds(Vs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gx("Invalid base64 string: "+l):l}}(e);return new zs(t)}static fromUint8Array(e){const t=function(a){let l="";for(let f=0;f<a.length;++f)l+=String.fromCharCode(a[f]);return l}(e);return new zs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zs.EMPTY_BYTE_STRING=new zs("");const KT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xc(n){if(Pr(!!n),typeof n=="string"){let e=0;const t=KT.exec(n);if(Pr(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ki(n.seconds),nanos:Ki(n.nanos)}}function Ki(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Kc(n){return typeof n=="string"?zs.fromBase64String(n):zs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="server_timestamp",mx="__type__",yx="__previous_value__",vx="__local_write_time__";function Kp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mx])===null||t===void 0?void 0:t.stringValue)===px}function B0(n){const e=n.mapValue.fields[yx];return Kp(e)?B0(e):e}function hd(n){const e=Xc(n.mapValue.fields[vx].timestampValue);return new fs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,t,r,a,l,f,p,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=w}}const h0="(default)";class fd{constructor(e,t){this.projectId=e,this.database=t||h0}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===h0}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="__type__",ZT="__max__",L1={mapValue:{}},xx="__vector__",f0="value";function Qc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kp(n)?4:$T(n)?9007199254740991:JT(n)?10:11:En()}function pl(n,e){if(n===e)return!0;const t=Qc(n);if(t!==Qc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hd(n).isEqual(hd(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const f=Xc(a.timestampValue),p=Xc(l.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Kc(a.bytesValue).isEqual(Kc(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ki(a.geoPointValue.latitude)===Ki(l.geoPointValue.latitude)&&Ki(a.geoPointValue.longitude)===Ki(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ki(a.integerValue)===Ki(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const f=Ki(a.doubleValue),p=Ki(l.doubleValue);return f===p?u0(f)===u0(p):isNaN(f)&&isNaN(p)}return!1}(n,e);case 9:return Uh(n.arrayValue.values||[],e.arrayValue.values||[],pl);case 10:case 11:return function(a,l){const f=a.mapValue.fields||{},p=l.mapValue.fields||{};if(mv(f)!==mv(p))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(p[v]===void 0||!pl(f[v],p[v])))return!1;return!0}(n,e);default:return En()}}function dd(n,e){return(n.values||[]).find(t=>pl(t,e))!==void 0}function Vh(n,e){if(n===e)return 0;const t=Qc(n),r=Qc(e);if(t!==r)return mr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return mr(n.booleanValue,e.booleanValue);case 2:return function(l,f){const p=Ki(l.integerValue||l.doubleValue),v=Ki(f.integerValue||f.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return vv(n.timestampValue,e.timestampValue);case 4:return vv(hd(n),hd(e));case 5:return mr(n.stringValue,e.stringValue);case 6:return function(l,f){const p=Kc(l),v=Kc(f);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(l,f){const p=l.split("/"),v=f.split("/");for(let w=0;w<p.length&&w<v.length;w++){const T=mr(p[w],v[w]);if(T!==0)return T}return mr(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,f){const p=mr(Ki(l.latitude),Ki(f.latitude));return p!==0?p:mr(Ki(l.longitude),Ki(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return wv(n.arrayValue,e.arrayValue);case 10:return function(l,f){var p,v,w,T;const I=l.fields||{},M=f.fields||{},R=(p=I[f0])===null||p===void 0?void 0:p.arrayValue,H=(v=M[f0])===null||v===void 0?void 0:v.arrayValue,q=mr(((w=R==null?void 0:R.values)===null||w===void 0?void 0:w.length)||0,((T=H==null?void 0:H.values)===null||T===void 0?void 0:T.length)||0);return q!==0?q:wv(R,H)}(n.mapValue,e.mapValue);case 11:return function(l,f){if(l===L1.mapValue&&f===L1.mapValue)return 0;if(l===L1.mapValue)return 1;if(f===L1.mapValue)return-1;const p=l.fields||{},v=Object.keys(p),w=f.fields||{},T=Object.keys(w);v.sort(),T.sort();for(let I=0;I<v.length&&I<T.length;++I){const M=mr(v[I],T[I]);if(M!==0)return M;const R=Vh(p[v[I]],w[T[I]]);if(R!==0)return R}return mr(v.length,T.length)}(n.mapValue,e.mapValue);default:throw En()}}function vv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mr(n,e);const t=Xc(n),r=Xc(e),a=mr(t.seconds,r.seconds);return a!==0?a:mr(t.nanos,r.nanos)}function wv(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Vh(t[a],r[a]);if(l)return l}return mr(t.length,r.length)}function zh(n){return Qg(n)}function Qg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Kc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fn.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Qg(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const f of r)l?l=!1:a+=",",a+=`${f}:${Qg(t.fields[f])}`;return a+"}"}(n.mapValue):En()}function W1(n){switch(Qc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B0(n);return e?16+W1(e):16;case 5:return 2*n.stringValue.length;case 6:return Kc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+W1(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Uu(r.fields,(l,f)=>{a+=l.length+W1(f)}),a}(n.mapValue);default:throw En()}}function xv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zg(n){return!!n&&"integerValue"in n}function Qp(n){return!!n&&"arrayValue"in n}function bv(n){return!!n&&"nullValue"in n}function Av(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Y1(n){return!!n&&"mapValue"in n}function JT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wx])===null||t===void 0?void 0:t.stringValue)===xx}function td(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=td(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=td(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $T(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.value=e}static empty(){return new xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Y1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(t)}setAll(e){let t=Vs.emptyPath(),r={},a=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,a),r={},a=[],t=p.popLast()}f?r[p.lastSegment()]=td(f):a.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Y1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Y1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Uu(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new xo(td(this.value))}}function bx(n){const e=[];return Uu(n.fields,(t,r)=>{const a=new Vs([t]);if(Y1(r)){const l=bx(r.mapValue).fields;if(l.length===0)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Vo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,r,a,l,f,p){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=f,this.documentState=p}static newInvalidDocument(e){return new ua(e,0,Nn.min(),Nn.min(),Nn.min(),xo.empty(),0)}static newFoundDocument(e,t,r,a){return new ua(e,1,t,Nn.min(),r,a,0)}static newNoDocument(e,t){return new ua(e,2,t,Nn.min(),Nn.min(),xo.empty(),0)}static newUnknownDocument(e,t){return new ua(e,3,t,Nn.min(),Nn.min(),xo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ua&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ua(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.position=e,this.inclusive=t}}function _v(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(l.field.isKeyField()?r=fn.comparator(fn.fromName(f.referenceValue),t.key):r=Vh(f,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ev(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t="asc"){this.field=e,this.dir=t}}function eC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{}class as extends Ax{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nC(e,t,r):t==="array-contains"?new sC(e,r):t==="in"?new aC(e,r):t==="not-in"?new oC(e,r):t==="array-contains-any"?new lC(e,r):new as(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rC(e,r):new iC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vh(t,this.value)):t!==null&&Qc(this.value)===Qc(t)&&this.matchesComparison(Vh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ho extends Ax{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ho(e,t)}matches(e){return _x(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _x(n){return n.op==="and"}function Ex(n){return tC(n)&&_x(n)}function tC(n){for(const e of n.filters)if(e instanceof Ho)return!1;return!0}function Jg(n){if(n instanceof as)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(Ex(n))return n.filters.map(e=>Jg(e)).join(",");{const e=n.filters.map(t=>Jg(t)).join(",");return`${n.op}(${e})`}}function Sx(n,e){return n instanceof as?function(r,a){return a instanceof as&&r.op===a.op&&r.field.isEqual(a.field)&&pl(r.value,a.value)}(n,e):n instanceof Ho?function(r,a){return a instanceof Ho&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,f,p)=>l&&Sx(f,a.filters[p]),!0):!1}(n,e):void En()}function Tx(n){return n instanceof as?function(t){return`${t.field.canonicalString()} ${t.op} ${zh(t.value)}`}(n):n instanceof Ho?function(t){return t.op.toString()+" {"+t.getFilters().map(Tx).join(" ,")+"}"}(n):"Filter"}class nC extends as{constructor(e,t,r){super(e,t,r),this.key=fn.fromName(r.referenceValue)}matches(e){const t=fn.comparator(e.key,this.key);return this.matchesComparison(t)}}class rC extends as{constructor(e,t){super(e,"in",t),this.keys=Cx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iC extends as{constructor(e,t){super(e,"not-in",t),this.keys=Cx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>fn.fromName(r.referenceValue))}class sC extends as{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&dd(t.arrayValue,this.value)}}class aC extends as{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dd(this.value.arrayValue,t)}}class oC extends as{constructor(e,t){super(e,"not-in",t)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!dd(this.value.arrayValue,t)}}class lC extends as{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t=null,r=[],a=[],l=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=f,this.endAt=p,this.le=null}}function Sv(n,e=null,t=[],r=[],a=null,l=null,f=null){return new cC(n,e,t,r,a,l,f)}function Zp(n){const e=Mn(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Jg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),k0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zh(r)).join(",")),e.le=t}return e.le}function Jp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ev(n.startAt,e.startAt)&&Ev(n.endAt,e.endAt)}function $g(n){return fn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t=null,r=[],a=[],l=null,f="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=f,this.startAt=p,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uC(n,e,t,r,a,l,f,p){return new Id(n,e,t,r,a,l,f,p)}function $p(n){return new Id(n)}function Tv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ix(n){return n.collectionGroup!==null}function nd(n){const e=Mn(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ds(Vs.comparator);return f.filters.forEach(v=>{v.getFlattenedFilters().forEach(w=>{w.isInequality()&&(p=p.add(w.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new g0(l,r))}),t.has(Vs.keyField().canonicalString())||e.he.push(new g0(Vs.keyField(),r))}return e.he}function ul(n){const e=Mn(n);return e.Pe||(e.Pe=hC(e,nd(n))),e.Pe}function hC(n,e){if(n.limitType==="F")return Sv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new g0(a.field,l)});const t=n.endAt?new d0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new d0(n.startAt.position,n.startAt.inclusive):null;return Sv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ep(n,e){const t=n.filters.concat([e]);return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tp(n,e,t){return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F0(n,e){return Jp(ul(n),ul(e))&&n.limitType===e.limitType}function Nx(n){return`${Zp(ul(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>Tx(a)).join(", ")}]`),k0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>zh(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>zh(a)).join(",")),`Target(${r})`}(ul(n))}; limitType=${n.limitType})`}function j0(n,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):fn.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,a){for(const l of nd(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(f,p,v){const w=_v(f,p,v);return f.inclusive?w<=0:w<0}(r.startAt,nd(r),a)||r.endAt&&!function(f,p,v){const w=_v(f,p,v);return f.inclusive?w>=0:w>0}(r.endAt,nd(r),a))}(n,e)}function fC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rx(n){return(e,t)=>{let r=!1;for(const a of nd(n)){const l=dC(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function dC(n,e,t){const r=n.field.isKeyField()?fn.comparator(e.key,t.key):function(l,f,p){const v=f.data.field(l),w=p.data.field(l);return v!==null&&w!==null?Vh(v,w):En()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return En()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return dx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Ri(fn.comparator);function Zl(){return gC}const Lx=new Ri(fn.comparator);function Qf(...n){let e=Lx;for(const t of n)e=e.insert(t.key,t);return e}function Dx(n){let e=Lx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ru(){return rd()}function Ox(){return rd()}function rd(){return new Vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const pC=new Ri(fn.comparator),mC=new ds(fn.comparator);function or(...n){let e=mC;for(const t of n)e=e.add(t);return e}const yC=new ds(mr);function vC(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u0(e)?"-0":e}}function Mx(n){return{integerValue:""+n}}function wC(n,e){return WT(e)?Mx(e):em(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this._=void 0}}function xC(n,e,t){return n instanceof p0?function(a,l){const f={fields:{[mx]:{stringValue:px},[vx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Kp(l)&&(l=B0(l)),l&&(f.fields[yx]=l),{mapValue:f}}(t,e):n instanceof gd?kx(n,e):n instanceof pd?Bx(n,e):function(a,l){const f=Px(a,l),p=Cv(f)+Cv(a.Ie);return Zg(f)&&Zg(a.Ie)?Mx(p):em(a.serializer,p)}(n,e)}function bC(n,e,t){return n instanceof gd?kx(n,e):n instanceof pd?Bx(n,e):t}function Px(n,e){return n instanceof m0?function(r){return Zg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class p0 extends U0{}class gd extends U0{constructor(e){super(),this.elements=e}}function kx(n,e){const t=Fx(e);for(const r of n.elements)t.some(a=>pl(a,r))||t.push(r);return{arrayValue:{values:t}}}class pd extends U0{constructor(e){super(),this.elements=e}}function Bx(n,e){let t=Fx(e);for(const r of n.elements)t=t.filter(a=>!pl(a,r));return{arrayValue:{values:t}}}class m0 extends U0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Cv(n){return Ki(n.integerValue||n.doubleValue)}function Fx(n){return Qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AC(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof gd&&a instanceof gd||r instanceof pd&&a instanceof pd?Uh(r.elements,a.elements,pl):r instanceof m0&&a instanceof m0?pl(r.Ie,a.Ie):r instanceof p0&&a instanceof p0}(n.transform,e.transform)}class _C{constructor(e,t){this.version=e,this.transformResults=t}}class Yl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yl}static exists(e){return new Yl(void 0,e)}static updateTime(e){return new Yl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class V0{}function jx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vx(n.key,Yl.none()):new Nd(n.key,n.data,Yl.none());{const t=n.data,r=xo.empty();let a=new ds(Vs.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);f===null&&l.length>1&&(l=l.popLast(),f=t.field(l)),f===null?r.delete(l):r.set(l,f),a=a.add(l)}return new zu(n.key,r,new Vo(a.toArray()),Yl.none())}}function EC(n,e,t){n instanceof Nd?function(a,l,f){const p=a.value.clone(),v=Nv(a.fieldTransforms,l,f.transformResults);p.setAll(v),l.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,t):n instanceof zu?function(a,l,f){if(!X1(a.precondition,l))return void l.convertToUnknownDocument(f.version);const p=Nv(a.fieldTransforms,l,f.transformResults),v=l.data;v.setAll(Ux(a)),v.setAll(p),l.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(n,e,t):function(a,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function id(n,e,t,r){return n instanceof Nd?function(l,f,p,v){if(!X1(l.precondition,f))return p;const w=l.value.clone(),T=Rv(l.fieldTransforms,v,f);return w.setAll(T),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof zu?function(l,f,p,v){if(!X1(l.precondition,f))return p;const w=Rv(l.fieldTransforms,v,f),T=f.data;return T.setAll(Ux(l)),T.setAll(w),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,r):function(l,f,p){return X1(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(n,e,t)}function SC(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Px(r.transform,a||null);l!=null&&(t===null&&(t=xo.empty()),t.set(r.field,l))}return t||null}function Iv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Uh(r,a,(l,f)=>AC(l,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nd extends V0{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zu extends V0{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ux(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Nv(n,e,t){const r=new Map;Pr(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,p=e.data.field(l.field);r.set(l.field,bC(f,p,t[a]))}return r}function Rv(n,e,t){const r=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);r.set(a.field,xC(l,f,e))}return r}class Vx extends V0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends V0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&EC(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=id(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=id(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ox();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let p=this.applyToLocalView(f,l.mutatedFields);p=t.has(a.key)?null:p;const v=jx(f,p);v!==null&&r.set(a.key,v),f.isValidDocument()||f.convertToNoDocument(Nn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,(t,r)=>Iv(t,r))&&Uh(this.baseMutations,e.baseMutations,(t,r)=>Iv(t,r))}}class tm{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Pr(e.mutations.length===r.length);let a=function(){return pC}();const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,r[f].version);return new tm(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss,br;function RC(n){switch(n){case Tt.OK:return En();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return En()}}function zx(n){if(n===void 0)return Ql("GRPC error has no .code"),Tt.UNKNOWN;switch(n){case ss.OK:return Tt.OK;case ss.CANCELLED:return Tt.CANCELLED;case ss.UNKNOWN:return Tt.UNKNOWN;case ss.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case ss.INTERNAL:return Tt.INTERNAL;case ss.UNAVAILABLE:return Tt.UNAVAILABLE;case ss.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case ss.NOT_FOUND:return Tt.NOT_FOUND;case ss.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case ss.ABORTED:return Tt.ABORTED;case ss.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case ss.DATA_LOSS:return Tt.DATA_LOSS;default:return En()}}(br=ss||(ss={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new qc([4294967295,4294967295],0);function Lv(n){const e=LC().encode(n),t=new ix;return t.update(e),new Uint8Array(t.digest())}function Dv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qc([t,r],0),new qc([a,l],0)]}class nm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zf(`Invalid padding: ${t}`);if(r<0)throw new Zf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=qc.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(qc.fromNumber(r)));return a.compare(DC)===1&&(a=new qc([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Lv(e),[r,a]=Dv(t);for(let l=0;l<this.hashCount;l++){const f=this.Ae(r,a,l);if(!this.Re(f))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new nm(l,a,t);return r.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const t=Lv(e),[r,a]=Dv(t);for(let l=0;l<this.hashCount;l++){const f=this.Ae(r,a,l);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new z0(Nn.min(),a,new Ri(mr),Zl(),or())}}class Rd{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rd(r,t,or(),or(),or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class Hx{constructor(e,t){this.targetId=e,this.ge=t}}class qx{constructor(e,t,r=zs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Ov{constructor(){this.pe=0,this.ye=Mv(),this.we=zs.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=or(),t=or(),r=or();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:En()}}),new Rd(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=Mv()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Pr(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class OC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zl(),this.$e=D1(),this.Ke=D1(),this.Ue=new Ri(mr)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:En()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if($g(l))if(r===0){const f=new fn(l.path);this.ze(t,f,ua.newNoDocument(f,Nn.min()))}else Pr(r===1);else{const f=this.et(t);if(f!==r){const p=this.tt(e),v=p?this.nt(p,e,f):1;if(v!==0){this.Ye(t);const w=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,w)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let f,p;try{f=Kc(r).toUint8Array()}catch(v){if(v instanceof gx)return jh("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new nm(f,a,l)}catch(v){return jh(v instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,f)=>{const p=this.Xe(f);if(p){if(l.current&&$g(p.target)){const v=new fn(p.target.path);this._t(v).has(f)||this.ut(f,v)||this.ze(f,v,ua.newNoDocument(v,e))}l.ve&&(t.set(f,l.Fe()),l.Me())}});let r=or();this.Ke.forEach((l,f)=>{let p=!0;f.forEachWhile(v=>{const w=this.Xe(v);return!w||w.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(l))}),this.Qe.forEach((l,f)=>f.setReadTime(e));const a=new z0(e,t,this.Ue,this.Qe,r);return this.Qe=Zl(),this.$e=D1(),this.Ke=D1(),this.Ue=new Ri(mr),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ov,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ds(mr),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ds(mr),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||qt("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ov),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function D1(){return new Ri(fn.comparator)}function Mv(){return new Ri(fn.comparator)}const MC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kC={and:"AND",or:"OR"};class BC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(n,e){return n.useProto3Json||k0(e)?e:{value:e}}function y0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FC(n,e){return y0(n,e.toTimestamp())}function hl(n){return Pr(!!n),Nn.fromTimestamp(function(t){const r=Xc(t);return new fs(r.seconds,r.nanos)}(n))}function rm(n,e){return rp(n,e).canonicalString()}function rp(n,e){const t=function(a){return new wi(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Wx(n){const e=wi.fromString(n);return Pr(Zx(e)),e}function ip(n,e){return rm(n.databaseId,e.path)}function Sg(n,e){const t=Wx(e);if(t.get(1)!==n.databaseId.projectId)throw new Kt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Kt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fn(Xx(t))}function Yx(n,e){return rm(n.databaseId,e)}function jC(n){const e=Wx(n);return e.length===4?wi.emptyPath():Xx(e)}function sp(n){return new wi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xx(n){return Pr(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Pv(n,e,t){return{name:ip(n,e),fields:t.value.mapValue.fields}}function UC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:En()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(w,T){return w.useProto3Json?(Pr(T===void 0||typeof T=="string"),zs.fromBase64String(T||"")):(Pr(T===void 0||T instanceof Buffer||T instanceof Uint8Array),zs.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(w){const T=w.code===void 0?Tt.UNKNOWN:zx(w.code);return new Kt(T,w.message||"")}(f);t=new qx(r,a,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Sg(n,r.document.name),l=hl(r.document.updateTime),f=r.document.createTime?hl(r.document.createTime):Nn.min(),p=new xo({mapValue:{fields:r.document.fields}}),v=ua.newFoundDocument(a,l,f,p),w=r.targetIds||[],T=r.removedTargetIds||[];t=new K1(w,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Sg(n,r.document),l=r.readTime?hl(r.readTime):Nn.min(),f=ua.newNoDocument(a,l),p=r.removedTargetIds||[];t=new K1([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Sg(n,r.document),l=r.removedTargetIds||[];t=new K1([],l,a,null)}else{if(!("filter"in e))return En();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,f=new NC(a,l),p=r.targetId;t=new Hx(p,f)}}return t}function VC(n,e){let t;if(e instanceof Nd)t={update:Pv(n,e.key,e.value)};else if(e instanceof Vx)t={delete:ip(n,e.key)};else if(e instanceof zu)t={update:Pv(n,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof TC))return En();t={verify:ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,f){const p=f.transform;if(p instanceof p0)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gd)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof pd)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof m0)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw En()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:FC(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:En()}(n,e.precondition)),t}function zC(n,e){return n&&n.length>0?(Pr(e!==void 0),n.map(t=>function(a,l){let f=a.updateTime?hl(a.updateTime):hl(l);return f.isEqual(Nn.min())&&(f=hl(l)),new _C(f,a.transformResults||[])}(t,e))):[]}function HC(n,e){return{documents:[Yx(n,e.path)]}}function qC(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Yx(n,a);const l=function(w){if(w.length!==0)return Qx(Ho.create(w,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(w){if(w.length!==0)return w.map(T=>function(M){return{field:Eh(M.field),direction:YC(M.dir)}}(T))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=np(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(e.endAt)),{ht:t,parent:a}}function GC(n){let e=jC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Pr(r===1);const T=t.from[0];T.allDescendants?a=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=function(I){const M=Kx(I);return M instanceof Ho&&Ex(M)?M.getFilters():[M]}(t.where));let f=[];t.orderBy&&(f=function(I){return I.map(M=>function(H){return new g0(Sh(H.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(M))}(t.orderBy));let p=null;t.limit&&(p=function(I){let M;return M=typeof I=="object"?I.value:I,k0(M)?null:M}(t.limit));let v=null;t.startAt&&(v=function(I){const M=!!I.before,R=I.values||[];return new d0(R,M)}(t.startAt));let w=null;return t.endAt&&(w=function(I){const M=!I.before,R=I.values||[];return new d0(R,M)}(t.endAt)),uC(e,a,f,l,p,"F",v,w)}function WC(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Kx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sh(t.unaryFilter.field);return as.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Sh(t.unaryFilter.field);return as.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sh(t.unaryFilter.field);return as.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Sh(t.unaryFilter.field);return as.create(f,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(n):n.fieldFilter!==void 0?function(t){return as.create(Sh(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ho.create(t.compositeFilter.filters.map(r=>Kx(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return En()}}(t.compositeFilter.op))}(n):En()}function YC(n){return MC[n]}function XC(n){return PC[n]}function KC(n){return kC[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Vs.fromServerFormat(n.fieldPath)}function Qx(n){return n instanceof as?function(t){if(t.op==="=="){if(Av(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NAN"}};if(bv(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Av(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NAN"}};if(bv(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(t.field),op:XC(t.op),value:t.value}}}(n):n instanceof Ho?function(t){const r=t.getFilters().map(a=>Qx(a));return r.length===1?r[0]:{compositeFilter:{op:KC(t.op),filters:r}}}(n):En()}function QC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,r,a,l=Nn.min(),f=Nn.min(),p=zs.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.Tt=e}}function JC(n){const e=GC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Tn=new eI}addToCollectionParentIndex(e,t){return this.Tn.add(t),bt.resolve()}getCollectionParents(e,t){return bt.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return bt.resolve()}deleteFieldIndex(e,t){return bt.resolve()}deleteAllFieldIndexes(e){return bt.resolve()}createTargetIndexes(e,t){return bt.resolve()}getDocumentsMatchingTarget(e,t){return bt.resolve(null)}getIndexType(e,t){return bt.resolve(0)}getFieldIndexes(e,t){return bt.resolve([])}getNextCollectionGroupToUpdate(e){return bt.resolve(null)}getMinOffset(e,t){return bt.resolve(Yc.min())}getMinOffsetFromCollectionGroup(e,t){return bt.resolve(Yc.min())}updateCollectionGroup(e,t,r){return bt.resolve()}updateIndexEntries(e,t){return bt.resolve()}}class eI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ds(wi.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ds(wi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jx=41943040;class Oa{static withCacheSize(e){return new Oa(e,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa.DEFAULT_COLLECTION_PERCENTILE=10,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oa.DEFAULT=new Oa(Jx,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oa.DISABLED=new Oa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Hh(0)}static Un(){return new Hh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LruGarbageCollector",tI=1048576;function Fv([n,e],[t,r]){const a=mr(n,t);return a===0?mr(e,r):a}class nI{constructor(e){this.Hn=e,this.buffer=new ds(Fv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Fv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){qt(Bv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ef(t)?qt(Bv,"Ignoring IndexedDB error during garbage collection: ",t):await $h(t)}await this.er(3e5)})}}class iI{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return bt.resolve(P0.ae);const r=new nI(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(kv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,l,f,p,v,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),a=this.params.maximumSequenceNumbersToCollect):a=I,f=Date.now(),this.nthSequenceNumber(e,a))).next(I=>(r=I,p=Date.now(),this.removeTargets(e,r,t))).next(I=>(l=I,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(w=Date.now(),Ah()<=ar.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${a} in `+(p-f)+`ms
	Removed ${l} targets in `+(v-p)+`ms
	Removed ${I} documents in `+(w-v)+`ms
Total Duration: ${w-T}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:I})))}}function sI(n,e){return new iI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ua.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?bt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&id(r.mutation,a,Vo.empty(),fs.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,or()).next(()=>r))}getLocalViewOfDocuments(e,t,r=or()){const a=Ru();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let f=Qf();return l.forEach((p,v)=>{f=f.insert(p,v.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=Ru();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,or()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,r,a){let l=Zl();const f=rd(),p=function(){return rd()}();return t.forEach((v,w)=>{const T=r.get(w.key);a.has(w.key)&&(T===void 0||T.mutation instanceof zu)?l=l.insert(w.key,w):T!==void 0?(f.set(w.key,T.mutation.getFieldMask()),id(T.mutation,w,T.mutation.getFieldMask(),fs.now())):f.set(w.key,Vo.empty())}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((w,T)=>f.set(w,T)),t.forEach((w,T)=>{var I;return p.set(w,new oI(T,(I=f.get(w))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(e,t){const r=rd();let a=new Ri((f,p)=>f-p),l=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(v=>{const w=t.get(v);if(w===null)return;let T=r.get(v)||Vo.empty();T=p.applyToLocalView(w,T),r.set(v,T);const I=(a.get(p.batchId)||or()).add(v);a=a.insert(p.batchId,I)})}).next(()=>{const f=[],p=a.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),w=v.key,T=v.value,I=Ox();T.forEach(M=>{if(!l.has(M)){const R=jx(t.get(M),r.get(M));R!==null&&I.set(M,R),l=l.add(M)}}),f.push(this.documentOverlayCache.saveOverlays(e,w,I))}return bt.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(f){return fn.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ix(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):bt.resolve(Ru());let p=ud,v=l;return f.next(w=>bt.forEach(w,(T,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),l.get(T)?bt.resolve():this.remoteDocumentCache.getEntry(e,T).next(M=>{v=v.insert(T,M)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,v,w,or())).next(T=>({batchId:p,changes:Dx(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fn(t)).next(r=>{let a=Qf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let f=Qf();return this.indexManager.getCollectionParents(e,l).next(p=>bt.forEach(p,v=>{const w=function(I,M){return new Id(M,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,v.child(l));return this.getDocumentsMatchingCollectionQuery(e,w,r,a).next(T=>{T.forEach((I,M)=>{f=f.insert(I,M)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(f=>{l.forEach((v,w)=>{const T=w.getKey();f.get(T)===null&&(f=f.insert(T,ua.newInvalidDocument(T)))});let p=Qf();return f.forEach((v,w)=>{const T=l.get(v);T!==void 0&&id(T.mutation,w,Vo.empty(),fs.now()),j0(t,w)&&(p=p.insert(v,w))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return bt.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:hl(a.createTime)}}(t)),bt.resolve()}getNamedQuery(e,t){return bt.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:JC(a.bundledQuery),readTime:hl(a.readTime)}}(t)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.overlays=new Ri(fn.comparator),this.Rr=new Map}getOverlay(e,t){return bt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ru();return bt.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.Et(e,t,l)}),bt.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),bt.resolve()}getOverlaysForCollection(e,t,r){const a=Ru(),l=t.length+1,f=new fn(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const v=p.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&v.largestBatchId>r&&a.set(v.getKey(),v)}return bt.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Ri((w,T)=>w-T);const f=this.overlays.getIterator();for(;f.hasNext();){const w=f.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=l.get(w.largestBatchId);T===null&&(T=Ru(),l=l.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const p=Ru(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,T)=>p.set(w,T)),!(p.size()>=a)););return bt.resolve(p)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const f=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new IC(t,r));let l=this.Rr.get(t);l===void 0&&(l=or(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.sessionToken=zs.EMPTY_BYTE_STRING}getSessionToken(e){return bt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.Vr=new ds(Ns.mr),this.gr=new ds(Ns.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ns(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ns(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new fn(new wi([])),r=new Ns(t,e),a=new Ns(t,e+1),l=[];return this.gr.forEachInRange([r,a],f=>{this.wr(f),l.push(f.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new fn(new wi([])),r=new Ns(t,e),a=new Ns(t,e+1);let l=or();return this.gr.forEachInRange([r,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Ns(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ns{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return fn.comparator(e.key,t.key)||mr(e.Cr,t.Cr)}static pr(e,t){return mr(e.Cr,t.Cr)||fn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ds(Ns.mr)}checkEmpty(e){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CC(l,t,r,a);this.mutationQueue.push(f);for(const p of a)this.Mr=this.Mr.add(new Ns(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return bt.resolve(f)}lookupMutationBatch(e,t){return bt.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),l=a<0?0:a;return bt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?Xp:this.Fr-1)}getAllMutationBatches(e){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ns(t,0),a=new Ns(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],f=>{const p=this.Or(f.Cr);l.push(p)}),bt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ds(mr);return t.forEach(a=>{const l=new Ns(a,0),f=new Ns(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,f],p=>{r=r.add(p.Cr)})}),bt.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;fn.isDocumentKey(l)||(l=l.child(""));const f=new Ns(new fn(l),0);let p=new ds(mr);return this.Mr.forEachWhile(v=>{const w=v.key.path;return!!r.isPrefixOf(w)&&(w.length===a&&(p=p.add(v.Cr)),!0)},f),bt.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Pr(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return bt.forEach(t.mutations,a=>{const l=new Ns(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ns(t,0),a=this.Mr.firstAfterOrEqual(r);return bt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,bt.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.kr=e,this.docs=function(){return new Ri(fn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,f=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return bt.resolve(r?r.document.mutableCopy():ua.newInvalidDocument(t))}getEntries(e,t){let r=Zl();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ua.newInvalidDocument(a))}),bt.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Zl();const f=t.path,p=new fn(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:w,value:{document:T}}=v.getNext();if(!f.isPrefixOf(w.path))break;w.path.length>f.length+1||zT(VT(T),r)<=0||(a.has(T.key)||j0(t,T))&&(l=l.insert(T.key,T.mutableCopy()))}return bt.resolve(l)}getAllFromCollectionGroup(e,t,r,a){En()}qr(e,t){return bt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gI(this)}getSize(e){return bt.resolve(this.size)}}class gI extends aI{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),bt.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.persistence=e,this.Qr=new Vu(t=>Zp(t),Jp),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.$r=0,this.Kr=new im,this.targetCount=0,this.Ur=Hh.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),bt.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Hh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,bt.resolve()}updateTargetData(e,t){return this.zn(t),bt.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),bt.waitFor(l).next(()=>a)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return bt.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),bt.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),bt.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),bt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return bt.resolve(r)}containsKey(e,t){return bt.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new P0(0),this.zr=!1,this.zr=!0,this.jr=new hI,this.referenceDelegate=e(this),this.Hr=new pI(this),this.indexManager=new $C,this.remoteDocumentCache=function(a){return new dI(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new ZC(t),this.Yr=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new fI(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){qt("MemoryPersistence","Starting transaction:",e);const a=new mI(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return bt.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class mI extends qT{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.ti=new im,this.ni=null}static ri(e){return new sm(e)}get ii(){if(this.ni)return this.ni;throw En()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),bt.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),bt.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),bt.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.ii,r=>{const a=fn.fromPath(r);return this.si(e,a).next(l=>{l||t.removeEntry(a,Nn.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return bt.or([()=>bt.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class v0{constructor(e,t){this.persistence=e,this.oi=new Vu(r=>YT(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=sI(this,t)}static ri(e,t){return new v0(e,t)}Zr(){}Xr(e){return bt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return bt.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?bt.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,f=>this.ar(e,f,t).next(p=>{p||(r++,l.removeEntry(f,Nn.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),bt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),bt.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),bt.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),bt.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=W1(e.data.value)),t}ar(e,t,r){return bt.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return bt.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=or(),a=or();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new am(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JE()?8:GT(fa())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.rs(e,t).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ss(e,t,a,r).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new yI;return this._s(e,t,f).next(p=>{if(l.result=p,this.Xi)return this.us(e,t,f,p.size)})}).next(()=>l.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Ah()<=ar.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),bt.resolve()):(Ah()<=ar.DEBUG&&qt("QueryEngine","Query:",_h(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Ah()<=ar.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ul(t))):bt.resolve())}rs(e,t){if(Tv(t))return bt.resolve(null);let r=ul(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=tp(t,null,"F"),r=ul(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const f=or(...l);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const w=this.cs(t,p);return this.ls(t,w,f,v.readTime)?this.rs(e,tp(t,null,"F")):this.hs(e,w,t,v)}))})))}ss(e,t,r,a){return Tv(t)||a.isEqual(Nn.min())?bt.resolve(null):this.ns.getDocuments(e,r).next(l=>{const f=this.cs(t,l);return this.ls(t,f,r,a)?bt.resolve(null):(Ah()<=ar.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_h(t)),this.hs(e,f,t,UT(a,ud)).next(p=>p))})}cs(e,t){let r=new ds(Rx(e));return t.forEach((a,l)=>{j0(e,l)&&(r=r.add(l))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,r){return Ah()<=ar.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",_h(t)),this.ns.getDocumentsMatchingQuery(e,t,Yc.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="LocalStore",wI=3e8;class xI{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new Ri(mr),this.Is=new Vu(l=>Zp(l),Jp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function bI(n,e,t,r){return new xI(n,e,t,r)}async function e4(n,e){const t=Mn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const f=[],p=[];let v=or();for(const w of a){f.push(w.batchId);for(const T of w.mutations)v=v.add(T.key)}for(const w of l){p.push(w.batchId);for(const T of w.mutations)v=v.add(T.key)}return t.localDocuments.getDocuments(r,v).next(w=>({Rs:w,removedBatchIds:f,addedBatchIds:p}))})})}function AI(n,e){const t=Mn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,v,w,T){const I=w.batch,M=I.keys();let R=bt.resolve();return M.forEach(H=>{R=R.next(()=>T.getEntry(v,H)).next(q=>{const J=w.docVersions.get(H);Pr(J!==null),q.version.compareTo(J)<0&&(I.applyToRemoteDocument(q,w),q.isValidDocument()&&(q.setReadTime(w.commitVersion),T.addEntry(q)))})}),R.next(()=>p.mutationQueue.removeMutationBatch(v,I))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let v=or();for(let w=0;w<p.mutationResults.length;++w)p.mutationResults[w].transformResults.length>0&&(v=v.add(p.batch.mutations[w].key));return v}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function t4(n){const e=Mn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function _I(n,e){const t=Mn(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const p=[];e.targetChanges.forEach((T,I)=>{const M=a.get(I);if(!M)return;p.push(t.Hr.removeMatchingKeys(l,T.removedDocuments,I).next(()=>t.Hr.addMatchingKeys(l,T.addedDocuments,I)));let R=M.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?R=R.withResumeToken(zs.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):T.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(T.resumeToken,r)),a=a.insert(I,R),function(q,J,G){return q.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=wI?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(M,R,T)&&p.push(t.Hr.updateTargetData(l,R))});let v=Zl(),w=or();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),p.push(EI(l,f,e.documentUpdates).next(T=>{v=T.Vs,w=T.fs})),!r.isEqual(Nn.min())){const T=t.Hr.getLastRemoteSnapshotVersion(l).next(I=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(T)}return bt.waitFor(p).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,w)).next(()=>v)}).then(l=>(t.Ts=a,l))}function EI(n,e,t){let r=or(),a=or();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let f=Zl();return t.forEach((p,v)=>{const w=l.get(p);v.isFoundDocument()!==w.isFoundDocument()&&(a=a.add(p)),v.isNoDocument()&&v.version.isEqual(Nn.min())?(e.removeEntry(p,v.readTime),f=f.insert(p,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||v.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(v),f=f.insert(p,v)):qt(om,"Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",v.version)}),{Vs:f,fs:a}})}function SI(n,e){const t=Mn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TI(n,e){const t=Mn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(l=>l?(a=l,bt.resolve(a)):t.Hr.allocateTargetId(r).next(f=>(a=new Fc(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ap(n,e,t){const r=Mn(n),a=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!ef(f))throw f;qt(om,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function jv(n,e,t){const r=Mn(n);let a=Nn.min(),l=or();return r.persistence.runTransaction("Execute query","readwrite",f=>function(v,w,T){const I=Mn(v),M=I.Is.get(T);return M!==void 0?bt.resolve(I.Ts.get(M)):I.Hr.getTargetData(w,T)}(r,f,ul(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(f,p.targetId).next(v=>{l=v})}).next(()=>r.Ps.getDocumentsMatchingQuery(f,e,t?a:Nn.min(),t?l:or())).next(p=>(CI(r,fC(e),p),{documents:p,gs:l})))}function CI(n,e,t){let r=n.Es.get(e)||Nn.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(e,r)}class Uv{constructor(){this.activeTargetIds=vC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class II{constructor(){this.ho=new Uv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Uv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="ConnectivityMonitor";class zv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){qt(Vv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){qt(Vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O1=null;function op(){return O1===null?O1=function(){return 268435456+Math.round(2147483648*Math.random())}():O1++,"0x"+O1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="RestConnection",RI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===h0?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(e,t,r,a,l){const f=op(),p=this.So(e,t.toUriEncodedString());qt(Tg,`Sending RPC '${e}' ${f}:`,p,r);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,a,l),this.vo(e,p,v,r).then(w=>(qt(Tg,`Received RPC '${e}' ${f}: `,w),w),w=>{throw jh(Tg,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",r),w})}Co(e,t,r,a,l,f){return this.bo(e,t,r,a,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}So(e,t){const r=RI[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="WebChannelConnection";class OI extends LI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const l=op();return new Promise((f,p)=>{const v=new sx;v.setWithCredentials(!0),v.listenOnce(ax.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case G1.NO_ERROR:const T=v.getResponseJson();qt(ia,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(T)),f(T);break;case G1.TIMEOUT:qt(ia,`RPC '${e}' ${l} timed out`),p(new Kt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case G1.HTTP_ERROR:const I=v.getStatus();if(qt(ia,`RPC '${e}' ${l} failed with status:`,I,"response text:",v.getResponseText()),I>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const R=M==null?void 0:M.error;if(R&&R.status&&R.message){const H=function(J){const G=J.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(G)>=0?G:Tt.UNKNOWN}(R.status);p(new Kt(H,R.message))}else p(new Kt(Tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Kt(Tt.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{qt(ia,`RPC '${e}' ${l} completed.`)}});const w=JSON.stringify(a);qt(ia,`RPC '${e}' ${l} sending request:`,a),v.send(t,"POST",w,r,15)})}Wo(e,t,r){const a=op(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=cx(),p=lx(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(v.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const T=l.join("");qt(ia,`Creating RPC '${e}' stream ${a}: ${T}`,v);const I=f.createWebChannel(T,v);let M=!1,R=!1;const H=new DI({Fo:J=>{R?qt(ia,`Not sending because RPC '${e}' stream ${a} is closed:`,J):(M||(qt(ia,`Opening RPC '${e}' stream ${a} transport.`),I.open(),M=!0),qt(ia,`RPC '${e}' stream ${a} sending:`,J),I.send(J))},Mo:()=>I.close()}),q=(J,G,te)=>{J.listen(G,le=>{try{te(le)}catch(Ce){setTimeout(()=>{throw Ce},0)}})};return q(I,Kf.EventType.OPEN,()=>{R||(qt(ia,`RPC '${e}' stream ${a} transport opened.`),H.Qo())}),q(I,Kf.EventType.CLOSE,()=>{R||(R=!0,qt(ia,`RPC '${e}' stream ${a} transport closed`),H.Ko())}),q(I,Kf.EventType.ERROR,J=>{R||(R=!0,jh(ia,`RPC '${e}' stream ${a} transport errored:`,J),H.Ko(new Kt(Tt.UNAVAILABLE,"The operation could not be completed")))}),q(I,Kf.EventType.MESSAGE,J=>{var G;if(!R){const te=J.data[0];Pr(!!te);const le=te,Ce=(le==null?void 0:le.error)||((G=le[0])===null||G===void 0?void 0:G.error);if(Ce){qt(ia,`RPC '${e}' stream ${a} received error:`,Ce);const De=Ce.status;let Ge=function(j){const ae=ss[j];if(ae!==void 0)return zx(ae)}(De),X=Ce.message;Ge===void 0&&(Ge=Tt.INTERNAL,X="Unknown error status: "+De+" with message "+Ce.message),R=!0,H.Ko(new Kt(Ge,X)),I.close()}else qt(ia,`RPC '${e}' stream ${a} received:`,te),H.Uo(te)}}),q(p,ox.STAT_EVENT,J=>{J.stat===Kg.PROXY?qt(ia,`RPC '${e}' stream ${a} detected buffering proxy`):J.stat===Kg.NOPROXY&&qt(ia,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){return new BC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&qt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="PersistentStream";class r4{constructor(e,t,r,a,l,f,p,v){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new n4(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(Ql(t.toString()),Ql("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Kt(Tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return qt(Hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(qt(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MI extends r4{constructor(e,t,r,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=UC(this.serializer,e),r=function(l){if(!("targetChange"in l))return Nn.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Nn.min():f.readTime?hl(f.readTime):Nn.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=sp(this.serializer),t.addTarget=function(l,f){let p;const v=f.target;if(p=$g(v)?{documents:HC(l,v)}:{query:qC(l,v).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Gx(l,f.resumeToken);const w=np(l,f.expectedCount);w!==null&&(p.expectedCount=w)}else if(f.snapshotVersion.compareTo(Nn.min())>0){p.readTime=y0(l,f.snapshotVersion.toTimestamp());const w=np(l,f.expectedCount);w!==null&&(p.expectedCount=w)}return p}(this.serializer,e);const r=WC(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=sp(this.serializer),t.removeTarget=e,this.I_(t)}}class PI extends r4{constructor(e,t,r,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,f),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Pr(!!e.streamToken),this.lastStreamToken=e.streamToken,Pr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Pr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zC(e.writeResults,e.commitTime),r=hl(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=sp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>VC(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{}class BI extends kI{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Kt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.bo(e,rp(t,r),a,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Kt(Tt.UNKNOWN,l.toString())})}Co(e,t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,rp(t,r),a,f,p,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Kt(Tt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class FI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ql(t),this.N_=!1):qt("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="RemoteStore";class jI{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(f=>{r.enqueueAndForget(async()=>{Hu(this)&&(qt(Fu,"Restarting streams for network reachability change."),await async function(v){const w=Mn(v);w.W_.add(4),await Ld(w),w.j_.set("Unknown"),w.W_.delete(4),await q0(w)}(this))})}),this.j_=new FI(r,a)}}async function q0(n){if(Hu(n))for(const e of n.G_)await e(!0)}async function Ld(n){for(const e of n.G_)await e(!1)}function i4(n,e){const t=Mn(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),hm(t)?um(t):tf(t).c_()&&cm(t,e))}function lm(n,e){const t=Mn(n),r=tf(t);t.U_.delete(e),r.c_()&&s4(t,e),t.U_.size===0&&(r.c_()?r.P_():Hu(t)&&t.j_.set("Unknown"))}function cm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tf(n).y_(e)}function s4(n,e){n.H_.Ne(e),tf(n).w_(e)}function um(n){n.H_=new OC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),tf(n).start(),n.j_.B_()}function hm(n){return Hu(n)&&!tf(n).u_()&&n.U_.size>0}function Hu(n){return Mn(n).W_.size===0}function a4(n){n.H_=void 0}async function UI(n){n.j_.set("Online")}async function VI(n){n.U_.forEach((e,t)=>{cm(n,e)})}async function zI(n,e){a4(n),hm(n)?(n.j_.q_(e),um(n)):n.j_.set("Unknown")}async function HI(n,e,t){if(n.j_.set("Online"),e instanceof qx&&e.state===2&&e.cause)try{await async function(a,l){const f=l.cause;for(const p of l.targetIds)a.U_.has(p)&&(await a.remoteSyncer.rejectListen(p,f),a.U_.delete(p),a.H_.removeTarget(p))}(n,e)}catch(r){qt(Fu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await w0(n,r)}else if(e instanceof K1?n.H_.We(e):e instanceof Hx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Nn.min()))try{const r=await t4(n.localStore);t.compareTo(r)>=0&&await function(l,f){const p=l.H_.ot(f);return p.targetChanges.forEach((v,w)=>{if(v.resumeToken.approximateByteSize()>0){const T=l.U_.get(w);T&&l.U_.set(w,T.withResumeToken(v.resumeToken,f))}}),p.targetMismatches.forEach((v,w)=>{const T=l.U_.get(v);if(!T)return;l.U_.set(v,T.withResumeToken(zs.EMPTY_BYTE_STRING,T.snapshotVersion)),s4(l,v);const I=new Fc(T.target,v,w,T.sequenceNumber);cm(l,I)}),l.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(r){qt(Fu,"Failed to raise snapshot:",r),await w0(n,r)}}async function w0(n,e,t){if(!ef(e))throw e;n.W_.add(1),await Ld(n),n.j_.set("Offline"),t||(t=()=>t4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{qt(Fu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await q0(n)})}function o4(n,e){return e().catch(t=>w0(n,t,e))}async function G0(n){const e=Mn(n),t=Zc(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Xp;for(;qI(e);)try{const a=await SI(e.localStore,r);if(a===null){e.K_.length===0&&t.P_();break}r=a.batchId,GI(e,a)}catch(a){await w0(e,a)}l4(e)&&c4(e)}function qI(n){return Hu(n)&&n.K_.length<10}function GI(n,e){n.K_.push(e);const t=Zc(n);t.c_()&&t.b_&&t.S_(e.mutations)}function l4(n){return Hu(n)&&!Zc(n).u_()&&n.K_.length>0}function c4(n){Zc(n).start()}async function WI(n){Zc(n).C_()}async function YI(n){const e=Zc(n);for(const t of n.K_)e.S_(t.mutations)}async function XI(n,e,t){const r=n.K_.shift(),a=tm.from(r,e,t);await o4(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await G0(n)}async function KI(n,e){e&&Zc(n).b_&&await async function(r,a){if(function(f){return RC(f)&&f!==Tt.ABORTED}(a.code)){const l=r.K_.shift();Zc(r).h_(),await o4(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await G0(r)}}(n,e),l4(n)&&c4(n)}async function qv(n,e){const t=Mn(n);t.asyncQueue.verifyOperationInProgress(),qt(Fu,"RemoteStore received new credentials");const r=Hu(t);t.W_.add(3),await Ld(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await q0(t)}async function QI(n,e){const t=Mn(n);e?(t.W_.delete(2),await q0(t)):e||(t.W_.add(2),await Ld(t),t.j_.set("Unknown"))}function tf(n){return n.J_||(n.J_=function(t,r,a){const l=Mn(t);return l.M_(),new MI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:UI.bind(null,n),No:VI.bind(null,n),Lo:zI.bind(null,n),p_:HI.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),hm(n)?um(n):n.j_.set("Unknown")):(await n.J_.stop(),a4(n))})),n.J_}function Zc(n){return n.Y_||(n.Y_=function(t,r,a){const l=Mn(t);return l.M_(),new PI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:WI.bind(null,n),Lo:KI.bind(null,n),D_:YI.bind(null,n),v_:XI.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await G0(n)):(await n.Y_.stop(),n.K_.length>0&&(qt(Fu,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const f=Date.now()+r,p=new fm(e,t,f,a,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Kt(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(n,e){if(Ql("AsyncQueue",`${e}: ${n}`),ef(n))return new Kt(Tt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{static emptySet(e){return new Oh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||fn.comparator(t.key,r.key):(t,r)=>fn.comparator(t.key,r.key),this.keyedMap=Qf(),this.sortedSet=new Ri(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Z_=new Ri(fn.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):En():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class qh{constructor(e,t,r,a,l,f,p,v,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,a,l){const f=[];return t.forEach(p=>{f.push({type:0,doc:p})}),new qh(e,t,Oh.emptySet(t),f,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class JI{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Mn(t),l=a.queries;a.queries=Wv(),l.forEach((f,p)=>{for(const v of p.ta)v.onError(r)})})(this,new Kt(Tt.ABORTED,"Firestore shutting down"))}}function Wv(){return new Vu(n=>Nx(n),F0)}async function u4(n,e){const t=Mn(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new ZI,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(f){const p=dm(f,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&gm(t)}async function h4(n,e){const t=Mn(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const f=l.ta.indexOf(e);f>=0&&(l.ta.splice(f,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function $I(n,e){const t=Mn(n);let r=!1;for(const a of e){const l=a.query,f=t.queries.get(l);if(f){for(const p of f.ta)p.oa(a)&&(r=!0);f.ea=a}}r&&gm(t)}function eN(n,e,t){const r=Mn(n),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(t);r.queries.delete(e)}function gm(n){n.ia.forEach(e=>{e.next()})}var lp,Yv;(Yv=lp||(lp={}))._a="default",Yv.Cache="cache";class f4{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new qh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.key=e}}class g4{constructor(e){this.key=e}}class tN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=or(),this.mutatedKeys=or(),this.ya=Rx(e),this.wa=new Oh(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new Gv,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,p=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,w=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((T,I)=>{const M=a.get(T),R=j0(this.query,I)?I:null,H=!!M&&this.mutatedKeys.has(M.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let J=!1;M&&R?M.data.isEqual(R.data)?H!==q&&(r.track({type:3,doc:R}),J=!0):this.va(M,R)||(r.track({type:2,doc:R}),J=!0,(v&&this.ya(R,v)>0||w&&this.ya(R,w)<0)&&(p=!0)):!M&&R?(r.track({type:0,doc:R}),J=!0):M&&!R&&(r.track({type:1,doc:M}),J=!0,(v||w)&&(p=!0)),J&&(R?(f=f.add(R),l=q?l.add(T):l.delete(T)):(f=f.delete(T),l=l.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{wa:f,Da:r,ls:p,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,I)=>function(R,H){const q=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return q(R)-q(H)}(T.type,I.type)||this.ya(T.doc,I.doc)),this.Ca(r),a=a!=null&&a;const p=t&&!a?this.Fa():[],v=this.pa.size===0&&this.current&&!a?1:0,w=v!==this.ga;return this.ga=v,f.length!==0||w?{snapshot:new qh(this.query,e.wa,l,f,e.mutatedKeys,v===0,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=or(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new g4(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new d4(r))}),t}Oa(e){this.fa=e.gs,this.pa=or();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return qh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pm="SyncEngine";class nN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rN{constructor(e){this.key=e,this.Ba=!1}}class iN{constructor(e,t,r,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Vu(p=>Nx(p),F0),this.qa=new Map,this.Qa=new Set,this.$a=new Ri(fn.comparator),this.Ka=new Map,this.Ua=new im,this.Wa={},this.Ga=new Map,this.za=Hh.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sN(n,e,t=!0){const r=x4(n);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await p4(r,e,t,!0),a}async function aN(n,e){const t=x4(n);await p4(t,e,!0,!1)}async function p4(n,e,t,r){const a=await TI(n.localStore,ul(e)),l=a.targetId,f=n.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await oN(n,e,l,f==="current",a.resumeToken)),n.isPrimaryClient&&t&&i4(n.remoteStore,a),p}async function oN(n,e,t,r,a){n.Ha=(I,M,R)=>async function(q,J,G,te){let le=J.view.Sa(G);le.ls&&(le=await jv(q.localStore,J.query,!1).then(({documents:X})=>J.view.Sa(X,le)));const Ce=te&&te.targetChanges.get(J.targetId),De=te&&te.targetMismatches.get(J.targetId)!=null,Ge=J.view.applyChanges(le,q.isPrimaryClient,Ce,De);return Kv(q,J.targetId,Ge.Ma),Ge.snapshot}(n,I,M,R);const l=await jv(n.localStore,e,!0),f=new tN(e,l.gs),p=f.Sa(l.documents),v=Rd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),w=f.applyChanges(p,n.isPrimaryClient,v);Kv(n,t,w.Ma);const T=new nN(e,t,f);return n.ka.set(e,T),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),w.snapshot}async function lN(n,e,t){const r=Mn(n),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(f=>!F0(f,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ap(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&lm(r.remoteStore,a.targetId),cp(r,a.targetId)}).catch($h)):(cp(r,a.targetId),await ap(r.localStore,a.targetId,!0))}async function cN(n,e){const t=Mn(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lm(t.remoteStore,r.targetId))}async function uN(n,e,t){const r=yN(n);try{const a=await function(f,p){const v=Mn(f),w=fs.now(),T=p.reduce((R,H)=>R.add(H.key),or());let I,M;return v.persistence.runTransaction("Locally write mutations","readwrite",R=>{let H=Zl(),q=or();return v.ds.getEntries(R,T).next(J=>{H=J,H.forEach((G,te)=>{te.isValidDocument()||(q=q.add(G))})}).next(()=>v.localDocuments.getOverlayedDocuments(R,H)).next(J=>{I=J;const G=[];for(const te of p){const le=SC(te,I.get(te.key).overlayedDocument);le!=null&&G.push(new zu(te.key,le,bx(le.value.mapValue),Yl.exists(!0)))}return v.mutationQueue.addMutationBatch(R,w,G,p)}).next(J=>{M=J;const G=J.applyToLocalDocumentSet(I,q);return v.documentOverlayCache.saveOverlays(R,J.batchId,G)})}).then(()=>({batchId:M.batchId,changes:Dx(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(f,p,v){let w=f.Wa[f.currentUser.toKey()];w||(w=new Ri(mr)),w=w.insert(p,v),f.Wa[f.currentUser.toKey()]=w}(r,a.batchId,t),await Dd(r,a.changes),await G0(r.remoteStore)}catch(a){const l=dm(a,"Failed to persist write");t.reject(l)}}async function m4(n,e){const t=Mn(n);try{const r=await _I(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.Ka.get(l);f&&(Pr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Ba=!0:a.modifiedDocuments.size>0?Pr(f.Ba):a.removedDocuments.size>0&&(Pr(f.Ba),f.Ba=!1))}),await Dd(t,r,e)}catch(r){await $h(r)}}function Xv(n,e,t){const r=Mn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((l,f)=>{const p=f.view.sa(e);p.snapshot&&a.push(p.snapshot)}),function(f,p){const v=Mn(f);v.onlineState=p;let w=!1;v.queries.forEach((T,I)=>{for(const M of I.ta)M.sa(p)&&(w=!0)}),w&&gm(v)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hN(n,e,t){const r=Mn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ka.get(e),l=a&&a.key;if(l){let f=new Ri(fn.comparator);f=f.insert(l,ua.newNoDocument(l,Nn.min()));const p=or().add(l),v=new z0(Nn.min(),new Map,new Ri(mr),f,p);await m4(r,v),r.$a=r.$a.remove(l),r.Ka.delete(e),mm(r)}else await ap(r.localStore,e,!1).then(()=>cp(r,e,t)).catch($h)}async function fN(n,e){const t=Mn(n),r=e.batch.batchId;try{const a=await AI(t.localStore,e);v4(t,r,null),y4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(t,a)}catch(a){await $h(a)}}async function dN(n,e,t){const r=Mn(n);try{const a=await function(f,p){const v=Mn(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return v.mutationQueue.lookupMutationBatch(w,p).next(I=>(Pr(I!==null),T=I.keys(),v.mutationQueue.removeMutationBatch(w,I))).next(()=>v.mutationQueue.performConsistencyCheck(w)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(w,T,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>v.localDocuments.getDocuments(w,T))})}(r.localStore,e);v4(r,e,t),y4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Dd(r,a)}catch(a){await $h(a)}}function y4(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function v4(n,e,t){const r=Mn(n);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function cp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||w4(n,r)})}function w4(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(lm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),mm(n))}function Kv(n,e,t){for(const r of t)r instanceof d4?(n.Ua.addReference(r.key,e),gN(n,r)):r instanceof g4?(qt(pm,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||w4(n,r.key)):En()}function gN(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(qt(pm,"New document in limbo: "+t),n.Qa.add(r),mm(n))}function mm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new fn(wi.fromString(e)),r=n.za.next();n.Ka.set(r,new rN(t)),n.$a=n.$a.insert(t,r),i4(n.remoteStore,new Fc(ul($p(t.path)),r,"TargetPurposeLimboResolution",P0.ae))}}async function Dd(n,e,t){const r=Mn(n),a=[],l=[],f=[];r.ka.isEmpty()||(r.ka.forEach((p,v)=>{f.push(r.Ha(v,e,t).then(w=>{var T;if((w||t)&&r.isPrimaryClient){const I=w?!w.fromCache:(T=t==null?void 0:t.targetChanges.get(v.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(v.targetId,I?"current":"not-current")}if(w){a.push(w);const I=am.Yi(v.targetId,w);l.push(I)}}))}),await Promise.all(f),r.La.p_(a),await async function(v,w){const T=Mn(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>bt.forEach(w,M=>bt.forEach(M.Hi,R=>T.persistence.referenceDelegate.addReference(I,M.targetId,R)).next(()=>bt.forEach(M.Ji,R=>T.persistence.referenceDelegate.removeReference(I,M.targetId,R)))))}catch(I){if(!ef(I))throw I;qt(om,"Failed to update sequence numbers: "+I)}for(const I of w){const M=I.targetId;if(!I.fromCache){const R=T.Ts.get(M),H=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(H);T.Ts=T.Ts.insert(M,q)}}}(r.localStore,l))}async function pN(n,e){const t=Mn(n);if(!t.currentUser.isEqual(e)){qt(pm,"User change. New user:",e.toKey());const r=await e4(t.localStore,e);t.currentUser=e,function(l,f){l.Ga.forEach(p=>{p.forEach(v=>{v.reject(new Kt(Tt.CANCELLED,f))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dd(t,r.Rs)}}function mN(n,e){const t=Mn(n),r=t.Ka.get(e);if(r&&r.Ba)return or().add(r.key);{let a=or();const l=t.qa.get(e);if(!l)return a;for(const f of l){const p=t.ka.get(f);a=a.unionWith(p.view.ba)}return a}}function x4(n){const e=Mn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.La.p_=$I.bind(null,e.eventManager),e.La.Ja=eN.bind(null,e.eventManager),e}function yN(n){const e=Mn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,e),e}class x0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=H0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return bI(this.persistence,new vI,e.initialUser,this.serializer)}Xa(e){return new $x(sm.ri,this.serializer)}Za(e){return new II}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}x0.provider={build:()=>new x0};class vN extends x0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Pr(this.persistence.referenceDelegate instanceof v0);const r=this.persistence.referenceDelegate.garbageCollector;return new rI(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Oa.withCacheSize(this.cacheSizeBytes):Oa.DEFAULT;return new $x(r=>v0.ri(r,t),this.serializer)}}class up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await QI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JI}()}createDatastore(e){const t=H0(e.databaseInfo.databaseId),r=function(l){return new OI(l)}(e.databaseInfo);return function(l,f,p,v){return new BI(l,f,p,v)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,f,p){return new jI(r,a,l,f,p)}(this.localStore,this.datastore,e.asyncQueue,t=>Xv(this.syncEngine,t,0),function(){return zv.D()?new zv:new NI}())}createSyncEngine(e,t){return function(a,l,f,p,v,w,T){const I=new iN(a,l,f,p,v,w);return T&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Mn(a);qt(Fu,"RemoteStore shutting down."),l.W_.add(5),await Ld(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ql("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="FirestoreClient";class wN{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ca.UNAUTHENTICATED,this.clientId=hx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async f=>{qt(Jc,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(qt(Jc,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=dm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ig(n,e){n.asyncQueue.verifyOperationInProgress(),qt(Jc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await e4(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Qv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await xN(n);qt(Jc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>qv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>qv(e.remoteStore,a)),n._onlineComponents=e}async function xN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){qt(Jc,"Using user provided OfflineComponentProvider");try{await Ig(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Tt.FAILED_PRECONDITION||a.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;jh("Error using user provided cache. Falling back to memory cache: "+t),await Ig(n,new x0)}}else qt(Jc,"Using default OfflineComponentProvider"),await Ig(n,new vN(void 0));return n._offlineComponents}async function A4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(qt(Jc,"Using user provided OnlineComponentProvider"),await Qv(n,n._uninitializedComponentsProvider._online)):(qt(Jc,"Using default OnlineComponentProvider"),await Qv(n,new up))),n._onlineComponents}function bN(n){return A4(n).then(e=>e.syncEngine)}async function _4(n){const e=await A4(n),t=e.eventManager;return t.onListen=sN.bind(null,e.syncEngine),t.onUnlisten=lN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),t}function AN(n,e,t={}){const r=new Wl;return n.asyncQueue.enqueueAndForget(async()=>function(l,f,p,v,w){const T=new b4({next:M=>{T.su(),f.enqueueAndForget(()=>h4(l,I));const R=M.docs.has(p);!R&&M.fromCache?w.reject(new Kt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&M.fromCache&&v&&v.source==="server"?w.reject(new Kt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(M)},error:M=>w.reject(M)}),I=new f4($p(p.path),T,{includeMetadataChanges:!0,Ta:!0});return u4(l,I)}(await _4(n),n.asyncQueue,e,t,r)),r.promise}function _N(n,e,t={}){const r=new Wl;return n.asyncQueue.enqueueAndForget(async()=>function(l,f,p,v,w){const T=new b4({next:M=>{T.su(),f.enqueueAndForget(()=>h4(l,I)),M.fromCache&&v.source==="server"?w.reject(new Kt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(M)},error:M=>w.reject(M)}),I=new f4(p,T,{includeMetadataChanges:!0,Ta:!0});return u4(l,I)}(await _4(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(n,e,t){if(!t)throw new Kt(Tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EN(n,e,t,r){if(e===!0&&r===!0)throw new Kt(Tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jv(n){if(!fn.isDocumentKey(n))throw new Kt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $v(n){if(fn.isDocumentKey(n))throw new Kt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function W0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":En()}function ju(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Kt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=W0(n);throw new Kt(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firestore.googleapis.com",ew=!0;class tw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Kt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T4,this.ssl=ew}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ew;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tI)throw new Kt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y0{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Kt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DT;switch(r.type){case"firstParty":return new kT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Kt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Zv.get(t);r&&(qt("ComponentProvider","Removing Datastore"),Zv.delete(t),r.terminate())}(this),Promise.resolve()}}function SN(n,e,t,r={}){var a;const l=(n=ju(n,Y0))._getSettings(),f=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l.host!==T4&&l.host!==p&&jh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},l),{host:p,ssl:!1,emulatorOptions:r});if(!Ou(v,f)&&(n._setSettings(v),r.mockUserToken)){let w,T;if(typeof r.mockUserToken=="string")w=r.mockUserToken,T=ca.MOCK_USER;else{w=GE(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Kt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ca(I)}n._authCredentials=new OT(new ux(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class Ma{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ma(this.firestore,e,this._key)}}class Gc extends nf{constructor(e,t,r){super(e,t,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ma(this.firestore,null,new fn(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function Gh(n,e,...t){if(n=xa(n),S4("collection","path",e),n instanceof Y0){const r=wi.fromString(e,...t);return $v(r),new Gc(n,null,r)}{if(!(n instanceof Ma||n instanceof Gc))throw new Kt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wi.fromString(e,...t));return $v(r),new Gc(n.firestore,null,r)}}function Lu(n,e,...t){if(n=xa(n),arguments.length===1&&(e=hx.newId()),S4("doc","path",e),n instanceof Y0){const r=wi.fromString(e,...t);return Jv(r),new Ma(n,null,new fn(r))}{if(!(n instanceof Ma||n instanceof Gc))throw new Kt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wi.fromString(e,...t));return Jv(r),new Ma(n.firestore,n instanceof Gc?n.converter:null,new fn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="AsyncQueue";class rw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new n4(this,"async_queue_retry"),this.bu=()=>{const r=Cg();r&&qt(nw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Cg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Wl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ef(e))throw e;qt(nw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(r);throw Ql("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=fm.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&En()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class X0 extends Y0{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new rw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function hp(n,e){const t=typeof n=="object"?n:x3(),r=typeof n=="string"?n:h0,a=Pp(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=HE("firestore");l&&SN(a,...l)}return a}function ym(n){if(n._terminated)throw new Kt(Tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TN(n),n._firestoreClient}function TN(n){var e,t,r;const a=n._freezeSettings(),l=function(p,v,w,T){return new QT(p,v,w,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,E4(T.experimentalLongPollingOptions),T.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new wN(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wh(zs.fromBase64String(e))}catch(t){throw new Kt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wh(zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Kt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Kt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Kt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mr(this._lat,e._lat)||mr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^__.*__$/;class IN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nd(e,this.data,t,this.fieldTransforms)}}function I4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class bm{constructor(e,t,r,a,l,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return b0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(I4(this.Lu)&&CN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class NN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||H0(e)}ju(e,t,r,a=!1){return new bm({Lu:e,methodName:t,zu:r,path:Vs.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N4(n){const e=n._freezeSettings(),t=H0(n._databaseId);return new NN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RN(n,e,t,r,a,l={}){const f=n.ju(l.merge||l.mergeFields?2:0,e,t,a);D4("Data must be an object, but it was:",f,r);const p=R4(r,f);let v,w;if(l.merge)v=new Vo(f.fieldMask),w=f.fieldTransforms;else if(l.mergeFields){const T=[];for(const I of l.mergeFields){const M=DN(e,I,t);if(!f.contains(M))throw new Kt(Tt.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);MN(T,M)||T.push(M)}v=new Vo(T),w=f.fieldTransforms.filter(I=>v.covers(I.field))}else v=null,w=f.fieldTransforms;return new IN(new xo(p),v,w)}function LN(n,e,t,r=!1){return Am(t,n.ju(r?4:3,e))}function Am(n,e){if(L4(n=xa(n)))return D4("Unsupported field value:",e,n),R4(n,e);if(n instanceof C4)return function(r,a){if(!I4(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let f=0;for(const p of r){let v=Am(p,a.Uu(f));v==null&&(v={nullValue:"NULL_VALUE"}),l.push(v),f++}return{arrayValue:{values:l}}}(n,e)}return function(r,a){if((r=xa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wC(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=fs.fromDate(r);return{timestampValue:y0(a.serializer,l)}}if(r instanceof fs){const l=new fs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:y0(a.serializer,l)}}if(r instanceof wm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wh)return{bytesValue:Gx(a.serializer,r._byteString)};if(r instanceof Ma){const l=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw a.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rm(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xm)return function(f,p){return{mapValue:{fields:{[wx]:{stringValue:xx},[f0]:{arrayValue:{values:f.toArray().map(w=>{if(typeof w!="number")throw p.Wu("VectorValues must only contain numeric values.");return em(p.serializer,w)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${W0(r)}`)}(n,e)}function R4(n,e){const t={};return dx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(n,(r,a)=>{const l=Am(a,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function L4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fs||n instanceof wm||n instanceof Wh||n instanceof Ma||n instanceof C4||n instanceof xm)}function D4(n,e,t){if(!L4(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=W0(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function DN(n,e,t){if((e=xa(e))instanceof vm)return e._internalPath;if(typeof e=="string")return O4(n,e);throw b0("Field path arguments must be of type string or ",n,!1,void 0,t)}const ON=new RegExp("[~\\*/\\[\\]]");function O4(n,e,t){if(e.search(ON)>=0)throw b0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vm(...e.split("."))._internalPath}catch{throw b0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function b0(n,e,t,r,a){const l=r&&!r.isEmpty(),f=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||f)&&(v+=" (found",l&&(v+=` in field ${r}`),f&&(v+=` in document ${a}`),v+=")"),new Kt(Tt.INVALID_ARGUMENT,p+n+v)}function MN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ma(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PN extends M4{data(){return super.data()}}function _m(n,e){return typeof e=="string"?O4(n,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Kt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Em{}class BN extends Em{}function K0(n,e,...t){let r=[];e instanceof Em&&r.push(e),r=r.concat(t),function(l){const f=l.filter(v=>v instanceof Sm).length,p=l.filter(v=>v instanceof Q0).length;if(f>1||f>0&&p>0)throw new Kt(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Q0 extends BN{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Q0(e,t,r)}_apply(e){const t=this._parse(e);return P4(e._query,t),new nf(e.firestore,e.converter,ep(e._query,t))}_parse(e){const t=N4(e.firestore);return function(l,f,p,v,w,T,I){let M;if(w.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new Kt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){sw(I,T);const H=[];for(const q of I)H.push(iw(v,l,q));M={arrayValue:{values:H}}}else M=iw(v,l,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||sw(I,T),M=LN(p,f,I,T==="in"||T==="not-in");return as.create(w,T,M)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function md(n,e,t){const r=e,a=_m("where",n);return Q0._create(a,r,t)}class Sm extends Em{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ho.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let f=a;const p=l.getFlattenedFilters();for(const v of p)P4(f,v),f=ep(f,v)}(e._query,t),new nf(e.firestore,e.converter,ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iw(n,e,t){if(typeof(t=xa(t))=="string"){if(t==="")throw new Kt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ix(e)&&t.indexOf("/")!==-1)throw new Kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wi.fromString(t));if(!fn.isDocumentKey(r))throw new Kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xv(n,new fn(r))}if(t instanceof Ma)return xv(n,t._key);throw new Kt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W0(t)}.`)}function sw(n,e){if(!Array.isArray(n)||n.length===0)throw new Kt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P4(n,e){const t=function(a,l){for(const f of a)for(const p of f.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Kt(Tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Kt(Tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FN{convertValue(e,t="none"){switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw En()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uu(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[f0].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(f=>Ki(f.doubleValue));return new xm(l)}convertGeoPoint(e){return new wm(Ki(e.latitude),Ki(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=B0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const t=Xc(e);return new fs(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wi.fromString(e);Pr(Zx(r));const a=new fd(r.get(1),r.get(3)),l=new fn(r.popFirst(5));return a.isEqual(t)||Ql(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k4 extends M4{constructor(e,t,r,a,l,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Q1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Q1 extends k4{data(e={}){return super.data(e)}}class UN{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Jf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Q1(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Kt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(p=>{const v=new Q1(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Jf(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const v=new Q1(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Jf(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let w=-1,T=-1;return p.type!==0&&(w=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:VN(p.type),doc:v,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){n=ju(n,Ma);const e=ju(n.firestore,X0);return AN(ym(e),n._key).then(t=>HN(e,n,t))}class B4 extends FN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ma(this.firestore,null,t)}}function Od(n){n=ju(n,nf);const e=ju(n.firestore,X0),t=ym(e),r=new B4(e);return kN(n._query),_N(t,n._query).then(a=>new UN(e,r,n,a))}function fp(n,e,t){n=ju(n,Ma);const r=ju(n.firestore,X0),a=jN(n.converter,e,t);return zN(r,[RN(N4(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Yl.none())])}function zN(n,e){return function(r,a){const l=new Wl;return r.asyncQueue.enqueueAndForget(async()=>uN(await bN(r),a,l)),l.promise}(ym(n),e)}function HN(n,e,t){const r=t.docs.get(e._key),a=new B4(n);return new k4(n,a,e._key,r,new Jf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Jh=a})(Qh),Fh(new Mu("firestore",(r,{instanceIdentifier:a,options:l})=>{const f=r.getProvider("app").getImmediate(),p=new X0(new MT(r.getProvider("auth-internal")),new BT(f,r.getProvider("app-check-internal")),function(w,T){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Kt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(w.options.projectId,T)}(f,a),f);return l=Object.assign({useFetchStreams:t},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),Hc(cv,uv,e),Hc(cv,uv,"esm2017")})();var qN="firebase",GN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hc(qN,GN,"app");const WN={apiKey:"AIzaSyAWqY7GcAk8HrraCcz1K0X5BH2nF6J_Np0",authDomain:"bisonsports-3662c.firebaseapp.com",projectId:"bisonsports-3662c",storageBucket:"bisonsports-3662c.firebasestorage.app",messagingSenderId:"911932271804",appId:"1:911932271804:web:467211f18543861028b4b9",measurementId:"G-8W6H01EL54"},F4=w3(WN),fl=hp(F4);Bc(F4);new ol;const aw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkUlEQVR4nO2Zb0wbZRzHn3taesUtRpOJYbo/DoQM5c/GMgryzxkYxbGBiQsbNBCEFGaIY8zCCuaUMSiQAQMGQWAgcSY2GeuNuzpc8NqNvRoCItE3841Dthj3ToNzbX+mVRBI197Zo2VJv8n3XZ+nn89dn6dPrwj5448/HgcoJIWqgGIoxywU4HuQTfwJSsIKBxBAKgJIQzbIJhZBhX+BE/g6VAUU2ccgXwc0UgWU4tvwNmGBJASCqiQsoMa3QRsQ433wOlk4qPEsvCkQ2llTEUAxnoEaFOIdeA3RCumEzWPwtT2IrHCK0K0f+HkUCMX4B9HBk9b0PTwNFJKJC9+NngcVfrDu8En/toJoFw9+EMnhOPGr1+DLCE40eIeAGn/vPXgsMvyHRIfgrbEMT0IlroUmaQpQaAtQKAjOSN6C05hy7Db21zgbW4pN4sI3kyGQQVh5g5+W9PJZfEChZ+ADydAqkVKR4R1vVIHv8IIvwPNwDr0oeP4aFAJ5+P76wJvl22CcfAQaCUCyC/gSPAV6JEEbLWAmdWAmwdHeAIB0wvmV35DweiQBs2x+WcDeURmACv8Hn0lYoAK9hDZiwCSPXwW/VI4E0En/ObuclPSjjRowybROBZY6FPAAyhGJNmrATF5xKWCSdQiZL1gzC2I0XDthO9rUd9e9gImccynAkRm+EAjWzMIbddcW+Qg8dCMQ6iuB3TW3rHwEHrkWQJt9JbCjehKeaoHtVd+C5x+hm7IwXwns1t60Pd2L+JNRHovYTI642UY7fSVwRDc8z0NAduZJ8A+5Z6Geif/jvF4RiEROy3D+puiPvrG4Eii/0DjqXoALVDiDnx0PBhWthENXs6HDGHtJbIGTnfX97u6Arq/iuHsBQBjMsntL4DYzCfRYOGQbDjvg7c2jlZaL11/bJhZ8W496Z2SNyeoK/vVas4XiKH5P88BENtrhfzdthrNMwjL4ylaPJi9wXIrHjwcpjpIeafxswd3VL2lrm+A9KXCBL98df+GvEjrdKfxSP2YTZjyRoDhKmt/SM+d2/6+egsbuylhBkzcwihlX8CvvRP/X4VuFwvfeiNhe1lX3E5/d51hz75zQ+RE9FvZKPq208pHIp5WWzq/2DlCDKXJ38w6PRW1qZ/b15RmU1pyRHDja2uH2FEp9ekrQl+dyutmY1iweAitFGljFdJdxL6VnIw5cGdsVdJkL2zJgjEq8aNxTV8ckTNpfs3JM1kgOFPZQsLXqO6cC77c3dSNPomPjpvkKeNKiwXLYWX1nFfy7TQM/Ik+j10fINHTqfW9IFH5RCJG1Jgd8ev2Xv53o6hJ0cHxiOG7HczVM4oI3JI7pc0HVemGeGq4MEgV+hYT8LBM/K2RN/J+eYxXTRmPo+v3m7jNGNecaMq2iX3lDprWXjWlG3sgwvSe0gY2beseQ5TF4ztXDjqt++caru5C3MzQWGdvM7L9VZDj4WCh4AZ3xuJGJm/icifb+n3xrowck6WeiC1uN+0a1TOLPajptUWVQWu13yH4IzDVk2tSGtMWqa8nzLex+ts8YU2Afg/zxxx/kaf4GzSVnCicBYF0AAAAASUVORK5CYII=",YN="/assets/sports-facility-BY6agW8J.jpg",j4=({isOpen:n,onClose:e,onAuthSuccess:t})=>{const[r,a]=ke.useState("login"),[l,f]=ke.useState(!1),[p,v]=ke.useState({name:"",email:"",password:"",confirmPassword:"",mobileNo:"",rememberMe:!1}),[w,T]=ke.useState(""),[I,M]=ke.useState(!1),[R,H]=ke.useState(!1),[q,J]=ke.useState(""),[G,te]=ke.useState(null),[le,Ce]=ke.useState(!1),[De,Ge]=ke.useState(""),[X,z]=ke.useState(!1),j=ke.useRef(null);ke.useEffect(()=>{const _e=Te=>{j.current&&!j.current.contains(Te.target)&&e()};return n&&document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[n,e]);const ae=_e=>{switch(_e){case"auth/invalid-credential":return"Invalid email or password";case"auth/wrong-password":return"Invalid password";case"auth/user-not-found":return"Invalid email.";case"auth/email-already-in-use":return"This email is already registered. Please try logging in.";case"auth/weak-password":return"Password should be at least 6 characters long";case"auth/invalid-email":return"Please enter a valid email address";case"auth/network-request-failed":return"Network error. Please check your internet connection";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}};if(!n)return null;const V=_e=>{_e!==r&&(a(_e),T(""))},F=_e=>{const{name:Te,value:se,type:Be,checked:W}=_e.target;v(ce=>({...ce,[Te]:Be==="checkbox"?W:se})),w&&T("")},Y=async _e=>{if(_e.preventDefault(),T(""),M(!0),p.password!==p.confirmPassword){T("Passwords do not match"),M(!1);return}try{const Te=Bc(),se=await m8(Te,p.email,p.password);await fp(Lu(fl,"users",se.user.uid),{name:p.name,email:p.email,mobileNo:p.mobileNo,createdAt:new Date().toISOString()});const Be={uid:se.user.uid,email:se.user.email,name:p.name,mobileNo:p.mobileNo,lastFetched:new Date().getTime()};localStorage.setItem("userData",JSON.stringify(Be)),typeof t=="function"&&t(se.user),e()}catch(Te){T(ae(Te.code))}finally{M(!1)}},xe=async _e=>{_e.preventDefault(),T(""),M(!0);try{const Te=Bc(),se=await y8(Te,p.email,p.password),Be={uid:se.user.uid,email:se.user.email,lastFetched:new Date().getTime()};localStorage.setItem("userData",JSON.stringify(Be)),typeof t=="function"&&t(se.user),e()}catch(Te){console.error("Login error:",Te),T(ae(Te.code))}finally{M(!1)}},we=async()=>{if(!q.trim()){T("Please enter your mobile number");return}try{await fp(Lu(fl,"users",G.uid),{name:G.displayName,email:G.email,photoURL:G.photoURL,mobileNo:q,createdAt:new Date().toISOString()},{merge:!0});const _e={uid:G.uid,email:G.email,name:G.displayName,mobileNo:q,lastFetched:new Date().getTime()};localStorage.setItem("userData",JSON.stringify(_e)),typeof t=="function"&&t(G),H(!1),e()}catch{T("Failed to save mobile number. Please try again.")}},Se=async()=>{T(""),M(!0);try{const _e=Bc(),Te=new ol,se=await U8(_e,Te),Be=await Z0(Lu(fl,"users",se.user.uid));if(!Be.exists())te(se.user),H(!0);else{const W=Be.data();if(!W.mobileNo)te(se.user),H(!0);else{const ce={uid:se.user.uid,email:se.user.email,name:se.user.displayName||W.name,mobileNo:W.mobileNo,lastFetched:new Date().getTime()};localStorage.setItem("userData",JSON.stringify(ce)),typeof t=="function"&&t(se.user),e()}}}catch(_e){console.error("Google Sign In error:",_e),T(ae(_e.code))}finally{M(!1)}},Ie=async _e=>{_e.preventDefault(),T(""),M(!0);try{const Te=Bc();await p8(Te,De),z(!0),setTimeout(()=>{Ce(!1),Ge(""),z(!1)},3e3)}catch(Te){T(ae(Te.code))}finally{M(!1)}};return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"auth-modal-overlay",children:P.jsxs("div",{className:"auth-modal",ref:j,children:[P.jsx("button",{className:"close-button",onClick:e,children:"×"}),P.jsxs("div",{className:"auth-modal-content",children:[P.jsx("div",{className:"auth-modal-image",children:P.jsx("img",{src:YN,alt:"Sports Facility"})}),P.jsxs("div",{className:"auth-modal-forms",children:[P.jsxs("div",{className:"auth-tabs",children:[P.jsx("button",{className:`tab-button ${r==="login"?"active":""}`,onClick:()=>V("login"),children:"Login"}),P.jsx("button",{className:`tab-button ${r==="signup"?"active":""}`,onClick:()=>V("signup"),children:"Sign Up"})]}),w&&P.jsx("div",{className:"error-message",children:w}),P.jsx("div",{className:"auth-form-container",children:P.jsxs("div",{className:`form-wrapper ${r==="login"?"login-active":"signup-active"}`,children:[P.jsxs("form",{className:"auth-form login-form",onSubmit:xe,autoComplete:"on",children:[P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:F,required:!0,autoComplete:"email"})}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:F,required:!0,autoComplete:"current-password"})}),P.jsx("div",{className:"form-group remember-me",children:P.jsxs("label",{className:"checkbox-label",children:[P.jsx("input",{type:"checkbox",name:"rememberMe",checked:p.rememberMe,onChange:F}),P.jsx("span",{children:"Remember me"})]})}),P.jsx("button",{type:"submit",className:"submit-button",disabled:I,children:I?"Loading...":"Login"}),P.jsx("div",{className:"form-footer",children:P.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>Ce(!0),children:"Forgot Password?"})}),P.jsx("div",{className:"divider",children:P.jsx("span",{children:"or"})}),P.jsxs("button",{type:"button",className:"google-sign-in-button",onClick:Se,disabled:I,children:[P.jsx("img",{src:aw,alt:"Google"}),"Continue with Google"]})]}),P.jsxs("form",{className:"auth-form signup-form",onSubmit:Y,autoComplete:"on",children:[P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:p.name,onChange:F,required:!0,autoComplete:"name"})}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:F,required:!0,autoComplete:"email"})}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"tel",name:"mobileNo",placeholder:"Mobile Number",value:p.mobileNo,onChange:F,required:!0,autoComplete:"tel"})}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:F,required:!0,autoComplete:"new-password"})}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:p.confirmPassword,onChange:F,required:!0,autoComplete:"new-password"})}),P.jsx("button",{type:"submit",className:"submit-button",disabled:I,children:I?"Loading...":"Sign Up"}),P.jsx("div",{className:"divider",children:P.jsx("span",{children:"or"})}),P.jsxs("button",{type:"button",className:"google-sign-in-button",onClick:Se,disabled:I,children:[P.jsx("img",{src:aw,alt:"Google"}),"Continue with Google"]})]})]})})]})]})]})}),R&&P.jsx("div",{className:"auth-modal-overlay",children:P.jsxs("div",{className:"mobile-modal",children:[P.jsx("h2",{children:"Complete Your Profile"}),P.jsx("p",{children:"Please enter your mobile number to continue"}),w&&P.jsx("div",{className:"error-message",children:w}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"tel",placeholder:"Mobile Number",value:q,onChange:_e=>J(_e.target.value),required:!0,autoComplete:"tel",pattern:"[0-9]{10}"})}),P.jsx("button",{className:"submit-button",onClick:we,children:"Continue"})]})}),le&&P.jsx("div",{className:"auth-modal-overlay",children:P.jsxs("div",{className:"mobile-modal",children:[P.jsx("button",{className:"close-button",onClick:()=>Ce(!1),children:"×"}),P.jsx("h2",{children:"Reset Password"}),P.jsx("p",{children:"Enter your email address and we'll send you a link to reset your password."}),w&&P.jsx("div",{className:"error-message",children:w}),X&&P.jsx("div",{className:"success-message",children:"Password reset link sent! Please check your email."}),P.jsxs("form",{onSubmit:Ie,children:[P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"email",placeholder:"Email Address",value:De,onChange:_e=>Ge(_e.target.value),required:!0,autoComplete:"email"})}),P.jsx("button",{type:"submit",className:"submit-button",disabled:I,children:I?"Sending...":"Send Reset Link"})]})]})})]})},XN="modulepreload",KN=function(n){return"/"+n},ow={},dp=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(t.map(v=>{if(v=KN(v),v in ow)return;ow[v]=!0;const w=v.endsWith(".css"),T=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${T}`))return;const I=document.createElement("link");if(I.rel=w?"stylesheet":XN,w||(I.as="script"),I.crossOrigin="",I.href=v,p&&I.setAttribute("nonce",p),document.head.appendChild(I),w)return new Promise((M,R)=>{I.addEventListener("load",M),I.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})};function Ur(n){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(n)}var ha=Uint8Array,io=Uint16Array,Tm=Int32Array,J0=new ha([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$0=new ha([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gp=new ha([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U4=function(n,e){for(var t=new io(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new Tm(t[30]),r=1;r<30;++r)for(var l=t[r];l<t[r+1];++l)a[l]=l-t[r]<<5|r;return{b:t,r:a}},V4=U4(J0,2),z4=V4.b,pp=V4.r;z4[28]=258,pp[258]=28;var H4=U4($0,0),QN=H4.b,lw=H4.r,mp=new io(32768);for(var xi=0;xi<32768;++xi){var Rc=(xi&43690)>>1|(xi&21845)<<1;Rc=(Rc&52428)>>2|(Rc&13107)<<2,Rc=(Rc&61680)>>4|(Rc&3855)<<4,mp[xi]=((Rc&65280)>>8|(Rc&255)<<8)>>1}var dl=function(n,e,t){for(var r=n.length,a=0,l=new io(e);a<r;++a)n[a]&&++l[n[a]-1];var f=new io(e);for(a=1;a<e;++a)f[a]=f[a-1]+l[a-1]<<1;var p;if(t){p=new io(1<<e);var v=15-e;for(a=0;a<r;++a)if(n[a])for(var w=a<<4|n[a],T=e-n[a],I=f[n[a]-1]++<<T,M=I|(1<<T)-1;I<=M;++I)p[mp[I]>>v]=w}else for(p=new io(r),a=0;a<r;++a)n[a]&&(p[a]=mp[f[n[a]-1]++]>>15-n[a]);return p},$c=new ha(288);for(var xi=0;xi<144;++xi)$c[xi]=8;for(var xi=144;xi<256;++xi)$c[xi]=9;for(var xi=256;xi<280;++xi)$c[xi]=7;for(var xi=280;xi<288;++xi)$c[xi]=8;var yd=new ha(32);for(var xi=0;xi<32;++xi)yd[xi]=5;var ZN=dl($c,9,0),JN=dl($c,9,1),$N=dl(yd,5,0),e7=dl(yd,5,1),Ng=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Bo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Rg=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Cm=function(n){return(n+7)/8|0},q4=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ha(n.subarray(e,t))},t7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],jo=function(n,e,t){var r=new Error(e||t7[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,jo),!t)throw r;return r},n7=function(n,e,t,r){var a=n.length,l=0;if(!a||e.f&&!e.l)return t||new ha(0);var f=!t,p=f||e.i!=2,v=e.i;f&&(t=new ha(a*3));var w=function(ut){var Lt=t.length;if(ut>Lt){var gt=new ha(Math.max(Lt*2,ut));gt.set(t),t=gt}},T=e.f||0,I=e.p||0,M=e.b||0,R=e.l,H=e.d,q=e.m,J=e.n,G=a*8;do{if(!R){T=Bo(n,I,1);var te=Bo(n,I+1,3);if(I+=3,te)if(te==1)R=JN,H=e7,q=9,J=5;else if(te==2){var Ge=Bo(n,I,31)+257,X=Bo(n,I+10,15)+4,z=Ge+Bo(n,I+5,31)+1;I+=14;for(var j=new ha(z),ae=new ha(19),V=0;V<X;++V)ae[gp[V]]=Bo(n,I+V*3,7);I+=X*3;for(var F=Ng(ae),Y=(1<<F)-1,xe=dl(ae,F,1),V=0;V<z;){var we=xe[Bo(n,I,Y)];I+=we&15;var le=we>>4;if(le<16)j[V++]=le;else{var Se=0,Ie=0;for(le==16?(Ie=3+Bo(n,I,3),I+=2,Se=j[V-1]):le==17?(Ie=3+Bo(n,I,7),I+=3):le==18&&(Ie=11+Bo(n,I,127),I+=7);Ie--;)j[V++]=Se}}var _e=j.subarray(0,Ge),Te=j.subarray(Ge);q=Ng(_e),J=Ng(Te),R=dl(_e,q,1),H=dl(Te,J,1)}else jo(1);else{var le=Cm(I)+4,Ce=n[le-4]|n[le-3]<<8,De=le+Ce;if(De>a){v&&jo(0);break}p&&w(M+Ce),t.set(n.subarray(le,De),M),e.b=M+=Ce,e.p=I=De*8,e.f=T;continue}if(I>G){v&&jo(0);break}}p&&w(M+131072);for(var se=(1<<q)-1,Be=(1<<J)-1,W=I;;W=I){var Se=R[Rg(n,I)&se],ce=Se>>4;if(I+=Se&15,I>G){v&&jo(0);break}if(Se||jo(2),ce<256)t[M++]=ce;else if(ce==256){W=I,R=null;break}else{var fe=ce-254;if(ce>264){var V=ce-257,be=J0[V];fe=Bo(n,I,(1<<be)-1)+z4[V],I+=be}var ve=H[Rg(n,I)&Be],We=ve>>4;ve||jo(3),I+=ve&15;var Te=QN[We];if(We>3){var be=$0[We];Te+=Rg(n,I)&(1<<be)-1,I+=be}if(I>G){v&&jo(0);break}p&&w(M+131072);var Pe=M+fe;if(M<Te){var Ye=l-Te,ct=Math.min(Te,Pe);for(Ye+M<0&&jo(3);M<ct;++M)t[M]=r[Ye+M]}for(;M<Pe;++M)t[M]=t[M-Te]}}e.l=R,e.p=W,e.b=M,e.f=T,R&&(T=1,e.m=q,e.d=H,e.n=J)}while(!T);return M!=t.length&&f?q4(t,0,M):t.subarray(0,M)},jl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},qf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Lg=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,l=t.slice();if(!a)return{t:W4,l:0};if(a==1){var f=new ha(t[0].s+1);return f[t[0].s]=1,{t:f,l:1}}t.sort(function(De,Ge){return De.f-Ge.f}),t.push({s:-1,f:25001});var p=t[0],v=t[1],w=0,T=1,I=2;for(t[0]={s:-1,f:p.f+v.f,l:p,r:v};T!=a-1;)p=t[t[w].f<t[I].f?w++:I++],v=t[w!=T&&t[w].f<t[I].f?w++:I++],t[T++]={s:-1,f:p.f+v.f,l:p,r:v};for(var M=l[0].s,r=1;r<a;++r)l[r].s>M&&(M=l[r].s);var R=new io(M+1),H=yp(t[T-1],R,0);if(H>e){var r=0,q=0,J=H-e,G=1<<J;for(l.sort(function(Ge,X){return R[X.s]-R[Ge.s]||Ge.f-X.f});r<a;++r){var te=l[r].s;if(R[te]>e)q+=G-(1<<H-R[te]),R[te]=e;else break}for(q>>=J;q>0;){var le=l[r].s;R[le]<e?q-=1<<e-R[le]++-1:++r}for(;r>=0&&q;--r){var Ce=l[r].s;R[Ce]==e&&(--R[Ce],++q)}H=e}return{t:new ha(R),l:H}},yp=function(n,e,t){return n.s==-1?Math.max(yp(n.l,e,t+1),yp(n.r,e,t+1)):e[n.s]=t},cw=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new io(++e),r=0,a=n[0],l=1,f=function(v){t[r++]=v},p=1;p<=e;++p)if(n[p]==a&&p!=e)++l;else{if(!a&&l>2){for(;l>138;l-=138)f(32754);l>2&&(f(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(f(a),--l;l>6;l-=6)f(8304);l>2&&(f(l-3<<5|8208),l=0)}for(;l--;)f(a);l=1,a=n[p]}return{c:t.subarray(0,r),n:e}},Gf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},G4=function(n,e,t){var r=t.length,a=Cm(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var l=0;l<r;++l)n[a+l+4]=t[l];return(a+4+r)*8},uw=function(n,e,t,r,a,l,f,p,v,w,T){jl(e,T++,t),++a[256];for(var I=Lg(a,15),M=I.t,R=I.l,H=Lg(l,15),q=H.t,J=H.l,G=cw(M),te=G.c,le=G.n,Ce=cw(q),De=Ce.c,Ge=Ce.n,X=new io(19),z=0;z<te.length;++z)++X[te[z]&31];for(var z=0;z<De.length;++z)++X[De[z]&31];for(var j=Lg(X,7),ae=j.t,V=j.l,F=19;F>4&&!ae[gp[F-1]];--F);var Y=w+5<<3,xe=Gf(a,$c)+Gf(l,yd)+f,we=Gf(a,M)+Gf(l,q)+f+14+3*F+Gf(X,ae)+2*X[16]+3*X[17]+7*X[18];if(v>=0&&Y<=xe&&Y<=we)return G4(e,T,n.subarray(v,v+w));var Se,Ie,_e,Te;if(jl(e,T,1+(we<xe)),T+=2,we<xe){Se=dl(M,R,0),Ie=M,_e=dl(q,J,0),Te=q;var se=dl(ae,V,0);jl(e,T,le-257),jl(e,T+5,Ge-1),jl(e,T+10,F-4),T+=14;for(var z=0;z<F;++z)jl(e,T+3*z,ae[gp[z]]);T+=3*F;for(var Be=[te,De],W=0;W<2;++W)for(var ce=Be[W],z=0;z<ce.length;++z){var fe=ce[z]&31;jl(e,T,se[fe]),T+=ae[fe],fe>15&&(jl(e,T,ce[z]>>5&127),T+=ce[z]>>12)}}else Se=ZN,Ie=$c,_e=$N,Te=yd;for(var z=0;z<p;++z){var be=r[z];if(be>255){var fe=be>>18&31;qf(e,T,Se[fe+257]),T+=Ie[fe+257],fe>7&&(jl(e,T,be>>23&31),T+=J0[fe]);var ve=be&31;qf(e,T,_e[ve]),T+=Te[ve],ve>3&&(qf(e,T,be>>5&8191),T+=$0[ve])}else qf(e,T,Se[be]),T+=Ie[be]}return qf(e,T,Se[256]),T+Ie[256]},r7=new Tm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W4=new ha(0),i7=function(n,e,t,r,a,l){var f=l.z||n.length,p=new ha(r+f+5*(1+Math.ceil(f/7e3))+a),v=p.subarray(r,p.length-a),w=l.l,T=(l.r||0)&7;if(e){T&&(v[0]=l.r>>3);for(var I=r7[e-1],M=I>>13,R=I&8191,H=(1<<t)-1,q=l.p||new io(32768),J=l.h||new io(H+1),G=Math.ceil(t/3),te=2*G,le=function(Yt){return(n[Yt]^n[Yt+1]<<G^n[Yt+2]<<te)&H},Ce=new Tm(25e3),De=new io(288),Ge=new io(32),X=0,z=0,j=l.i||0,ae=0,V=l.w||0,F=0;j+2<f;++j){var Y=le(j),xe=j&32767,we=J[Y];if(q[xe]=we,J[Y]=xe,V<=j){var Se=f-j;if((X>7e3||ae>24576)&&(Se>423||!w)){T=uw(n,v,0,Ce,De,Ge,z,ae,F,j-F,T),ae=X=z=0,F=j;for(var Ie=0;Ie<286;++Ie)De[Ie]=0;for(var Ie=0;Ie<30;++Ie)Ge[Ie]=0}var _e=2,Te=0,se=R,Be=xe-we&32767;if(Se>2&&Y==le(j-Be))for(var W=Math.min(M,Se)-1,ce=Math.min(32767,j),fe=Math.min(258,Se);Be<=ce&&--se&&xe!=we;){if(n[j+_e]==n[j+_e-Be]){for(var be=0;be<fe&&n[j+be]==n[j+be-Be];++be);if(be>_e){if(_e=be,Te=Be,be>W)break;for(var ve=Math.min(Be,be-2),We=0,Ie=0;Ie<ve;++Ie){var Pe=j-Be+Ie&32767,Ye=q[Pe],ct=Pe-Ye&32767;ct>We&&(We=ct,we=Pe)}}}xe=we,we=q[xe],Be+=xe-we&32767}if(Te){Ce[ae++]=268435456|pp[_e]<<18|lw[Te];var ut=pp[_e]&31,Lt=lw[Te]&31;z+=J0[ut]+$0[Lt],++De[257+ut],++Ge[Lt],V=j+_e,++X}else Ce[ae++]=n[j],++De[n[j]]}}for(j=Math.max(j,V);j<f;++j)Ce[ae++]=n[j],++De[n[j]];T=uw(n,v,w,Ce,De,Ge,z,ae,F,j-F,T),w||(l.r=T&7|v[T/8|0]<<3,T-=7,l.h=J,l.p=q,l.i=j,l.w=V)}else{for(var j=l.w||0;j<f+w;j+=65535){var gt=j+65535;gt>=f&&(v[T/8|0]=w,gt=f),T=G4(v,T+1,n.subarray(j,gt))}l.i=f}return q4(p,0,r+Cm(T)+a)},Y4=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,l=t.length|0,f=0;f!=l;){for(var p=Math.min(f+2655,l);f<p;++f)a+=r+=t[f];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},s7=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),f=new ha(l.length+n.length);f.set(l),f.set(n,l.length),n=f,a.w=l.length}return i7(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},X4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},a7=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=Y4();a.p(e.dictionary),X4(n,2,a.d())}},o7=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&jo(6,"invalid zlib data"),(n[1]>>5&1)==1&&jo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function vp(n,e){e||(e={});var t=Y4();t.p(n);var r=s7(n,e,e.dictionary?6:2,4);return a7(r,e),X4(r,r.length-4,t.d()),r}function l7(n,e){return n7(n.subarray(o7(n),-4),{i:2},e,e)}var c7=typeof TextDecoder<"u"&&new TextDecoder,u7=0;try{c7.decode(W4,{stream:!0}),u7=1}catch{}var bn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Dg(){bn.console&&typeof bn.console.log=="function"&&bn.console.log.apply(bn.console,arguments)}var $r={log:Dg,warn:function(n){bn.console&&(typeof bn.console.warn=="function"?bn.console.warn.apply(bn.console,arguments):Dg.call(null,arguments))},error:function(n){bn.console&&(typeof bn.console.error=="function"?bn.console.error.apply(bn.console,arguments):Dg(n))}};function Og(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Cu(r.response,e,t)},r.onerror=function(){$r.error("could not download file")},r.send()}function hw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function M1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var sd,wp,Cu=bn.saveAs||((typeof window>"u"?"undefined":Ur(window))!=="object"||window!==bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=bn.URL||bn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?hw(a.href)?Og(n,e,t):M1(a,a.target="_blank"):M1(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){M1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(hw(n))Og(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){M1(r)})}else navigator.msSaveOrOpenBlob(function(a,l){return l===void 0?l={autoBom:!1}:Ur(l)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Og(n,e,t);var a=n.type==="application/octet-stream",l=/constructor/i.test(bn.HTMLElement)||bn.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||a&&l)&&(typeof FileReader>"u"?"undefined":Ur(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var T=p.result;T=f?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=T:location=T,r=null},p.readAsDataURL(n)}else{var v=bn.URL||bn.webkitURL,w=v.createObjectURL(n);r?r.location=w:location.href=w,r=null,setTimeout(function(){v.revokeObjectURL(w)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,l=t[r].process,f=a.exec(n);f&&(e=l(f),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),v=this.g.toString(16),w=this.b.toString(16);return p.length==1&&(p="0"+p),v.length==1&&(v="0"+v),w.length==1&&(w="0"+w),"#"+p+v+w}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mg(n,e){var t=n[0],r=n[1],a=n[2],l=n[3];t=sa(t,r,a,l,e[0],7,-680876936),l=sa(l,t,r,a,e[1],12,-389564586),a=sa(a,l,t,r,e[2],17,606105819),r=sa(r,a,l,t,e[3],22,-1044525330),t=sa(t,r,a,l,e[4],7,-176418897),l=sa(l,t,r,a,e[5],12,1200080426),a=sa(a,l,t,r,e[6],17,-1473231341),r=sa(r,a,l,t,e[7],22,-45705983),t=sa(t,r,a,l,e[8],7,1770035416),l=sa(l,t,r,a,e[9],12,-1958414417),a=sa(a,l,t,r,e[10],17,-42063),r=sa(r,a,l,t,e[11],22,-1990404162),t=sa(t,r,a,l,e[12],7,1804603682),l=sa(l,t,r,a,e[13],12,-40341101),a=sa(a,l,t,r,e[14],17,-1502002290),t=aa(t,r=sa(r,a,l,t,e[15],22,1236535329),a,l,e[1],5,-165796510),l=aa(l,t,r,a,e[6],9,-1069501632),a=aa(a,l,t,r,e[11],14,643717713),r=aa(r,a,l,t,e[0],20,-373897302),t=aa(t,r,a,l,e[5],5,-701558691),l=aa(l,t,r,a,e[10],9,38016083),a=aa(a,l,t,r,e[15],14,-660478335),r=aa(r,a,l,t,e[4],20,-405537848),t=aa(t,r,a,l,e[9],5,568446438),l=aa(l,t,r,a,e[14],9,-1019803690),a=aa(a,l,t,r,e[3],14,-187363961),r=aa(r,a,l,t,e[8],20,1163531501),t=aa(t,r,a,l,e[13],5,-1444681467),l=aa(l,t,r,a,e[2],9,-51403784),a=aa(a,l,t,r,e[7],14,1735328473),t=oa(t,r=aa(r,a,l,t,e[12],20,-1926607734),a,l,e[5],4,-378558),l=oa(l,t,r,a,e[8],11,-2022574463),a=oa(a,l,t,r,e[11],16,1839030562),r=oa(r,a,l,t,e[14],23,-35309556),t=oa(t,r,a,l,e[1],4,-1530992060),l=oa(l,t,r,a,e[4],11,1272893353),a=oa(a,l,t,r,e[7],16,-155497632),r=oa(r,a,l,t,e[10],23,-1094730640),t=oa(t,r,a,l,e[13],4,681279174),l=oa(l,t,r,a,e[0],11,-358537222),a=oa(a,l,t,r,e[3],16,-722521979),r=oa(r,a,l,t,e[6],23,76029189),t=oa(t,r,a,l,e[9],4,-640364487),l=oa(l,t,r,a,e[12],11,-421815835),a=oa(a,l,t,r,e[15],16,530742520),t=la(t,r=oa(r,a,l,t,e[2],23,-995338651),a,l,e[0],6,-198630844),l=la(l,t,r,a,e[7],10,1126891415),a=la(a,l,t,r,e[14],15,-1416354905),r=la(r,a,l,t,e[5],21,-57434055),t=la(t,r,a,l,e[12],6,1700485571),l=la(l,t,r,a,e[3],10,-1894986606),a=la(a,l,t,r,e[10],15,-1051523),r=la(r,a,l,t,e[1],21,-2054922799),t=la(t,r,a,l,e[8],6,1873313359),l=la(l,t,r,a,e[15],10,-30611744),a=la(a,l,t,r,e[6],15,-1560198380),r=la(r,a,l,t,e[13],21,1309151649),t=la(t,r,a,l,e[4],6,-145523070),l=la(l,t,r,a,e[11],10,-1120210379),a=la(a,l,t,r,e[2],15,718787259),r=la(r,a,l,t,e[9],21,-343485551),n[0]=jc(t,n[0]),n[1]=jc(r,n[1]),n[2]=jc(a,n[2]),n[3]=jc(l,n[3])}function e2(n,e,t,r,a,l){return e=jc(jc(e,n),jc(r,l)),jc(e<<a|e>>>32-a,t)}function sa(n,e,t,r,a,l,f){return e2(e&t|~e&r,n,e,a,l,f)}function aa(n,e,t,r,a,l,f){return e2(e&r|t&~r,n,e,a,l,f)}function oa(n,e,t,r,a,l,f){return e2(e^t^r,n,e,a,l,f)}function la(n,e,t,r,a,l,f){return e2(t^(e|~r),n,e,a,l,f)}function Q4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Mg(r,h7(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Mg(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Mg(r,a),r}function h7(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}sd=bn.atob.bind(bn),wp=bn.btoa.bind(bn);var fw="0123456789abcdef".split("");function f7(n){for(var e="",t=0;t<4;t++)e+=fw[n>>8*t+4&15]+fw[n>>8*t&15];return e}function d7(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function xp(n){return Q4(n).map(d7).join("")}var g7=function(n){for(var e=0;e<n.length;e++)n[e]=f7(n[e]);return n.join("")}(Q4("hello"))!="5d41402abc4b2a76b9719d911017c592";function jc(n,e){if(g7){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bp(n,e){var t,r,a,l;if(n!==t){for(var f=(a=n,l=1+(256/n.length>>0),new Array(l+1).join(a)),p=[],v=0;v<256;v++)p[v]=v;var w=0;for(v=0;v<256;v++){var T=p[v];w=(w+T+f.charCodeAt(v))%256,p[v]=p[w],p[w]=T}t=n,r=p}else p=r;var I=e.length,M=0,R=0,H="";for(v=0;v<I;v++)R=(R+(T=p[M=(M+1)%256]))%256,p[M]=p[R],p[R]=T,f=p[(p[M]+p[R])%256],H+=String.fromCharCode(e.charCodeAt(v)^f);return H}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dw={print:4,modify:8,copy:16,"annot-forms":32};function Th(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(p){if(dw.perm!==void 0)throw new Error("Invalid permission: "+p);a+=dw[p]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var l=(e+this.padding).substr(0,32),f=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,f),this.P=-(1+(255^a)),this.encryptionKey=xp(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=bp(this.encryptionKey,this.padding)}function Ch(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=n[r]}return e}function gw(n){if(Ur(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var l=Math.random().toString(35);return e[t][l]=[r,!!a],l},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var l in e[t]){var f=e[t][l];try{f[0].apply(n,r)}catch(p){bn.console&&$r.error("jsPDF PubSub Error",p.message,p)}f[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function A0(n){if(!(this instanceof A0))return new A0(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Z4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Iu(n,e,t,r,a){if(!(this instanceof Iu))return new Iu(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Z4.call(this,r,a)}function Ih(n,e,t,r,a){if(!(this instanceof Ih))return new Ih(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Z4.call(this,r,a)}function wn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],l=arguments[3],f=[],p=1,v=16,w="S",T=null;Ur(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,l=n.compress||n.compressPdf||l,(T=n.encryption||null)!==null&&(T.userPassword=T.userPassword||"",T.ownerPassword=T.ownerPassword||"",T.userPermissions=T.userPermissions||[]),p=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(v=n.floatPrecision),w=n.defaultPathOperation||"S"),f=n.filters||(l===!0?["FlateEncode"]:f),r=r||"mm",t=(""+(t||"P")).toLowerCase();var I=n.putOnlyUsedFonts||!1,M={},R={internal:{},__private__:{}};R.__private__.PubSub=gw;var H="1.3",q=R.__private__.getPdfVersion=function(){return H};R.__private__.setPdfVersion=function(C){H=C};var J={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};R.__private__.getPageFormats=function(){return J};var G=R.__private__.getPageFormat=function(C){return J[C]};a=a||"a4";var te={COMPAT:"compat",ADVANCED:"advanced"},le=te.COMPAT;function Ce(){this.saveGraphicsState(),Ae(new Bt(Ft,0,0,-Ft,0,ai()*Ft).toString()+" cm"),this.setFontSize(this.getFontSize()/Ft),w="n",le=te.ADVANCED}function De(){this.restoreGraphicsState(),w="S",le=te.COMPAT}var Ge=R.__private__.combineFontStyleAndFontWeight=function(C,ee){if(C=="bold"&&ee=="normal"||C=="bold"&&ee==400||C=="normal"&&ee=="italic"||C=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(C=ee==400||ee==="normal"?C==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||C!=="normal"?(ee==700?"bold":ee)+""+C:"bold"),C};R.advancedAPI=function(C){var ee=le===te.COMPAT;return ee&&Ce.call(this),typeof C!="function"||(C(this),ee&&De.call(this)),this},R.compatAPI=function(C){var ee=le===te.ADVANCED;return ee&&De.call(this),typeof C!="function"||(C(this),ee&&Ce.call(this)),this},R.isAdvancedAPI=function(){return le===te.ADVANCED};var X,z=function(C){if(le!==te.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=R.roundToPrecision=R.__private__.roundToPrecision=function(C,ee){var pe=e||ee;if(isNaN(C)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(pe).replace(/0+$/,"")};X=R.hpf=R.__private__.hpf=typeof v=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return j(C,v)}:v==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return j(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return j(C,16)};var ae=R.f2=R.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return j(C,2)},V=R.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return j(C,3)},F=R.scale=R.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return le===te.COMPAT?C*Ft:le===te.ADVANCED?C:void 0},Y=function(C){return le===te.COMPAT?ai()-C:le===te.ADVANCED?C:void 0},xe=function(C){return F(Y(C))};R.__private__.setPrecision=R.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var we,Se="00000000000000000000000000000000",Ie=R.__private__.getFileId=function(){return Se},_e=R.__private__.setFileId=function(C){return Se=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),T!==null&&(vr=new Th(T.userPermissions,T.userPassword,T.ownerPassword,Se)),Se};R.setFileId=function(C){return _e(C),this},R.getFileId=function(){return Ie()};var Te=R.__private__.convertDateToPDFDate=function(C){var ee=C.getTimezoneOffset(),pe=ee<0?"+":"-",Ne=Math.floor(Math.abs(ee/60)),je=Math.abs(ee%60),ot=[pe,fe(Ne),"'",fe(je),"'"].join("");return["D:",C.getFullYear(),fe(C.getMonth()+1),fe(C.getDate()),fe(C.getHours()),fe(C.getMinutes()),fe(C.getSeconds()),ot].join("")},se=R.__private__.convertPDFDateToDate=function(C){var ee=parseInt(C.substr(2,4),10),pe=parseInt(C.substr(6,2),10)-1,Ne=parseInt(C.substr(8,2),10),je=parseInt(C.substr(10,2),10),ot=parseInt(C.substr(12,2),10),yt=parseInt(C.substr(14,2),10);return new Date(ee,pe,Ne,je,ot,yt,0)},Be=R.__private__.setCreationDate=function(C){var ee;if(C===void 0&&(C=new Date),C instanceof Date)ee=Te(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=C}return we=ee},W=R.__private__.getCreationDate=function(C){var ee=we;return C==="jsDate"&&(ee=se(we)),ee};R.setCreationDate=function(C){return Be(C),this},R.getCreationDate=function(C){return W(C)};var ce,fe=R.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},be=R.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ve=0,We=[],Pe=[],Ye=0,ct=[],ut=[],Lt=!1,gt=Pe,Yt=function(){ve=0,Ye=0,Pe=[],We=[],ct=[],cr=Ar(),ur=Ar()};R.__private__.setCustomOutputDestination=function(C){Lt=!0,gt=C};var st=function(C){Lt||(gt=C)};R.__private__.resetCustomOutputDestination=function(){Lt=!1,gt=Pe};var Ae=R.__private__.out=function(C){return C=C.toString(),Ye+=C.length+1,gt.push(C),gt},Gt=R.__private__.write=function(C){return Ae(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Nt=R.__private__.getArrayBuffer=function(C){for(var ee=C.length,pe=new ArrayBuffer(ee),Ne=new Uint8Array(pe);ee--;)Ne[ee]=C.charCodeAt(ee);return pe},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];R.__private__.getStandardFonts=function(){return lt};var Dt=n.fontSize||16;R.__private__.setFontSize=R.setFontSize=function(C){return Dt=le===te.ADVANCED?C/Ft:C,this};var at,kt=R.__private__.getFontSize=R.getFontSize=function(){return le===te.COMPAT?Dt:Dt*Ft},Qt=n.R2L||!1;R.__private__.setR2L=R.setR2L=function(C){return Qt=C,this},R.__private__.getR2L=R.getR2L=function(){return Qt};var zt,mn=R.__private__.setZoomMode=function(C){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))at=C;else if(isNaN(C)){if(ee.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');at=C}else at=parseInt(C,10)};R.__private__.getZoomMode=function(){return at};var Vt,ln=R.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');zt=C};R.__private__.getPageMode=function(){return zt};var Sn=R.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Vt=C};R.__private__.getLayoutMode=function(){return Vt},R.__private__.setDisplayMode=R.setDisplayMode=function(C,ee,pe){return mn(C),Sn(ee),ln(pe),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};R.__private__.getDocumentProperty=function(C){if(Object.keys(Ht).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[C]},R.__private__.getDocumentProperties=function(){return Ht},R.__private__.setDocumentProperties=R.setProperties=R.setDocumentProperties=function(C){for(var ee in Ht)Ht.hasOwnProperty(ee)&&C[ee]&&(Ht[ee]=C[ee]);return this},R.__private__.setDocumentProperty=function(C,ee){if(Object.keys(Ht).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[C]=ee};var Cn,Ft,ei,en,Et,dn={},$t={},xn=[],Pn={},Hs={},Or={},un={},ti=null,er=0,nn=[],pn=new gw(R),gs=n.hotfixes||[],Gn={},ni={},Di=[],Bt=function C(ee,pe,Ne,je,ot,yt){if(!(this instanceof C))return new C(ee,pe,Ne,je,ot,yt);isNaN(ee)&&(ee=1),isNaN(pe)&&(pe=0),isNaN(Ne)&&(Ne=0),isNaN(je)&&(je=1),isNaN(ot)&&(ot=0),isNaN(yt)&&(yt=0),this._matrix=[ee,pe,Ne,je,ot,yt]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(C)},Bt.prototype.multiply=function(C){var ee=C.sx*this.sx+C.shy*this.shx,pe=C.sx*this.shy+C.shy*this.sy,Ne=C.shx*this.sx+C.sy*this.shx,je=C.shx*this.shy+C.sy*this.sy,ot=C.tx*this.sx+C.ty*this.shx+this.tx,yt=C.tx*this.shy+C.ty*this.sy+this.ty;return new Bt(ee,pe,Ne,je,ot,yt)},Bt.prototype.decompose=function(){var C=this.sx,ee=this.shy,pe=this.shx,Ne=this.sy,je=this.tx,ot=this.ty,yt=Math.sqrt(C*C+ee*ee),Ot=(C/=yt)*pe+(ee/=yt)*Ne;pe-=C*Ot,Ne-=ee*Ot;var b=Math.sqrt(pe*pe+Ne*Ne);return Ot/=b,C*(Ne/=b)<ee*(pe/=b)&&(C=-C,ee=-ee,Ot=-Ot,yt=-yt),{scale:new Bt(yt,0,0,b,0,0),translate:new Bt(1,0,0,1,je,ot),rotate:new Bt(C,ee,-ee,C,0,0),skew:new Bt(1,0,Ot,1,0,0)}},Bt.prototype.toString=function(C){return this.join(" ")},Bt.prototype.inversed=function(){var C=this.sx,ee=this.shy,pe=this.shx,Ne=this.sy,je=this.tx,ot=this.ty,yt=1/(C*Ne-ee*pe),Ot=Ne*yt,b=-ee*yt,O=-pe*yt,U=C*yt;return new Bt(Ot,b,O,U,-Ot*je-O*ot,-b*je-U*ot)},Bt.prototype.applyToPoint=function(C){var ee=C.x*this.sx+C.y*this.shx+this.tx,pe=C.x*this.shy+C.y*this.sy+this.ty;return new ja(ee,pe)},Bt.prototype.applyToRectangle=function(C){var ee=this.applyToPoint(C),pe=this.applyToPoint(new ja(C.x+C.w,C.y+C.h));return new oo(ee.x,ee.y,pe.x-ee.x,pe.y-ee.y)},Bt.prototype.clone=function(){var C=this.sx,ee=this.shy,pe=this.shx,Ne=this.sy,je=this.tx,ot=this.ty;return new Bt(C,ee,pe,Ne,je,ot)},R.Matrix=Bt;var ps=R.matrixMult=function(C,ee){return ee.multiply(C)},Wr=new Bt(1,0,0,1,0,0);R.unitMatrix=R.identityMatrix=Wr;var Yr=function(C,ee){if(!Hs[C]){var pe=(ee instanceof Iu?"Sh":"P")+(Object.keys(Pn).length+1).toString(10);ee.id=pe,Hs[C]=pe,Pn[pe]=ee,pn.publish("addPattern",ee)}};R.ShadingPattern=Iu,R.TilingPattern=Ih,R.addShadingPattern=function(C,ee){return z("addShadingPattern()"),Yr(C,ee),this},R.beginTilingPattern=function(C){z("beginTilingPattern()"),Zs(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},R.endTilingPattern=function(C,ee){z("endTilingPattern()"),ee.stream=ut[ce].join(`
`),Yr(C,ee),pn.publish("endTilingPattern",ee),Di.pop().restore()};var Xn=R.__private__.newObject=function(){var C=Ar();return lr(C,!0),C},Ar=R.__private__.newObjectDeferred=function(){return ve++,We[ve]=function(){return Ye},ve},lr=function(C,ee){return ee=typeof ee=="boolean"&&ee,We[C]=Ye,ee&&Ae(C+" 0 obj"),C},Pt=R.__private__.newAdditionalObject=function(){var C={objId:Ar(),content:""};return ct.push(C),C},cr=Ar(),ur=Ar(),rr=R.__private__.decodeColorString=function(C){var ee=C.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var pe=parseFloat(ee[0]);ee=[pe,pe,pe,"r"]}for(var Ne="#",je=0;je<3;je++)Ne+=("0"+Math.floor(255*parseFloat(ee[je])).toString(16)).slice(-2);return Ne},ri=R.__private__.encodeColorString=function(C){var ee;typeof C=="string"&&(C={ch1:C});var pe=C.ch1,Ne=C.ch2,je=C.ch3,ot=C.ch4,yt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Ot=new K4(pe);if(Ot.ok)pe=Ot.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var b=parseInt(pe.substr(1),16);pe=b>>16&255,Ne=b>>8&255,je=255&b}if(Ne===void 0||ot===void 0&&pe===Ne&&Ne===je)if(typeof pe=="string")ee=pe+" "+yt[0];else switch(C.precision){case 2:ee=ae(pe/255)+" "+yt[0];break;case 3:default:ee=V(pe/255)+" "+yt[0]}else if(ot===void 0||Ur(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return ee=["1.","1.","1.",yt[1]].join(" ");if(typeof pe=="string")ee=[pe,Ne,je,yt[1]].join(" ");else switch(C.precision){case 2:ee=[ae(pe/255),ae(Ne/255),ae(je/255),yt[1]].join(" ");break;default:case 3:ee=[V(pe/255),V(Ne/255),V(je/255),yt[1]].join(" ")}}else if(typeof pe=="string")ee=[pe,Ne,je,ot,yt[2]].join(" ");else switch(C.precision){case 2:ee=[ae(pe),ae(Ne),ae(je),ae(ot),yt[2]].join(" ");break;case 3:default:ee=[V(pe),V(Ne),V(je),V(ot),yt[2]].join(" ")}return ee},Oi=R.__private__.getFilters=function(){return f},Vr=R.__private__.putStream=function(C){var ee=(C=C||{}).data||"",pe=C.filters||Oi(),Ne=C.alreadyAppliedFilters||[],je=C.addLength1||!1,ot=ee.length,yt=C.objectId,Ot=function(gn){return gn};if(T!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");T!==null&&(Ot=vr.encryptor(yt,0));var b={};pe===!0&&(pe=["FlateEncode"]);var O=C.additionalKeyValues||[],U=(b=wn.API.processDataByFilters!==void 0?wn.API.processDataByFilters(ee,pe):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(b.data.length!==0&&(O.push({key:"Length",value:b.data.length}),je===!0&&O.push({key:"Length1",value:ot})),U.length!=0)if(U.split("/").length-1==1)O.push({key:"Filter",value:U});else{O.push({key:"Filter",value:"["+U+"]"});for(var oe=0;oe<O.length;oe+=1)if(O[oe].key==="DecodeParms"){for(var Ue=[],Qe=0;Qe<b.reverseChain.split("/").length-1;Qe+=1)Ue.push("null");Ue.push(O[oe].value),O[oe].value="["+Ue.join(" ")+"]"}}Ae("<<");for(var St=0;St<O.length;St++)Ae("/"+O[St].key+" "+O[St].value);Ae(">>"),b.data.length!==0&&(Ae("stream"),Ae(Ot(b.data)),Ae("endstream"))},Xr=R.__private__.putPage=function(C){var ee=C.number,pe=C.data,Ne=C.objId,je=C.contentsObjId;lr(Ne,!0),Ae("<</Type /Page"),Ae("/Parent "+C.rootDictionaryObjId+" 0 R"),Ae("/Resources "+C.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(X(C.mediaBox.bottomLeftX))+" "+parseFloat(X(C.mediaBox.bottomLeftY))+" "+X(C.mediaBox.topRightX)+" "+X(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&Ae("/CropBox ["+X(C.cropBox.bottomLeftX)+" "+X(C.cropBox.bottomLeftY)+" "+X(C.cropBox.topRightX)+" "+X(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&Ae("/BleedBox ["+X(C.bleedBox.bottomLeftX)+" "+X(C.bleedBox.bottomLeftY)+" "+X(C.bleedBox.topRightX)+" "+X(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&Ae("/TrimBox ["+X(C.trimBox.bottomLeftX)+" "+X(C.trimBox.bottomLeftY)+" "+X(C.trimBox.topRightX)+" "+X(C.trimBox.topRightY)+"]"),C.artBox!==null&&Ae("/ArtBox ["+X(C.artBox.bottomLeftX)+" "+X(C.artBox.bottomLeftY)+" "+X(C.artBox.topRightX)+" "+X(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&Ae("/UserUnit "+C.userUnit),pn.publish("putPage",{objId:Ne,pageContext:nn[ee],pageNumber:ee,page:pe}),Ae("/Contents "+je+" 0 R"),Ae(">>"),Ae("endobj");var ot=pe.join(`
`);return le===te.ADVANCED&&(ot+=`
Q`),lr(je,!0),Vr({data:ot,filters:Oi(),objectId:je}),Ae("endobj"),Ne},ms=R.__private__.putPages=function(){var C,ee,pe=[];for(C=1;C<=er;C++)nn[C].objId=Ar(),nn[C].contentsObjId=Ar();for(C=1;C<=er;C++)pe.push(Xr({number:C,data:ut[C],objId:nn[C].objId,contentsObjId:nn[C].contentsObjId,mediaBox:nn[C].mediaBox,cropBox:nn[C].cropBox,bleedBox:nn[C].bleedBox,trimBox:nn[C].trimBox,artBox:nn[C].artBox,userUnit:nn[C].userUnit,rootDictionaryObjId:cr,resourceDictionaryObjId:ur}));lr(cr,!0),Ae("<</Type /Pages");var Ne="/Kids [";for(ee=0;ee<er;ee++)Ne+=pe[ee]+" 0 R ";Ae(Ne+"]"),Ae("/Count "+er),Ae(">>"),Ae("endobj"),pn.publish("postPutPages")},qs=function(C){pn.publish("putFont",{font:C,out:Ae,newObject:Xn,putStream:Vr}),C.isAlreadyPutted!==!0&&(C.objectNumber=Xn(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+Ch(C.postScriptName)),Ae("/Subtype /Type1"),typeof C.encoding=="string"&&Ae("/Encoding /"+C.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},kr=function(){for(var C in dn)dn.hasOwnProperty(C)&&(I===!1||I===!0&&M.hasOwnProperty(C))&&qs(dn[C])},Tr=function(C){C.objectNumber=Xn();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[X(C.x),X(C.y),X(C.x+C.width),X(C.y+C.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var pe=C.pages[1].join(`
`);Vr({data:pe,additionalKeyValues:ee,objectId:C.objectNumber}),Ae("endobj")},Wn=function(){for(var C in Gn)Gn.hasOwnProperty(C)&&Tr(Gn[C])},Gs=function(C,ee){var pe,Ne=[],je=1/(ee-1);for(pe=0;pe<1;pe+=je)Ne.push(pe);if(Ne.push(1),C[0].offset!=0){var ot={offset:0,color:C[0].color};C.unshift(ot)}if(C[C.length-1].offset!=1){var yt={offset:1,color:C[C.length-1].color};C.push(yt)}for(var Ot="",b=0,O=0;O<Ne.length;O++){for(pe=Ne[O];pe>C[b+1].offset;)b++;var U=C[b].offset,oe=(pe-U)/(C[b+1].offset-U),Ue=C[b].color,Qe=C[b+1].color;Ot+=be(Math.round((1-oe)*Ue[0]+oe*Qe[0]).toString(16))+be(Math.round((1-oe)*Ue[1]+oe*Qe[1]).toString(16))+be(Math.round((1-oe)*Ue[2]+oe*Qe[2]).toString(16))}return Ot.trim()},ir=function(C,ee){ee||(ee=21);var pe=Xn(),Ne=Gs(C.colors,ee),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+ee+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vr({data:Ne,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),Ae("endobj"),C.objectNumber=Xn(),Ae("<< /ShadingType "+C.type),Ae("/ColorSpace /DeviceRGB");var ot="/Coords ["+X(parseFloat(C.coords[0]))+" "+X(parseFloat(C.coords[1]))+" ";C.type===2?ot+=X(parseFloat(C.coords[2]))+" "+X(parseFloat(C.coords[3])):ot+=X(parseFloat(C.coords[2]))+" "+X(parseFloat(C.coords[3]))+" "+X(parseFloat(C.coords[4]))+" "+X(parseFloat(C.coords[5])),Ae(ot+="]"),C.matrix&&Ae("/Matrix ["+C.matrix.toString()+"]"),Ae("/Function "+pe+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},Ba=function(C,ee){var pe=Ar(),Ne=Xn();ee.push({resourcesOid:pe,objectOid:Ne}),C.objectNumber=Ne;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+C.boundingBox.map(X).join(" ")+"]"}),je.push({key:"XStep",value:X(C.xStep)}),je.push({key:"YStep",value:X(C.yStep)}),je.push({key:"Resources",value:pe+" 0 R"}),C.matrix&&je.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Vr({data:C.stream,additionalKeyValues:je,objectId:C.objectNumber}),Ae("endobj")},pt=function(C){var ee;for(ee in Pn)Pn.hasOwnProperty(ee)&&(Pn[ee]instanceof Iu?ir(Pn[ee]):Pn[ee]instanceof Ih&&Ba(Pn[ee],C))},$i=function(C){for(var ee in C.objectNumber=Xn(),Ae("<<"),C)switch(ee){case"opacity":Ae("/ca "+ae(C[ee]));break;case"stroke-opacity":Ae("/CA "+ae(C[ee]))}Ae(">>"),Ae("endobj")},Bn=function(){var C;for(C in Or)Or.hasOwnProperty(C)&&$i(Or[C])},ii=function(){for(var C in Ae("/XObject <<"),Gn)Gn.hasOwnProperty(C)&&Gn[C].objectNumber>=0&&Ae("/"+C+" "+Gn[C].objectNumber+" 0 R");pn.publish("putXobjectDict"),Ae(">>")},vl=function(){vr.oid=Xn(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+vr.v),Ae("/R "+vr.r),Ae("/U <"+vr.toHexString(vr.U)+">"),Ae("/O <"+vr.toHexString(vr.O)+">"),Ae("/P "+vr.P),Ae(">>"),Ae("endobj")},Fn=function(){for(var C in Ae("/Font <<"),dn)dn.hasOwnProperty(C)&&(I===!1||I===!0&&M.hasOwnProperty(C))&&Ae("/"+C+" "+dn[C].objectNumber+" 0 R");Ae(">>")},jn=function(){if(Object.keys(Pn).length>0){for(var C in Ae("/Shading <<"),Pn)Pn.hasOwnProperty(C)&&Pn[C]instanceof Iu&&Pn[C].objectNumber>=0&&Ae("/"+C+" "+Pn[C].objectNumber+" 0 R");pn.publish("putShadingPatternDict"),Ae(">>")}},Tn=function(C){if(Object.keys(Pn).length>0){for(var ee in Ae("/Pattern <<"),Pn)Pn.hasOwnProperty(ee)&&Pn[ee]instanceof R.TilingPattern&&Pn[ee].objectNumber>=0&&Pn[ee].objectNumber<C&&Ae("/"+ee+" "+Pn[ee].objectNumber+" 0 R");pn.publish("putTilingPatternDict"),Ae(">>")}},Ws=function(){if(Object.keys(Or).length>0){var C;for(C in Ae("/ExtGState <<"),Or)Or.hasOwnProperty(C)&&Or[C].objectNumber>=0&&Ae("/"+C+" "+Or[C].objectNumber+" 0 R");pn.publish("putGStateDict"),Ae(">>")}},yr=function(C){lr(C.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fn(),jn(),Tn(C.objectOid),Ws(),ii(),Ae(">>"),Ae("endobj")},qi=function(){var C=[];kr(),Bn(),Wn(),pt(C),pn.publish("putResources"),C.forEach(yr),yr({resourcesOid:ur,objectOid:Number.MAX_SAFE_INTEGER}),pn.publish("postPutResources")},Yn=function(){pn.publish("putAdditionalObjects");for(var C=0;C<ct.length;C++){var ee=ct[C];lr(ee.objId,!0),Ae(ee.content),Ae("endobj")}pn.publish("postPutAdditionalObjects")},ys=function(C){$t[C.fontName]=$t[C.fontName]||{},$t[C.fontName][C.fontStyle]=C.id},Ao=function(C,ee,pe,Ne,je){var ot={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:C,fontName:ee,fontStyle:pe,encoding:Ne,isStandardFont:je||!1,metadata:{}};return pn.publish("addFont",{font:ot,instance:this}),dn[ot.id]=ot,ys(ot),ot.id},_r=function(C){for(var ee=0,pe=lt.length;ee<pe;ee++){var Ne=Ao.call(this,C[ee][0],C[ee][1],C[ee][2],lt[ee][3],!0);I===!1&&(M[Ne]=!0);var je=C[ee][0].split("-");ys({id:Ne,fontName:je[0],fontStyle:je[1]||""})}pn.publish("addFonts",{fonts:dn,dictionary:$t})},si=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(Ne){var ee=Ne.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var pe="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!bn.console)throw new Error(pe);bn.console.error(pe,Ne),bn.alert&&alert(pe)}},C.foo.bar=C,C.foo},da=function(C,ee){var pe,Ne,je,ot,yt,Ot,b,O,U;if(je=(ee=ee||{}).sourceEncoding||"Unicode",yt=ee.outputEncoding,(ee.autoencode||yt)&&dn[Cn].metadata&&dn[Cn].metadata[je]&&dn[Cn].metadata[je].encoding&&(ot=dn[Cn].metadata[je].encoding,!yt&&dn[Cn].encoding&&(yt=dn[Cn].encoding),!yt&&ot.codePages&&(yt=ot.codePages[0]),typeof yt=="string"&&(yt=ot[yt]),yt)){for(b=!1,Ot=[],pe=0,Ne=C.length;pe<Ne;pe++)(O=yt[C.charCodeAt(pe)])?Ot.push(String.fromCharCode(O)):Ot.push(C[pe]),Ot[pe].charCodeAt(0)>>8&&(b=!0);C=Ot.join("")}for(pe=C.length;b===void 0&&pe!==0;)C.charCodeAt(pe-1)>>8&&(b=!0),pe--;if(!b)return C;for(Ot=ee.noBOM?[]:[254,255],pe=0,Ne=C.length;pe<Ne;pe++){if((U=(O=C.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(U),Ot.push(O-(U<<8))}return String.fromCharCode.apply(void 0,Ot)},Lr=R.__private__.pdfEscape=R.pdfEscape=function(C,ee){return da(C,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cn=R.__private__.beginPage=function(C){ut[++er]=[],nn[er]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ge(er),st(ut[ce])},Mr=function(C,ee){var pe,Ne,je;switch(t=ee||t,typeof C=="string"&&(pe=G(C.toLowerCase()),Array.isArray(pe)&&(Ne=pe[0],je=pe[1])),Array.isArray(C)&&(Ne=C[0]*Ft,je=C[1]*Ft),isNaN(Ne)&&(Ne=a[0],je=a[1]),(Ne>14400||je>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),je=Math.min(14400,je)),a=[Ne,je],t.substr(0,1)){case"l":je>Ne&&(a=[je,Ne]);break;case"p":Ne>je&&(a=[je,Ne])}cn(a),Ai(bs),Ae(Pi),Kr!==0&&Ae(Kr+" J"),Qs!==0&&Ae(Qs+" j"),pn.publish("addPage",{pageNumber:er})},Xe=function(C){C>0&&C<=er&&(ut.splice(C,1),nn.splice(C,1),er--,ce>er&&(ce=er),this.setPage(ce))},ge=function(C){C>0&&C<=er&&(ce=C)},Rt=R.__private__.getNumberOfPages=R.getNumberOfPages=function(){return ut.length-1},Dr=function(C,ee,pe){var Ne,je=void 0;return pe=pe||{},C=C!==void 0?C:dn[Cn].fontName,ee=ee!==void 0?ee:dn[Cn].fontStyle,Ne=C.toLowerCase(),$t[Ne]!==void 0&&$t[Ne][ee]!==void 0?je=$t[Ne][ee]:$t[C]!==void 0&&$t[C][ee]!==void 0?je=$t[C][ee]:pe.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+C+"', '"+ee+"'. Refer to getFontList() for available fonts."),je||pe.noFallback||(je=$t.times[ee])==null&&(je=$t.times.normal),je},gi=R.__private__.putInfo=function(){var C=Xn(),ee=function(Ne){return Ne};for(var pe in T!==null&&(ee=vr.encryptor(C,0)),Ae("<<"),Ae("/Producer ("+Lr(ee("jsPDF "+wn.version))+")"),Ht)Ht.hasOwnProperty(pe)&&Ht[pe]&&Ae("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+Lr(ee(Ht[pe]))+")");Ae("/CreationDate ("+Lr(ee(we))+")"),Ae(">>"),Ae("endobj")},es=R.__private__.putCatalog=function(C){var ee=(C=C||{}).rootDictionaryObjId||cr;switch(Xn(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+ee+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+at;pe.substr(pe.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+ae(at)+"]")}switch(Vt||(Vt="continuous"),Vt){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}zt&&Ae("/PageMode /"+zt),pn.publish("putCatalog"),Ae(">>"),Ae("endobj")},_o=R.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(ve+1)),Ae("/Root "+ve+" 0 R"),Ae("/Info "+(ve-1)+" 0 R"),T!==null&&Ae("/Encrypt "+vr.oid+" 0 R"),Ae("/ID [ <"+Se+"> <"+Se+"> ]"),Ae(">>")},Mi=R.__private__.putHeader=function(){Ae("%PDF-"+H),Ae("%ºß¬à")},tn=R.__private__.putXRef=function(){var C="0000000000";Ae("xref"),Ae("0 "+(ve+1)),Ae("0000000000 65535 f ");for(var ee=1;ee<=ve;ee++)typeof We[ee]=="function"?Ae((C+We[ee]()).slice(-10)+" 00000 n "):We[ee]!==void 0?Ae((C+We[ee]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},Kn=R.__private__.buildDocument=function(){Yt(),st(Pe),pn.publish("buildDocument"),Mi(),ms(),Yn(),qi(),T!==null&&vl(),gi(),es();var C=Ye;return tn(),_o(),Ae("startxref"),Ae(""+C),Ae("%%EOF"),st(ut[ce]),Pe.join(`
`)},Fa=R.__private__.getBlob=function(C){return new Blob([Nt(C)],{type:"application/pdf"})},so=R.output=R.__private__.output=si(function(C,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",C){case void 0:return Kn();case"save":R.save(ee.filename);break;case"arraybuffer":return Nt(Kn());case"blob":return Fa(Kn());case"bloburi":case"bloburl":if(bn.URL!==void 0&&typeof bn.URL.createObjectURL=="function")return bn.URL&&bn.URL.createObjectURL(Fa(Kn()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",Ne=Kn();try{pe=wp(Ne)}catch{pe=wp(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+ee.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(je=ee.pdfObjectUrl,ot="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Ot=bn.open();return Ot!==null&&Ot.document.write(yt),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',O=bn.open();if(O!==null){O.document.write(b);var U=this;O.document.documentElement.querySelector("#pdfViewer").onload=function(){O.document.title=ee.filename,O.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(U.output("bloburl"))}}return O}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Ue=bn.open();if(Ue!==null&&(Ue.document.write(oe),Ue.document.title=ee.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return bn.document.location.href=this.output("datauristring",ee);default:return null}}),os=function(C){return Array.isArray(gs)===!0&&gs.indexOf(C)>-1};switch(r){case"pt":Ft=1;break;case"mm":Ft=72/25.4;break;case"cm":Ft=72/2.54;break;case"in":Ft=72;break;case"px":Ft=os("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ft=12;break;case"ex":Ft=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ft=r}var vr=null;Be(),_e();var ba=function(C){return T!==null?vr.encryptor(C,0):function(ee){return ee}},Ys=R.__private__.getPageInfo=R.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nn[C].objId,pageNumber:C,pageContext:nn[C]}},Ut=R.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in nn)if(nn[ee].objId===C)break;return Ys(ee)},ls=R.__private__.getCurrentPageInfo=R.getCurrentPageInfo=function(){return{objId:nn[ce].objId,pageNumber:ce,pageContext:nn[ce]}};R.addPage=function(){return Mr.apply(this,arguments),this},R.setPage=function(){return ge.apply(this,arguments),st.call(this,ut[ce]),this},R.insertPage=function(C){return this.addPage(),this.movePage(ce,C),this},R.movePage=function(C,ee){var pe,Ne;if(C>ee){pe=ut[C],Ne=nn[C];for(var je=C;je>ee;je--)ut[je]=ut[je-1],nn[je]=nn[je-1];ut[ee]=pe,nn[ee]=Ne,this.setPage(ee)}else if(C<ee){pe=ut[C],Ne=nn[C];for(var ot=C;ot<ee;ot++)ut[ot]=ut[ot+1],nn[ot]=nn[ot+1];ut[ee]=pe,nn[ee]=Ne,this.setPage(ee)}return this},R.deletePage=function(){return Xe.apply(this,arguments),this},R.__private__.text=R.text=function(C,ee,pe,Ne,je){var ot,yt,Ot,b,O,U,oe,Ue,Qe,St=(Ne=Ne||{}).scope||this;if(typeof C=="number"&&typeof ee=="number"&&(typeof pe=="string"||Array.isArray(pe))){var gn=pe;pe=ee,ee=C,C=gn}if(arguments[3]instanceof Bt?(z("The transform parameter of text() with a Matrix value"),Qe=je):(Ot=arguments[4],b=arguments[5],Ur(oe=arguments[3])==="object"&&oe!==null||(typeof Ot=="string"&&(b=Ot,Ot=null),typeof oe=="string"&&(b=oe,oe=null),typeof oe=="number"&&(Ot=oe,oe=null),Ne={flags:oe,angle:Ot,align:b})),isNaN(ee)||isNaN(pe)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return St;var Rn="",_n=!1,zn=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:Un,fr=St.internal.scaleFactor;function Qr(Qn){return Qn=Qn.split("	").join(Array(Ne.TabLen||9).join(" ")),Lr(Qn,oe)}function oi(Qn){for(var Er,mi=Qn.concat(),Ei=[],Ca=mi.length;Ca--;)typeof(Er=mi.shift())=="string"?Ei.push(Er):Array.isArray(Qn)&&(Er.length===1||Er[1]===void 0&&Er[2]===void 0)?Ei.push(Er[0]):Ei.push([Er[0],Er[1],Er[2]]);return Ei}function Zr(Qn,Er){var mi;if(typeof Qn=="string")mi=Er(Qn)[0];else if(Array.isArray(Qn)){for(var Ei,Ca,wl=Qn.concat(),ya=[],nu=wl.length;nu--;)typeof(Ei=wl.shift())=="string"?ya.push(Er(Ei)[0]):Array.isArray(Ei)&&typeof Ei[0]=="string"&&(Ca=Er(Ei[0],Ei[1],Ei[2]),ya.push([Ca[0],Ca[1],Ca[2]]));mi=ya}return mi}var Sa=!1,Ta=!0;if(typeof C=="string")Sa=!0;else if(Array.isArray(C)){var Yo=C.concat();yt=[];for(var lo,Ir=Yo.length;Ir--;)(typeof(lo=Yo.shift())!="string"||Array.isArray(lo)&&typeof lo[0]!="string")&&(Ta=!1);Sa=Ta}if(Sa===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var co=Dt/St.internal.scaleFactor,Va=co*(zn-1);switch(Ne.baseline){case"bottom":pe-=Va;break;case"top":pe+=co-Va;break;case"hanging":pe+=co-2*Va;break;case"middle":pe+=co/2-Va}if((U=Ne.maxWidth||0)>0&&(typeof C=="string"?C=St.splitTextToSize(C,U):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Qn,Er){return Qn.concat(St.splitTextToSize(Er,U))},[]))),ot={text:C,x:ee,y:pe,options:Ne,mutex:{pdfEscape:Lr,activeFontKey:Cn,fonts:dn,activeFontSize:Dt}},pn.publish("preProcessText",ot),C=ot.text,Ot=(Ne=ot.options).angle,!(Qe instanceof Bt)&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Ne.rotationDirection===0&&(Ot=-Ot),le===te.ADVANCED&&(Ot=-Ot);var pa=Math.cos(Ot),kn=Math.sin(Ot);Qe=new Bt(pa,kn,-kn,pa,0,0)}else Ot&&Ot instanceof Bt&&(Qe=Ot);le!==te.ADVANCED||Qe||(Qe=Wr),(O=Ne.charSpace||tt)!==void 0&&(Rn+=X(F(O))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=Ne.horizontalScale)!==void 0&&(Rn+=X(100*Ue)+` Tz
`),Ne.lang;var Gi=-1,Z=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,s=St.internal.getCurrentPageInfo().pageContext;switch(Z){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var c=s.usedRenderingMode!==void 0?s.usedRenderingMode:-1;Gi!==-1?Rn+=Gi+` Tr
`:c!==-1&&(Rn+=`0 Tr
`),Gi!==-1&&(s.usedRenderingMode=Gi),b=Ne.align||"left";var u,d=Dt*zn,g=St.internal.pageSize.getWidth(),y=dn[Cn];O=Ne.charSpace||tt,U=Ne.maxWidth||0,oe=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var A=[],S=function(Qn){return St.getStringUnitWidth(Qn,{font:y,charSpace:O,fontSize:Dt,doKerning:!1})*Dt/fr};if(Object.prototype.toString.call(C)==="[object Array]"){var L;yt=oi(C),b!=="left"&&(u=yt.map(S));var B,Q=0;if(b==="right"){ee-=u[0],C=[],Ir=yt.length;for(var re=0;re<Ir;re++)re===0?(B=rs(ee),L=_i(pe)):(B=F(Q-u[re]),L=-d),C.push([yt[re],B,L]),Q=u[re]}else if(b==="center"){ee-=u[0]/2,C=[],Ir=yt.length;for(var me=0;me<Ir;me++)me===0?(B=rs(ee),L=_i(pe)):(B=F((Q-u[me])/2),L=-d),C.push([yt[me],B,L]),Q=u[me]}else if(b==="left"){C=[],Ir=yt.length;for(var Re=0;Re<Ir;Re++)C.push(yt[Re])}else if(b==="justify"&&y.encoding==="Identity-H"){C=[],Ir=yt.length,U=U!==0?U:g;for(var Oe=0,He=0;He<Ir;He++)if(L=He===0?_i(pe):-d,B=He===0?rs(ee):Oe,He<Ir-1){var rt=F((U-u[He])/(yt[He].split(" ").length-1)),vt=yt[He].split(" ");C.push([vt[0]+" ",B,L]),Oe=0;for(var At=1;At<vt.length;At++){var _t=(S(vt[At-1]+" "+vt[At])-S(vt[At]))*fr+rt;At==vt.length-1?C.push([vt[At],_t,0]):C.push([vt[At]+" ",_t,0]),Oe-=_t}}else C.push([yt[He],B,L]);C.push(["",Oe,0])}else{if(b!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Ir=yt.length,U=U!==0?U:g,He=0;He<Ir;He++)L=He===0?_i(pe):-d,B=He===0?rs(ee):0,He<Ir-1?A.push(X(F((U-u[He])/(yt[He].split(" ").length-1)))):A.push(0),C.push([yt[He],B,L])}}var Ln=typeof Ne.R2L=="boolean"?Ne.R2L:Qt;Ln===!0&&(C=Zr(C,function(Qn,Er,mi){return[Qn.split("").reverse().join(""),Er,mi]})),ot={text:C,x:ee,y:pe,options:Ne,mutex:{pdfEscape:Lr,activeFontKey:Cn,fonts:dn,activeFontSize:Dt}},pn.publish("postProcessText",ot),C=ot.text,_n=ot.mutex.isHex||!1;var an=dn[Cn].encoding;an!=="WinAnsiEncoding"&&an!=="StandardEncoding"||(C=Zr(C,function(Qn,Er,mi){return[Qr(Qn),Er,mi]})),yt=oi(C),C=[];for(var pi,Bi,li,tr=0,ci=1,Ti=Array.isArray(yt[0])?ci:tr,_s="",ma=function(Qn,Er,mi){var Ei="";return mi instanceof Bt?(mi=typeof Ne.angle=="number"?ps(mi,new Bt(1,0,0,1,Qn,Er)):ps(new Bt(1,0,0,1,Qn,Er),mi),le===te.ADVANCED&&(mi=ps(new Bt(1,0,0,-1,0,0),mi)),Ei=mi.join(" ")+` Tm
`):Ei=X(Qn)+" "+X(Er)+` Td
`,Ei},Ms=0;Ms<yt.length;Ms++){switch(_s="",Ti){case ci:li=(_n?"<":"(")+yt[Ms][0]+(_n?">":")"),pi=parseFloat(yt[Ms][1]),Bi=parseFloat(yt[Ms][2]);break;case tr:li=(_n?"<":"(")+yt[Ms]+(_n?">":")"),pi=rs(ee),Bi=_i(pe)}A!==void 0&&A[Ms]!==void 0&&(_s=A[Ms]+` Tw
`),Ms===0?C.push(_s+ma(pi,Bi,Qe)+li):Ti===tr?C.push(_s+li):Ti===ci&&C.push(_s+ma(pi,Bi,Qe)+li)}C=Ti===tr?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ui=`BT
/`;return ui+=Cn+" "+Dt+` Tf
`,ui+=X(Dt*zn)+` TL
`,ui+=ki+`
`,ui+=Rn,ui+=C,Ae(ui+="ET"),M[Cn]=!0,St};var vs=R.__private__.clip=R.clip=function(C){return Ae(C==="evenodd"?"W*":"W"),this};R.clipEvenOdd=function(){return vs("evenodd")},R.__private__.discardPath=R.discardPath=function(){return Ae("n"),this};var Xt=R.__private__.isValidStyle=function(C){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(ee=!0),ee};R.__private__.setDefaultPathOperation=R.setDefaultPathOperation=function(C){return Xt(C)&&(w=C),this};var Aa=R.__private__.getStyle=R.getStyle=function(C){var ee=w;switch(C){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=C}return ee},sn=R.close=function(){return Ae("h"),this};R.stroke=function(){return Ae("S"),this},R.fill=function(C){return Cr("f",C),this},R.fillEvenOdd=function(C){return Cr("f*",C),this},R.fillStroke=function(C){return Cr("B",C),this},R.fillStrokeEvenOdd=function(C){return Cr("B*",C),this};var Cr=function(C,ee){Ur(ee)==="object"?Ks(ee,C):Ae(C)},ws=function(C){C===null||le===te.ADVANCED&&C===void 0||(C=Aa(C),Ae(C))};function Xs(C,ee,pe,Ne,je){var ot=new Ih(ee||this.boundingBox,pe||this.xStep,Ne||this.yStep,this.gState,je||this.matrix);ot.stream=this.stream;var yt=C+"$$"+this.cloneIndex+++"$$";return Yr(yt,ot),ot}var Ks=function(C,ee){var pe=Hs[C.key],Ne=Pn[pe];if(Ne instanceof Iu)Ae("q"),Ae(Ls(ee)),Ne.gState&&R.setGState(Ne.gState),Ae(C.matrix.toString()+" cm"),Ae("/"+pe+" sh"),Ae("Q");else if(Ne instanceof Ih){var je=new Bt(1,0,0,-1,0,ai());C.matrix&&(je=je.multiply(C.matrix||Wr),pe=Xs.call(Ne,C.key,C.boundingBox,C.xStep,C.yStep,je).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+pe+" scn"),Ne.gState&&R.setGState(Ne.gState),Ae(ee),Ae("Q")}},Ls=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xs=R.moveTo=function(C,ee){return Ae(X(F(C))+" "+X(xe(ee))+" m"),this},bi=R.lineTo=function(C,ee){return Ae(X(F(C))+" "+X(xe(ee))+" l"),this},ts=R.curveTo=function(C,ee,pe,Ne,je,ot){return Ae([X(F(C)),X(xe(ee)),X(F(pe)),X(xe(Ne)),X(F(je)),X(xe(ot)),"c"].join(" ")),this};R.__private__.line=R.line=function(C,ee,pe,Ne,je){if(isNaN(C)||isNaN(ee)||isNaN(pe)||isNaN(Ne)||!Xt(je))throw new Error("Invalid arguments passed to jsPDF.line");return le===te.COMPAT?this.lines([[pe-C,Ne-ee]],C,ee,[1,1],je||"S"):this.lines([[pe-C,Ne-ee]],C,ee,[1,1]).stroke()},R.__private__.lines=R.lines=function(C,ee,pe,Ne,je,ot){var yt,Ot,b,O,U,oe,Ue,Qe,St,gn,Rn,_n;if(typeof C=="number"&&(_n=pe,pe=ee,ee=C,C=_n),Ne=Ne||[1,1],ot=ot||!1,isNaN(ee)||isNaN(pe)||!Array.isArray(C)||!Array.isArray(Ne)||!Xt(je)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xs(ee,pe),yt=Ne[0],Ot=Ne[1],O=C.length,gn=ee,Rn=pe,b=0;b<O;b++)(U=C[b]).length===2?(gn=U[0]*yt+gn,Rn=U[1]*Ot+Rn,bi(gn,Rn)):(oe=U[0]*yt+gn,Ue=U[1]*Ot+Rn,Qe=U[2]*yt+gn,St=U[3]*Ot+Rn,gn=U[4]*yt+gn,Rn=U[5]*Ot+Rn,ts(oe,Ue,Qe,St,gn,Rn));return ot&&sn(),ws(je),this},R.path=function(C){for(var ee=0;ee<C.length;ee++){var pe=C[ee],Ne=pe.c;switch(pe.op){case"m":xs(Ne[0],Ne[1]);break;case"l":bi(Ne[0],Ne[1]);break;case"c":ts.apply(this,Ne);break;case"h":sn()}}return this},R.__private__.rect=R.rect=function(C,ee,pe,Ne,je){if(isNaN(C)||isNaN(ee)||isNaN(pe)||isNaN(Ne)||!Xt(je))throw new Error("Invalid arguments passed to jsPDF.rect");return le===te.COMPAT&&(Ne=-Ne),Ae([X(F(C)),X(xe(ee)),X(F(pe)),X(F(Ne)),"re"].join(" ")),ws(je),this},R.__private__.triangle=R.triangle=function(C,ee,pe,Ne,je,ot,yt){if(isNaN(C)||isNaN(ee)||isNaN(pe)||isNaN(Ne)||isNaN(je)||isNaN(ot)||!Xt(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-C,Ne-ee],[je-pe,ot-Ne],[C-je,ee-ot]],C,ee,[1,1],yt,!0),this},R.__private__.roundedRect=R.roundedRect=function(C,ee,pe,Ne,je,ot,yt){if(isNaN(C)||isNaN(ee)||isNaN(pe)||isNaN(Ne)||isNaN(je)||isNaN(ot)||!Xt(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*pe),ot=Math.min(ot,.5*Ne),this.lines([[pe-2*je,0],[je*Ot,0,je,ot-ot*Ot,je,ot],[0,Ne-2*ot],[0,ot*Ot,-je*Ot,ot,-je,ot],[2*je-pe,0],[-je*Ot,0,-je,-ot*Ot,-je,-ot],[0,2*ot-Ne],[0,-ot*Ot,je*Ot,-ot,je,-ot]],C+je,ee,[1,1],yt,!0),this},R.__private__.ellipse=R.ellipse=function(C,ee,pe,Ne,je){if(isNaN(C)||isNaN(ee)||isNaN(pe)||isNaN(Ne)||!Xt(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*pe,yt=4/3*(Math.SQRT2-1)*Ne;return xs(C+pe,ee),ts(C+pe,ee-yt,C+ot,ee-Ne,C,ee-Ne),ts(C-ot,ee-Ne,C-pe,ee-yt,C-pe,ee),ts(C-pe,ee+yt,C-ot,ee+Ne,C,ee+Ne),ts(C+ot,ee+Ne,C+pe,ee+yt,C+pe,ee),ws(je),this},R.__private__.circle=R.circle=function(C,ee,pe,Ne){if(isNaN(C)||isNaN(ee)||isNaN(pe)||!Xt(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,ee,pe,pe,Ne)},R.setFont=function(C,ee,pe){return pe&&(ee=Ge(ee,pe)),Cn=Dr(C,ee,{disableWarning:!1}),this};var zr=R.__private__.getFont=R.getFont=function(){return dn[Dr.apply(R,arguments)]};R.__private__.getFontList=R.getFontList=function(){var C,ee,pe={};for(C in $t)if($t.hasOwnProperty(C))for(ee in pe[C]=[],$t[C])$t[C].hasOwnProperty(ee)&&pe[C].push(ee);return pe},R.addFont=function(C,ee,pe,Ne,je){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(pe=Ge(pe,Ne)),je=je||"Identity-H",Ao.call(this,C,ee,pe,je)};var Un,bs=n.lineWidth||.200025,ns=R.__private__.getLineWidth=R.getLineWidth=function(){return bs},Ai=R.__private__.setLineWidth=R.setLineWidth=function(C){return bs=C,Ae(X(F(C))+" w"),this};R.__private__.setLineDash=wn.API.setLineDash=wn.API.setLineDashPattern=function(C,ee){if(C=C||[],ee=ee||0,isNaN(ee)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(pe){return X(F(pe))}).join(" "),ee=X(F(ee)),Ae("["+C+"] "+ee+" d"),this};var _a=R.__private__.getLineHeight=R.getLineHeight=function(){return Dt*Un};R.__private__.getLineHeight=R.getLineHeight=function(){return Dt*Un};var Ea=R.__private__.setLineHeightFactor=R.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Un=C),this},As=R.__private__.getLineHeightFactor=R.getLineHeightFactor=function(){return Un};Ea(n.lineHeight);var rs=R.__private__.getHorizontalCoordinate=function(C){return F(C)},_i=R.__private__.getVerticalCoordinate=function(C){return le===te.ADVANCED?C:nn[ce].mediaBox.topRightY-nn[ce].mediaBox.bottomLeftY-F(C)},Wo=R.__private__.getHorizontalCoordinateString=R.getHorizontalCoordinateString=function(C){return X(rs(C))},Vn=R.__private__.getVerticalCoordinateString=R.getVerticalCoordinateString=function(C){return X(_i(C))},Pi=n.strokeColor||"0 G";R.__private__.getStrokeColor=R.getDrawColor=function(){return rr(Pi)},R.__private__.setStrokeColor=R.setDrawColor=function(C,ee,pe,Ne){return Pi=ri({ch1:C,ch2:ee,ch3:pe,ch4:Ne,pdfColorType:"draw",precision:2}),Ae(Pi),this};var Ds=n.fillColor||"0 g";R.__private__.getFillColor=R.getFillColor=function(){return rr(Ds)},R.__private__.setFillColor=R.setFillColor=function(C,ee,pe,Ne){return Ds=ri({ch1:C,ch2:ee,ch3:pe,ch4:Ne,pdfColorType:"fill",precision:2}),Ae(Ds),this};var ki=n.textColor||"0 g",ao=R.__private__.getTextColor=R.getTextColor=function(){return rr(ki)};R.__private__.setTextColor=R.setTextColor=function(C,ee,pe,Ne){return ki=ri({ch1:C,ch2:ee,ch3:pe,ch4:Ne,pdfColorType:"text",precision:3}),this};var tt=n.charSpace,yn=R.__private__.getCharSpace=R.getCharSpace=function(){return parseFloat(tt||0)};R.__private__.setCharSpace=R.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tt=C,this};var Kr=0;R.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},R.__private__.setLineCap=R.setLineCap=function(C){var ee=R.CapJoinStyles[C];if(ee===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kr=ee,Ae(ee+" J"),this};var Qs=0;R.__private__.setLineJoin=R.setLineJoin=function(C){var ee=R.CapJoinStyles[C];if(ee===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qs=ee,Ae(ee+" j"),this},R.__private__.setLineMiterLimit=R.__private__.setMiterLimit=R.setLineMiterLimit=R.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(X(F(C))+" M"),this},R.GState=A0,R.setGState=function(C){(C=typeof C=="string"?Or[un[C]]:ga(null,C)).equals(ti)||(Ae("/"+C.id+" gs"),ti=C)};var ga=function(C,ee){if(!C||!un[C]){var pe=!1;for(var Ne in Or)if(Or.hasOwnProperty(Ne)&&Or[Ne].equals(ee)){pe=!0;break}if(pe)ee=Or[Ne];else{var je="GS"+(Object.keys(Or).length+1).toString(10);Or[je]=ee,ee.id=je}return C&&(un[C]=ee.id),pn.publish("addGState",ee),ee}};R.addGState=function(C,ee){return ga(C,ee),this},R.saveGraphicsState=function(){return Ae("q"),xn.push({key:Cn,size:Dt,color:ki}),this},R.restoreGraphicsState=function(){Ae("Q");var C=xn.pop();return Cn=C.key,Dt=C.size,ki=C.color,ti=null,this},R.setCurrentTransformationMatrix=function(C){return Ae(C.toString()+" cm"),this},R.comment=function(C){return Ae("#"+C),this};var ja=function(C,ee){var pe=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(ot){isNaN(ot)||(pe=parseFloat(ot))}});var Ne=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(ot){isNaN(ot)||(Ne=parseFloat(ot))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(ot){je=ot.toString()}}),this},oo=function(C,ee,pe,Ne){ja.call(this,C,ee),this.type="rect";var je=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(yt){isNaN(yt)||(je=parseFloat(yt))}});var ot=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(yt){isNaN(yt)||(ot=parseFloat(yt))}}),this},Ua=function(){this.page=er,this.currentPage=ce,this.pages=ut.slice(0),this.pagesContext=nn.slice(0),this.x=ei,this.y=en,this.matrix=Et,this.width=hr(ce),this.height=ai(ce),this.outputDestination=gt,this.id="",this.objectNumber=-1};Ua.prototype.restore=function(){er=this.page,ce=this.currentPage,nn=this.pagesContext,ut=this.pages,ei=this.x,en=this.y,Et=this.matrix,Js(ce,this.width),Jn(ce,this.height),gt=this.outputDestination};var Zs=function(C,ee,pe,Ne,je){Di.push(new Ua),er=ce=0,ut=[],ei=C,en=ee,Et=je,cn([pe,Ne])},Hr=function(C){if(ni[C])Di.pop().restore();else{var ee=new Ua,pe="Xo"+(Object.keys(Gn).length+1).toString(10);ee.id=pe,ni[C]=pe,Gn[pe]=ee,pn.publish("addFormObject",ee),Di.pop().restore()}};for(var Os in R.beginFormObject=function(C,ee,pe,Ne,je){return Zs(C,ee,pe,Ne,je),this},R.endFormObject=function(C){return Hr(C),this},R.doFormObject=function(C,ee){var pe=Gn[ni[C]];return Ae("q"),Ae(ee.toString()+" cm"),Ae("/"+pe.id+" Do"),Ae("Q"),this},R.getFormObject=function(C){var ee=Gn[ni[C]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},R.save=function(C,ee){return C=C||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(Cu(Fa(Kn()),C),typeof Cu.unload=="function"&&bn.setTimeout&&setTimeout(Cu.unload,911),this):new Promise(function(pe,Ne){try{var je=Cu(Fa(Kn()),C);typeof Cu.unload=="function"&&bn.setTimeout&&setTimeout(Cu.unload,911),pe(je)}catch(ot){Ne(ot.message)}})},wn.API)wn.API.hasOwnProperty(Os)&&(Os==="events"&&wn.API.events.length?function(C,ee){var pe,Ne,je;for(je=ee.length-1;je!==-1;je--)pe=ee[je][0],Ne=ee[je][1],C.subscribe.apply(C,[pe].concat(typeof Ne=="function"?[Ne]:Ne))}(pn,wn.API.events):R[Os]=wn.API[Os]);var hr=R.getPageWidth=function(C){return(nn[C=C||ce].mediaBox.topRightX-nn[C].mediaBox.bottomLeftX)/Ft},Js=R.setPageWidth=function(C,ee){nn[C].mediaBox.topRightX=ee*Ft+nn[C].mediaBox.bottomLeftX},ai=R.getPageHeight=function(C){return(nn[C=C||ce].mediaBox.topRightY-nn[C].mediaBox.bottomLeftY)/Ft},Jn=R.setPageHeight=function(C,ee){nn[C].mediaBox.topRightY=ee*Ft+nn[C].mediaBox.bottomLeftY};return R.internal={pdfEscape:Lr,getStyle:Aa,getFont:zr,getFontSize:kt,getCharSpace:yn,getTextColor:ao,getLineHeight:_a,getLineHeightFactor:As,getLineWidth:ns,write:Gt,getHorizontalCoordinate:rs,getVerticalCoordinate:_i,getCoordinateString:Wo,getVerticalCoordinateString:Vn,collections:{},newObject:Xn,newAdditionalObject:Pt,newObjectDeferred:Ar,newObjectDeferredBegin:lr,getFilters:Oi,putStream:Vr,events:pn,scaleFactor:Ft,pageSize:{getWidth:function(){return hr(ce)},setWidth:function(C){Js(ce,C)},getHeight:function(){return ai(ce)},setHeight:function(C){Jn(ce,C)}},encryptionOptions:T,encryption:vr,getEncryptor:ba,output:so,getNumberOfPages:Rt,pages:ut,out:Ae,f2:ae,f3:V,getPageInfo:Ys,getPageInfoByObjId:Ut,getCurrentPageInfo:ls,getPDFVersion:q,Point:ja,Rectangle:oo,Matrix:Bt,hasHotfix:os},Object.defineProperty(R.internal.pageSize,"width",{get:function(){return hr(ce)},set:function(C){Js(ce,C)},enumerable:!0,configurable:!0}),Object.defineProperty(R.internal.pageSize,"height",{get:function(){return ai(ce)},set:function(C){Jn(ce,C)},enumerable:!0,configurable:!0}),_r.call(R,lt),Cn="F1",Mr(a,t),pn.publish("initialized"),R}Th.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Th.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Th.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Th.prototype.processOwnerPassword=function(n,e){return bp(xp(e).substr(0,5),n)},Th.prototype.encryptor=function(n,e){var t=xp(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return bp(t,r)}},A0.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ur(n)!==Ur(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},wn.API={events:[]},wn.version="3.0.0";var zi=wn.API,Im=1,qu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},On=function(n){return n.toFixed(2)},Lc=function(n){return n.toFixed(5)};zi.__acroform__={};var ka=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},pw=function(n){return n*Im},il=function(n){var e=new $4,t=Jt.internal.getHeight(n)||0,r=Jt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(On(r)),Number(On(t))],e},p7=zi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},m7=zi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},y7=zi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Qi=zi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return y7(n,e-1)},Zi=zi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p7(n,e-1)},Ji=zi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return m7(n,e-1)},v7=zi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],l=n[1],f=n[2],p=n[3],v={};return v.lowerLeft_X=t(a)||0,v.lowerLeft_Y=r(l+p)||0,v.upperRight_X=t(a+f)||0,v.upperRight_Y=r(l)||0,[Number(On(v.lowerLeft_X)),Number(On(v.lowerLeft_Y)),Number(On(v.upperRight_X)),Number(On(v.upperRight_Y))]},w7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Ap(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+On(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=il(n);return l.scope=n.scope,l.stream=e.join(`
`),l}},Ap=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(V){return V.split(`
`)}):a.map(function(V){return[V]});var l=t,f=Jt.internal.getHeight(n)||0;f=f<0?-f:f;var p=Jt.internal.getWidth(n)||0;p=p<0?-p:p;var v=function(V,F,Y){if(V+1<a.length){var xe=F+" "+a[V+1][0];return P1(xe,n,Y).width<=p-4}return!1};l++;e:for(;l>0;){e="",l--;var w,T,I=P1("3",n,l).height,M=n.multiline?f-l:(f-I)/2,R=M+=2,H=0,q=0,J=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+P1(e,n,l=12).width+", FieldWidth:"+p+`
`;break}for(var G="",te=0,le=0;le<a.length;le++)if(a.hasOwnProperty(le)){var Ce=!1;if(a[le].length!==1&&J!==a[le].length-1){if((I+2)*(te+2)+2>f)continue e;G+=a[le][J],Ce=!0,q=le,le--}else{G=(G+=a[le][J]+" ").substr(G.length-1)==" "?G.substr(0,G.length-1):G;var De=parseInt(le),Ge=v(De,G,l),X=le>=a.length-1;if(Ge&&!X){G+=" ",J=0;continue}if(Ge||X){if(X)q=De;else if(n.multiline&&(I+2)*(te+2)+2>f)continue e}else{if(!n.multiline||(I+2)*(te+2)+2>f)continue e;q=De}}for(var z="",j=H;j<=q;j++){var ae=a[j];if(n.multiline){if(j===q){z+=ae[J]+" ",J=(J+1)%ae.length;continue}if(j===H){z+=ae[ae.length-1]+" ";continue}}z+=ae[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,T=P1(z,n,l).width,n.textAlign){case"right":w=p-T-2;break;case"center":w=(p-T)/2;break;case"left":default:w=2}e+=On(w)+" "+On(R)+` Td
`,e+="("+qu(z)+`) Tj
`,e+=-On(w)+` 0 Td
`,R=-(l+2),T=0,H=Ce?q:q+1,te++,G=""}break}return r.text=e,r.fontSize=l,r},P1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},x7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},b7=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},A7=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,a=n[t];e.internal.newObjectDeferredBegin(a.objId,!0),Ur(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete n[r]}},_7=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(qo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(x7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Im=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new eb,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];l.objId=void 0,l.hasAnnotation&&b7(l,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var l=!r;for(var f in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(f)){var p=r[f],v=[],w=p.Rect;if(p.Rect&&(p.Rect=v7(p.Rect,a)),a.internal.newObjectDeferredBegin(p.objId,!0),p.DA=Jt.createDefaultAppearanceStream(p),Ur(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(v=p.getKeyValueListForStream()),p.Rect=w,p.hasAppearanceStream&&!p.appearanceStreamContent){var T=w7(p);v.push({key:"AP",value:"<</N "+T+">>"}),a.internal.acroformPlugin.xForms.push(T)}if(p.appearanceStreamContent){var I="";for(var M in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(M)){var R=p.appearanceStreamContent[M];if(I+="/"+M+" ",I+="<<",Object.keys(R).length>=1||Array.isArray(R)){for(var f in R)if(R.hasOwnProperty(f)){var H=R[f];typeof H=="function"&&(H=H.call(a,p)),I+="/"+f+" "+H+" ",a.internal.acroformPlugin.xForms.indexOf(H)>=0||a.internal.acroformPlugin.xForms.push(H)}}else typeof(H=R)=="function"&&(H=H.call(a,p)),I+="/"+f+" "+H,a.internal.acroformPlugin.xForms.indexOf(H)>=0||a.internal.acroformPlugin.xForms.push(H);I+=">>"}v.push({key:"AP",value:`<<
`+I+">>"})}a.internal.putStream({additionalKeyValues:v,objectId:p.objId}),a.internal.out("endobj")}l&&A7(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},J4=zi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(f){return f};if(Array.isArray(n)){for(var a="[",l=0;l<n.length;l++)switch(l!==0&&(a+=" "),Ur(n[l])){case"boolean":case"number":case"object":a+=n[l].toString();break;case"string":n[l].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+qu(r(n[l].toString()))+")"):a+=n[l].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pg=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+qu(r(n))+")"},ll=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ll.prototype.toString=function(){return this.objId+" 0 R"},ll.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ll.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:J4(a,this.objId,this.scope)}):a instanceof ll?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var $4=function(){ll.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ka($4,ll);var eb=function(){ll.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+qu(t(n))+")"}},set:function(t){n=t}})};ka(eb,ll);var qo=function n(){ll.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(G){if(isNaN(G))throw new Error('Invalid value "'+G+'" for attribute F supplied.');e=G}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(e,3)},set:function(G){G?this.F=Zi(e,3):this.F=Ji(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(G){if(isNaN(G))throw new Error('Invalid value "'+G+'" for attribute Ff supplied.');t=G}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(G){r=G!==void 0?G:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(G){r[0]=G}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(G){r[1]=G}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(G){r[2]=G}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(G){r[3]=G}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(G){switch(G){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=G;break;default:throw new Error('Invalid value "'+G+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof _0)return;l="FieldObject"+n.FieldNum++}var G=function(te){return te};return this.scope&&(G=this.scope.internal.getEncryptor(this.objId)),"("+qu(G(l))+")"},set:function(G){l=G.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(G){l=G}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(G){f=G}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(G){p=G}});var v=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return v},set:function(G){v=G}});var w=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return w===void 0?50/Im:w},set:function(G){w=G}});var T="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return T},set:function(G){T=G}});var I="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!I||this instanceof _0||this instanceof Du))return Pg(I,this.objId,this.scope)},set:function(G){G=G.toString(),I=G}});var M=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(M)return this instanceof Rs?M:Pg(M,this.objId,this.scope)},set:function(G){G=G.toString(),M=this instanceof Rs?G:G.substr(0,1)==="("?xh(G.substr(1,G.length-2)):xh(G)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs?xh(M.substr(1,M.length-1)):M},set:function(G){G=G.toString(),M=this instanceof Rs?"/"+G:G}});var R=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(R)return R},set:function(G){this.V=G}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(R)return this instanceof Rs?R:Pg(R,this.objId,this.scope)},set:function(G){G=G.toString(),R=this instanceof Rs?G:G.substr(0,1)==="("?xh(G.substr(1,G.length-2)):xh(G)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs?xh(R.substr(1,R.length-1)):R},set:function(G){G=G.toString(),R=this instanceof Rs?"/"+G:G}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var H,q=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return q},set:function(G){G=!!G,q=G}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(H)return H},set:function(G){H=G}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(G){G?this.Ff=Zi(this.Ff,1):this.Ff=Ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(G){G?this.Ff=Zi(this.Ff,2):this.Ff=Ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(G){G?this.Ff=Zi(this.Ff,3):this.Ff=Ji(this.Ff,3)}});var J=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(J!==null)return J},set:function(G){if([0,1,2].indexOf(G)===-1)throw new Error('Invalid value "'+G+'" for attribute Q supplied.');J=G}}),Object.defineProperty(this,"textAlign",{get:function(){var G;switch(J){case 0:default:G="left";break;case 1:G="center";break;case 2:G="right"}return G},configurable:!0,enumerable:!0,set:function(G){switch(G){case"right":case 2:J=2;break;case"center":case 1:J=1;break;case"left":case 0:default:J=0}}})};ka(qo,ll);var Mh=function(){qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return J4(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=function(l,f,p){p||(p=1);for(var v,w=[];v=f.exec(l);)w.push(v[p]);return w}(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(t){t?this.Ff=Zi(this.Ff,18):this.Ff=Ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zi(this.Ff,19):this.Ff=Ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(t){t?(this.Ff=Zi(this.Ff,20),e.sort()):this.Ff=Ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(t){t?this.Ff=Zi(this.Ff,22):this.Ff=Ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(t){t?this.Ff=Zi(this.Ff,27):this.Ff=Ji(this.Ff,27)}}),this.hasAppearanceStream=!1};ka(Mh,qo);var Ph=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};ka(Ph,Mh);var kh=function(){Ph.call(this),this.combo=!0};ka(kh,Ph);var Z1=function(){kh.call(this),this.edit=!0};ka(Z1,kh);var Rs=function(){qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(t){t?this.Ff=Zi(this.Ff,15):this.Ff=Ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(t){t?this.Ff=Zi(this.Ff,16):this.Ff=Ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(t){t?this.Ff=Zi(this.Ff,17):this.Ff=Ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(l){return l};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+qu(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Ur(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ka(Rs,qo);var J1=function(){Rs.call(this),this.pushButton=!0};ka(J1,Rs);var Bh=function(){Rs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ka(Bh,Rs);var _0=function(){var n,e;qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(p){return p};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,f=[];for(l in f.push("<<"),r)f.push("/"+l+" ("+qu(a(r[l]))+")");return f.push(">>"),f.join(`
`)},set:function(a){Ur(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ka(_0,qo),Bh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Bh.prototype.createOption=function(n){var e=new _0;return e.Parent=this,e.optionName=n,this.Kids.push(e),E7.call(this.scope,e),e};var $1=function(){Rs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};ka($1,Rs);var Du=function(){qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(e){e?this.Ff=Zi(this.Ff,13):this.Ff=Ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(e){e?this.Ff=Zi(this.Ff,21):this.Ff=Ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=Ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(e){e?this.Ff=Zi(this.Ff,24):this.Ff=Ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(e){e?this.Ff=Zi(this.Ff,25):this.Ff=Ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=Ji(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ka(Du,qo);var e0=function(){Du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(n){n?this.Ff=Zi(this.Ff,14):this.Ff=Ji(this.Ff,14)}}),this.password=!0};ka(e0,Du);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),l=Ap(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+On(Jt.internal.getWidth(n))+" "+On(Jt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+On(l.fontSize)+" Tf "+a),t.push("BT"),t.push(l.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=il(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],l=Jt.internal.getHeight(n),f=Jt.internal.getWidth(n),p=Ap(n,n.caption);return a.push("1 g"),a.push("0 0 "+On(f)+" "+On(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+On(f-1)+" "+On(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+On(p.fontSize)+" Tf "+r),a.push(p.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+On(Jt.internal.getWidth(n))+" "+On(Jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Jt.RadioButton.Circle.YesNormal,e.D[n]=Jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=il(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Jt.internal.Bezier_C,l=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Lc(Jt.internal.getWidth(n)/2)+" "+Lc(Jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),l=Number((a*Jt.internal.Bezier_C).toFixed(5)),f=Number((r*Jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Lc(Jt.internal.getWidth(n)/2)+" "+Lc(Jt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),t.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),t.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),t.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Lc(Jt.internal.getWidth(n)/2)+" "+Lc(Jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+f+" "+f+" "+r+" 0 "+r+" c"),t.push("-"+f+" "+r+" -"+r+" "+f+" -"+r+" 0 c"),t.push("-"+r+" -"+f+" -"+f+" -"+r+" 0 -"+r+" c"),t.push(f+" -"+r+" "+r+" -"+f+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),l=Number((a*Jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Lc(Jt.internal.getWidth(n)/2)+" "+Lc(Jt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),t.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),t.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),t.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Jt.RadioButton.Cross.YesNormal,e.D[n]=Jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=il(n);e.scope=n.scope;var t=[],r=Jt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+On(Jt.internal.getWidth(n)-2)+" "+On(Jt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(On(r.x1.x)+" "+On(r.x1.y)+" m"),t.push(On(r.x2.x)+" "+On(r.x2.y)+" l"),t.push(On(r.x4.x)+" "+On(r.x4.y)+" m"),t.push(On(r.x3.x)+" "+On(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=il(n);e.scope=n.scope;var t=Jt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+On(Jt.internal.getWidth(n))+" "+On(Jt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+On(Jt.internal.getWidth(n)-2)+" "+On(Jt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(On(t.x1.x)+" "+On(t.x1.y)+" m"),r.push(On(t.x2.x)+" "+On(t.x2.y)+" l"),r.push(On(t.x4.x)+" "+On(t.x4.y)+" m"),r.push(On(t.x3.x)+" "+On(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=il(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+On(Jt.internal.getWidth(n))+" "+On(Jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Jt.internal.getWidth(n),t=Jt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Jt.internal.getWidth=function(n){var e=0;return Ur(n)==="object"&&(e=pw(n.Rect[2])),e},Jt.internal.getHeight=function(n){var e=0;return Ur(n)==="object"&&(e=pw(n.Rect[3])),e};var E7=zi.addField=function(n){if(_7(this,n),!(n instanceof qo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zi.AcroFormChoiceField=Mh,zi.AcroFormListBox=Ph,zi.AcroFormComboBox=kh,zi.AcroFormEditBox=Z1,zi.AcroFormButton=Rs,zi.AcroFormPushButton=J1,zi.AcroFormRadioButton=Bh,zi.AcroFormCheckBox=$1,zi.AcroFormTextField=Du,zi.AcroFormPasswordField=e0,zi.AcroFormAppearance=Jt,zi.AcroForm={ChoiceField:Mh,ListBox:Ph,ComboBox:kh,EditBox:Z1,Button:Rs,PushButton:J1,RadioButton:Bh,CheckBox:$1,TextField:Du,PasswordField:e0,Appearance:Jt},wn.AcroForm={ChoiceField:Mh,ListBox:Ph,ComboBox:kh,EditBox:Z1,Button:Rs,PushButton:J1,RadioButton:Bh,CheckBox:$1,TextField:Du,PasswordField:e0,Appearance:Jt};wn.AcroForm;function tb(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(V,F){var Y,xe,we,Se,Ie,_e=e;if((F=F||e)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(Ge(V))for(Ie in t)for(we=t[Ie],Y=0;Y<we.length;Y+=1){for(Se=!0,xe=0;xe<we[Y].length;xe+=1)if(we[Y][xe]!==void 0&&we[Y][xe]!==V[xe]){Se=!1;break}if(Se===!0){_e=Ie;break}}else for(Ie in t)for(we=t[Ie],Y=0;Y<we.length;Y+=1){for(Se=!0,xe=0;xe<we[Y].length;xe+=1)if(we[Y][xe]!==void 0&&we[Y][xe]!==V.charCodeAt(xe)){Se=!1;break}if(Se===!0){_e=Ie;break}}return _e===e&&F!==e&&(_e=F),_e},a=function V(F){for(var Y=this.internal.write,xe=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Se=[];if(Se.push({key:"Type",value:"/XObject"}),Se.push({key:"Subtype",value:"/Image"}),Se.push({key:"Width",value:F.width}),Se.push({key:"Height",value:F.height}),F.colorSpace===J.INDEXED?Se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Se.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===J.DEVICE_CMYK&&Se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Se.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Se.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var Ie="",_e=0,Te=F.transparency.length;_e<Te;_e++)Ie+=F.transparency[_e]+" "+F.transparency[_e]+" ";Se.push({key:"Mask",value:"["+Ie+"]"})}F.sMask!==void 0&&Se.push({key:"SMask",value:F.objectId+1+" 0 R"});var se=F.filter!==void 0?["/"+F.filter]:void 0;if(xe({data:F.data,additionalKeyValues:Se,alreadyAppliedFilters:se,objectId:F.objectId}),Y("endobj"),"sMask"in F&&F.sMask!==void 0){var Be="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,W={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Be,data:F.sMask};"filter"in F&&(W.filter=F.filter),V.call(this,W)}if(F.colorSpace===J.INDEXED){var ce=this.internal.newObject();xe({data:z(new Uint8Array(F.palette)),objectId:ce}),Y("endobj")}},l=function(){var V=this.internal.collections.addImage_images;for(var F in V)a.call(this,V[F])},f=function(){var V,F=this.internal.collections.addImage_images,Y=this.internal.write;for(var xe in F)Y("/I"+(V=F[xe]).index,V.objectId,"0","R")},p=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",f))},v=function(){var V=this.internal.collections.addImage_images;return p.call(this),V},w=function(){return Object.keys(this.internal.collections.addImage_images).length},T=function(V){return typeof n["process"+V.toUpperCase()]=="function"},I=function(V){return Ur(V)==="object"&&V.nodeType===1},M=function(V,F){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var Y=""+V.getAttribute("src");if(Y.indexOf("data:image/")===0)return sd(unescape(Y).split("base64,").pop());var xe=n.loadFile(Y,!0);if(xe!==void 0)return xe}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var we;switch(F){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;case"JPEG":case"JPG":default:we="image/jpeg"}return sd(V.toDataURL(we,1).split("base64,").pop())}},R=function(V){var F=this.internal.collections.addImage_images;if(F){for(var Y in F)if(V===F[Y].alias)return F[Y]}},H=function(V,F,Y){return V||F||(V=-96,F=-96),V<0&&(V=-1*Y.width*72/V/this.internal.scaleFactor),F<0&&(F=-1*Y.height*72/F/this.internal.scaleFactor),V===0&&(V=F*Y.width/Y.height),F===0&&(F=V*Y.height/Y.width),[V,F]},q=function(V,F,Y,xe,we,Se){var Ie=H.call(this,Y,xe,we),_e=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString,se=v.call(this);if(Y=Ie[0],xe=Ie[1],se[we.index]=we,Se){Se*=Math.PI/180;var Be=Math.cos(Se),W=Math.sin(Se),ce=function(be){return be.toFixed(4)},fe=[ce(Be),ce(W),ce(-1*W),ce(Be),0,0,"cm"]}this.internal.write("q"),Se?(this.internal.write([1,"0","0",1,_e(V),Te(F+xe),"cm"].join(" ")),this.internal.write(fe.join(" ")),this.internal.write([_e(Y),"0","0",_e(xe),"0","0","cm"].join(" "))):this.internal.write([_e(Y),"0","0",_e(xe),_e(V),Te(F+xe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},J=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},te=n.__addimage__.sHashCode=function(V){var F,Y,xe=0;if(typeof V=="string")for(Y=V.length,F=0;F<Y;F++)xe=(xe<<5)-xe+V.charCodeAt(F),xe|=0;else if(Ge(V))for(Y=V.byteLength/2,F=0;F<Y;F++)xe=(xe<<5)-xe+V[F],xe|=0;return xe},le=n.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var F=!0;return V.length===0&&(F=!1),V.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(F=!1),F},Ce=n.__addimage__.extractImageFromDataUrl=function(V){var F=(V=V||"").split("base64,"),Y=null;if(F.length===2){var xe=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(xe)&&(Y={mimeType:xe[1],charset:xe[2],data:F[1]})}return Y},De=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(V){return De()&&V instanceof ArrayBuffer};var Ge=n.__addimage__.isArrayBufferView=function(V){return De()&&typeof Uint32Array<"u"&&(V instanceof Int8Array||V instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array)},X=n.__addimage__.binaryStringToUint8Array=function(V){for(var F=V.length,Y=new Uint8Array(F),xe=0;xe<F;xe++)Y[xe]=V.charCodeAt(xe);return Y},z=n.__addimage__.arrayBufferToBinaryString=function(V){for(var F="",Y=Ge(V)?V:new Uint8Array(V),xe=0;xe<Y.length;xe+=8192)F+=String.fromCharCode.apply(null,Y.subarray(xe,xe+8192));return F};n.addImage=function(){var V,F,Y,xe,we,Se,Ie,_e,Te;if(typeof arguments[1]=="number"?(F=e,Y=arguments[1],xe=arguments[2],we=arguments[3],Se=arguments[4],Ie=arguments[5],_e=arguments[6],Te=arguments[7]):(F=arguments[1],Y=arguments[2],xe=arguments[3],we=arguments[4],Se=arguments[5],Ie=arguments[6],_e=arguments[7],Te=arguments[8]),Ur(V=arguments[0])==="object"&&!I(V)&&"imageData"in V){var se=V;V=se.imageData,F=se.format||F||e,Y=se.x||Y||0,xe=se.y||xe||0,we=se.w||se.width||we,Se=se.h||se.height||Se,Ie=se.alias||Ie,_e=se.compression||_e,Te=se.rotation||se.angle||Te}var Be=this.internal.getFilters();if(_e===void 0&&Be.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(Y)||isNaN(xe))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var W=j.call(this,V,F,Ie,_e);return q.call(this,Y,xe,we,Se,W,Te),this};var j=function(V,F,Y,xe){var we,Se,Ie;if(typeof V=="string"&&r(V)===e){V=unescape(V);var _e=ae(V,!1);(_e!==""||(_e=n.loadFile(V,!0))!==void 0)&&(V=_e)}if(I(V)&&(V=M(V,F)),F=r(V,F),!T(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Ie=Y)==null||Ie.length===0)&&(Y=function(Te){return typeof Te=="string"||Ge(Te)?te(Te):Ge(Te.data)?te(Te.data):null}(V)),(we=R.call(this,Y))||(De()&&(V instanceof Uint8Array||F==="RGBA"||(Se=V,V=X(V))),we=this["process"+F.toUpperCase()](V,w.call(this),Y,function(Te){return Te&&typeof Te=="string"&&(Te=Te.toUpperCase()),Te in n.image_compression?Te:G.NONE}(xe),Se)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},ae=n.__addimage__.convertBase64ToBinaryString=function(V,F){var Y;F=typeof F!="boolean"||F;var xe,we="";if(typeof V=="string"){xe=(Y=Ce(V))!==null?Y.data:V;try{we=sd(xe)}catch(Se){if(F)throw le(xe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return we};n.getImageProperties=function(V){var F,Y,xe="";if(I(V)&&(V=M(V)),typeof V=="string"&&r(V)===e&&((xe=ae(V,!1))===""&&(xe=n.loadFile(V)||""),V=xe),Y=r(V),!T(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!De()||V instanceof Uint8Array||(V=X(V)),!(F=this["process"+Y.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=Y,F}})(wn.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};wn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,l,f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,v=this.internal.getPageInfoByObjId(t.objId),w=t.pageContext.annotations,T=!1,I=0;I<w.length&&!T;I++)switch((r=w[I]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(T=!0);break;case"reference":case"text":case"freetext":T=!0}if(T!=0){this.internal.write("/Annots [");for(var M=0;M<w.length;M++){r=w[M];var R=this.internal.pdfEscape,H=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var q=this.internal.newAdditionalObject(),J=this.internal.newAdditionalObject(),G=this.internal.getEncryptor(q.objId),te=r.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+f(r.bounds.x)+" "+p(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w)+" "+p(r.bounds.y)+"] ")+"/Contents ("+R(G(r.contents))+")",l+=" /Popup "+J.objId+" 0 R",l+=" /P "+v.objId+" 0 R",l+=" /T ("+R(G(te))+") >>",q.content=l;var le=q.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+f(r.bounds.x+30)+" "+p(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w+30)+" "+p(r.bounds.y)+"] ")+" /Parent "+le,r.open&&(l+=" /Open true"),l+=" >>",J.content=l,this.internal.write(q.objId,"0 R",J.objId,"0 R");break;case"freetext":a="/Rect ["+f(r.bounds.x)+" "+p(r.bounds.y)+" "+f(r.bounds.x+r.bounds.w)+" "+p(r.bounds.y+r.bounds.h)+"] ";var Ce=r.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+R(H(r.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ce+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(r.options.name){var De=this.annotations._nameMap[r.options.name];r.options.pageNumber=De.page,r.options.top=De.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",l="",r.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+R(H(r.options.url))+") >>";else if(r.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,l+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Ge=p(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),l+=" /XYZ "+r.options.left+" "+Ge+" "+r.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,l,f){var p=this.internal.getCurrentPageInfo(),v=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:v(t),y:w(r),w:v(t+a),h:w(r+l)},options:f,type:"link"})},n.textWithLink=function(t,r,a,l){var f,p,v=this.getTextWidth(t),w=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){p=l.maxWidth;var T=this.splitTextToSize(t,p).length;f=Math.ceil(w*T)}else p=v,f=w;return this.text(t,r,a,l),a+=.2*w,l.align==="center"&&(r-=v/2),l.align==="right"&&(r-=v),this.link(r,a-w,p,f,l),v},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(wn.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var l=n.__arabicParser__.isInArabicSubstitutionA=function(q){return e[q.charCodeAt(0)]!==void 0},f=n.__arabicParser__.isArabicLetter=function(q){return typeof q=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(q)},p=n.__arabicParser__.isArabicEndLetter=function(q){return f(q)&&l(q)&&e[q.charCodeAt(0)].length<=2},v=n.__arabicParser__.isArabicAlfLetter=function(q){return f(q)&&a.indexOf(q.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(q){return f(q)&&l(q)&&e[q.charCodeAt(0)].length>=1};var w=n.__arabicParser__.arabicLetterHasFinalForm=function(q){return f(q)&&l(q)&&e[q.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(q){return f(q)&&l(q)&&e[q.charCodeAt(0)].length>=3};var T=n.__arabicParser__.arabicLetterHasMedialForm=function(q){return f(q)&&l(q)&&e[q.charCodeAt(0)].length==4},I=n.__arabicParser__.resolveLigatures=function(q){var J=0,G=t,te="",le=0;for(J=0;J<q.length;J+=1)G[q.charCodeAt(J)]!==void 0?(le++,typeof(G=G[q.charCodeAt(J)])=="number"&&(te+=String.fromCharCode(G),G=t,le=0),J===q.length-1&&(G=t,te+=q.charAt(J-(le-1)),J-=le-1,le=0)):(G=t,te+=q.charAt(J-le),J-=le,le=0);return te};n.__arabicParser__.isArabicDiacritic=function(q){return q!==void 0&&r[q.charCodeAt(0)]!==void 0};var M=n.__arabicParser__.getCorrectForm=function(q,J,G){return f(q)?l(q)===!1?-1:!w(q)||!f(J)&&!f(G)||!f(G)&&p(J)||p(q)&&!f(J)||p(q)&&v(J)||p(q)&&p(J)?0:T(q)&&f(J)&&!p(J)&&f(G)&&w(G)?3:p(q)||!f(G)?1:2:-1},R=function(q){var J=0,G=0,te=0,le="",Ce="",De="",Ge=(q=q||"").split("\\s+"),X=[];for(J=0;J<Ge.length;J+=1){for(X.push(""),G=0;G<Ge[J].length;G+=1)le=Ge[J][G],Ce=Ge[J][G-1],De=Ge[J][G+1],f(le)?(te=M(le,Ce,De),X[J]+=te!==-1?String.fromCharCode(e[le.charCodeAt(0)][te]):le):X[J]+=le;X[J]=I(X[J])}return X.join(" ")},H=n.__arabicParser__.processArabic=n.processArabic=function(){var q,J=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,G=[];if(Array.isArray(J)){var te=0;for(G=[],te=0;te<J.length;te+=1)Array.isArray(J[te])?G.push([R(J[te][0]),J[te][1],J[te][2]]):G.push([R(J[te])]);q=G}else q=R(J);return typeof arguments[0]=="string"?q:(arguments[0].text=q,arguments[0])};n.events.push(["preProcessText",H])}(wn.API),wn.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(p){t=p}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(p){r=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(p){a=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(p){l=p}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(p){f=p}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(wn.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var v=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return v},set:function(q){v=q}});var w=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(q){w=q}});var T=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return T},set:function(q){T=q}});var I=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return I},set:function(q){I=q}});var M=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return M},set:function(q){M=q}});var R=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return R},set:function(q){R=q}});var H=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return H},set:function(q){H=q}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(v){return r.call(this),this.internal.__cell__.headerFunction=typeof v=="function"?v:void 0,this},n.getTextDimensions=function(v,w){r.call(this);var T=(w=w||{}).fontSize||this.getFontSize(),I=w.font||this.getFont(),M=w.scaleFactor||this.internal.scaleFactor,R=0,H=0,q=0,J=this;if(!Array.isArray(v)&&typeof v!="string"){if(typeof v!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");v=String(v)}var G=w.maxWidth;G>0?typeof v=="string"?v=this.splitTextToSize(v,G):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(le,Ce){return le.concat(J.splitTextToSize(Ce,G))},[])):v=Array.isArray(v)?v:[v];for(var te=0;te<v.length;te++)R<(q=this.getStringUnitWidth(v[te],{font:I})*T)&&(R=q);return R!==0&&(H=v.length),{w:R/=M,h:Math.max((H*T*this.getLineHeightFactor()-T*(this.getLineHeightFactor()-1))/M,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var v=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(v.left,v.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=n.cell=function(){var v;v=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var w=this.internal.__cell__.lastCell,T=this.internal.__cell__.padding,I=this.internal.__cell__.margins||e,M=this.internal.__cell__.tableHeaderRow,R=this.internal.__cell__.printHeaders;return w.lineNumber!==void 0&&(w.lineNumber===v.lineNumber?(v.x=(w.x||0)+(w.width||0),v.y=w.y||0):w.y+w.height+v.height+I.bottom>this.getPageHeight()?(this.cellAddPage(),v.y=I.top,R&&M&&(this.printHeaderRow(v.lineNumber,!0),v.y+=M[0].height)):v.y=w.y+w.height||v.y),v.text[0]!==void 0&&(this.rect(v.x,v.y,v.width,v.height,t===!0?"FD":void 0),v.align==="right"?this.text(v.text,v.x+v.width-T,v.y+T,{align:"right",baseline:"top"}):v.align==="center"?this.text(v.text,v.x+v.width/2,v.y+T,{align:"center",baseline:"top",maxWidth:v.width-T-T}):this.text(v.text,v.x+T,v.y+T,{align:"left",baseline:"top",maxWidth:v.width-T-T})),this.internal.__cell__.lastCell=v,this};n.table=function(v,w,T,I,M){if(r.call(this),!T)throw new Error("No data for PDF table.");var R,H,q,J,G=[],te=[],le=[],Ce={},De={},Ge=[],X=[],z=(M=M||{}).autoSize||!1,j=M.printHeaders!==!1,ae=M.css&&M.css["font-size"]!==void 0?16*M.css["font-size"]:M.fontSize||12,V=M.margins||Object.assign({width:this.getPageWidth()},e),F=typeof M.padding=="number"?M.padding:3,Y=M.headerBackgroundColor||"#c8c8c8",xe=M.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=xe,this.setFontSize(ae),I==null)te=G=Object.keys(T[0]),le=G.map(function(){return"left"});else if(Array.isArray(I)&&Ur(I[0])==="object")for(G=I.map(function(se){return se.name}),te=I.map(function(se){return se.prompt||se.name||""}),le=I.map(function(se){return se.align||"left"}),R=0;R<I.length;R+=1)De[I[R].name]=I[R].width*(19.049976/25.4);else Array.isArray(I)&&typeof I[0]=="string"&&(te=G=I,le=G.map(function(){return"left"}));if(z||Array.isArray(I)&&typeof I[0]=="string")for(R=0;R<G.length;R+=1){for(Ce[J=G[R]]=T.map(function(se){return se[J]}),this.setFont(void 0,"bold"),Ge.push(this.getTextDimensions(te[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),H=Ce[J],this.setFont(void 0,"normal"),q=0;q<H.length;q+=1)Ge.push(this.getTextDimensions(H[q],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);De[J]=Math.max.apply(null,Ge)+F+F,Ge=[]}if(j){var we={};for(R=0;R<G.length;R+=1)we[G[R]]={},we[G[R]].text=te[R],we[G[R]].align=le[R];var Se=p.call(this,we,De);X=G.map(function(se){return new l(v,w,De[se],Se,we[se].text,void 0,we[se].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var Ie=I.reduce(function(se,Be){return se[Be.name]=Be.align,se},{});for(R=0;R<T.length;R+=1){"rowStart"in M&&M.rowStart instanceof Function&&M.rowStart({row:R,data:T[R]},this);var _e=p.call(this,T[R],De);for(q=0;q<G.length;q+=1){var Te=T[R][G[q]];"cellStart"in M&&M.cellStart instanceof Function&&M.cellStart({row:R,col:q,data:Te},this),f.call(this,new l(v,w,De[G[q]],_e,Te,R+2,Ie[G[q]]))}}return this.internal.__cell__.table_x=v,this.internal.__cell__.table_y=w,this};var p=function(v,w){var T=this.internal.__cell__.padding,I=this.internal.__cell__.table_font_size,M=this.internal.scaleFactor;return Object.keys(v).map(function(R){var H=v[R];return this.splitTextToSize(H.hasOwnProperty("text")?H.text:H,w[R]-T-T)},this).map(function(R){return this.getLineHeightFactor()*R.length*I/M+T+T},this).reduce(function(R,H){return Math.max(R,H)},0)};n.setTableHeaderRow=function(v){r.call(this),this.internal.__cell__.tableHeaderRow=v},n.printHeaderRow=function(v,w){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var T;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var I=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(I[0],I[1],I[2],I[3],void 0,-1)}this.setFont(void 0,"bold");for(var M=[],R=0;R<this.internal.__cell__.tableHeaderRow.length;R+=1){T=this.internal.__cell__.tableHeaderRow[R].clone(),w&&(T.y=this.internal.__cell__.margins.top||0,M.push(T)),T.lineNumber=v;var H=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,T),this.setTextColor(H)}M.length>0&&this.setTableHeaderRow(M),this.setFont(void 0,"normal"),t=!1}}(wn.API);var nb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_p=tb(rb),ib=[100,200,300,400,500,600,700,800,900],S7=tb(ib);function Ep(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(l){return nb[l=l||"normal"]?l:"normal"}(n.style),r=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(n.weight),a=function(l){return typeof _p[l=l||"normal"]=="number"?l:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function mw(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var T7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function C7(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},T7,t.genericFontFamilies||{}),l=null,f=null,p=0;p<e.length;++p)if(a[(l=Ep(e[p])).family]&&(l.family=a[l.family]),n.hasOwnProperty(l.family)){f=n[l.family];break}if(!(f=f||n[r]))throw new Error("Could not find a font-family for the rule '"+vw(l)+"' and default family '"+r+"'.");if(f=function(v,w){if(w[v])return w[v];var T=_p[v],I=T<=_p.normal?-1:1,M=mw(w,rb,T,I);if(!M)throw new Error("Could not find a matching font-stretch value for "+v);return M}(l.stretch,f),f=function(v,w){if(w[v])return w[v];for(var T=nb[v],I=0;I<T.length;++I)if(w[T[I]])return w[T[I]];throw new Error("Could not find a matching font-style for "+v)}(l.style,f),!(f=function(v,w){if(w[v])return w[v];if(v===400&&w[500])return w[500];if(v===500&&w[400])return w[400];var T=S7[v],I=mw(w,ib,T,v<400?-1:1);if(!I)throw new Error("Could not find a matching font-weight for value "+v);return I}(l.weight,f)))throw new Error("Failed to resolve a font for the rule '"+vw(l)+"'.");return f}function ww(n){return n.trimLeft()}function I7(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function N7(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var k1,xw,bw,kg=["times"];(function(n){var e,t,r,a,l,f,p,v,w,T=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new v,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new f,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new f,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new I(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,f=this.internal.Point,p=this.internal.Rectangle,v=this.internal.Matrix,w=new T}]);var I=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ce=W;Object.defineProperty(this,"pdf",{get:function(){return ce}});var fe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return fe},set:function(st){fe=!!st}});var be=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return be},set:function(st){be=!!st}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(st){isNaN(st)||(ve=st)}});var We=0;Object.defineProperty(this,"posY",{get:function(){return We},set:function(st){isNaN(st)||(We=st)}}),Object.defineProperty(this,"margin",{get:function(){return w.margin},set:function(st){var Ae;typeof st=="number"?Ae=[st,st,st,st]:((Ae=new Array(4))[0]=st[0],Ae[1]=st.length>=2?st[1]:Ae[0],Ae[2]=st.length>=3?st[2]:Ae[0],Ae[3]=st.length>=4?st[3]:Ae[1]),w.margin=Ae}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(st){Pe=st}});var Ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ye},set:function(st){Ye=st}});var ct=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ct},set:function(st){ct=st}}),Object.defineProperty(this,"ctx",{get:function(){return w},set:function(st){st instanceof T&&(w=st)}}),Object.defineProperty(this,"path",{get:function(){return w.path},set:function(st){w.path=st}});var ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return ut},set:function(st){ut=st}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(st){var Ae;Ae=M(st),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(st){var Ae=M(st);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(st){["butt","round","square"].indexOf(st)!==-1&&(this.ctx.lineCap=st,this.pdf.setLineCap(st))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(st){isNaN(st)||(this.ctx.lineWidth=st,this.pdf.setLineWidth(st))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(st){["bevel","round","miter"].indexOf(st)!==-1&&(this.ctx.lineJoin=st,this.pdf.setLineJoin(st))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(st){isNaN(st)||(this.ctx.miterLimit=st,this.pdf.setMiterLimit(st))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(st){this.ctx.textBaseline=st}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(st){["right","end","center","left","start"].indexOf(st)!==-1&&(this.ctx.textAlign=st)}});var Lt=null;function gt(st,Ae){if(Lt===null){var Gt=function(Nt){var lt=[];return Object.keys(Nt).forEach(function(Dt){Nt[Dt].forEach(function(at){var kt=null;switch(at){case"bold":kt={family:Dt,weight:"bold"};break;case"italic":kt={family:Dt,style:"italic"};break;case"bolditalic":kt={family:Dt,weight:"bold",style:"italic"};break;case"":case"normal":kt={family:Dt}}kt!==null&&(kt.ref={name:Dt,style:at},lt.push(kt))})}),lt}(st.getFontList());Lt=function(Nt){for(var lt={},Dt=0;Dt<Nt.length;++Dt){var at=Ep(Nt[Dt]),kt=at.family,Qt=at.stretch,zt=at.style,mn=at.weight;lt[kt]=lt[kt]||{},lt[kt][Qt]=lt[kt][Qt]||{},lt[kt][Qt][zt]=lt[kt][Qt][zt]||{},lt[kt][Qt][zt][mn]=at}return lt}(Gt.concat(Ae))}return Lt}var Yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yt},set:function(st){Lt=null,Yt=st}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(st){var Ae;if(this.ctx.font=st,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(st))!==null){var Gt=Ae[1],Nt=(Ae[2],Ae[3]),lt=Ae[4],Dt=(Ae[5],Ae[6]),at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(lt)[2];lt=Math.floor(at==="px"?parseFloat(lt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(lt)*this.pdf.getFontSize():parseFloat(lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(lt);var kt=function(Ht){var Cn,Ft,ei=[],en=Ht.trim();if(en==="")return kg;if(en in yw)return[yw[en]];for(;en!=="";){switch(Ft=null,Cn=(en=ww(en)).charAt(0)){case'"':case"'":Ft=I7(en.substring(1),Cn);break;default:Ft=N7(en)}if(Ft===null||(ei.push(Ft[0]),(en=ww(Ft[1]))!==""&&en.charAt(0)!==","))return kg;en=en.replace(/^,/,"")}return ei}(Dt);if(this.fontFaces){var Qt=C7(gt(this.pdf,this.fontFaces),kt.map(function(Ht){return{family:Ht,stretch:"normal",weight:Nt,style:Gt}}));this.pdf.setFont(Qt.ref.name,Qt.ref.style)}else{var zt="";(Nt==="bold"||parseInt(Nt,10)>=700||Gt==="bold")&&(zt="bold"),Gt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var mn="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ln=0;ln<kt.length;ln++){if(this.pdf.internal.getFont(kt[ln],zt,{noFallback:!0,disableWarning:!0})!==void 0){mn=kt[ln];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(kt[ln],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mn=kt[ln],zt="bold";else if(this.pdf.internal.getFont(kt[ln],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mn=kt[ln],zt="normal";break}}if(mn===""){for(var Sn=0;Sn<kt.length;Sn++)if(Vt[kt[Sn]]){mn=Vt[kt[Sn]];break}}mn=mn===""?"Times":mn,this.pdf.setFont(mn,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(st){this.ctx.globalCompositeOperation=st}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(st){this.ctx.globalAlpha=st}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(st){this.ctx.lineDashOffset=st,Be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(st){this.ctx.lineDash=st,Be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(st){this.ctx.ignoreClearRect=!!st}})};I.prototype.setLineDash=function(W){this.lineDash=W},I.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},I.prototype.fill=function(){Ce.call(this,"fill",!1)},I.prototype.stroke=function(){Ce.call(this,"stroke",!1)},I.prototype.beginPath=function(){this.path=[{type:"begin"}]},I.prototype.moveTo=function(W,ce){if(isNaN(W)||isNaN(ce))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var fe=this.ctx.transform.applyToPoint(new f(W,ce));this.path.push({type:"mt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new f(W,ce)},I.prototype.closePath=function(){var W=new f(0,0),ce=0;for(ce=this.path.length-1;ce!==-1;ce--)if(this.path[ce].type==="begin"&&Ur(this.path[ce+1])==="object"&&typeof this.path[ce+1].x=="number"){W=new f(this.path[ce+1].x,this.path[ce+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(W.x,W.y)},I.prototype.lineTo=function(W,ce){if(isNaN(W)||isNaN(ce))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var fe=this.ctx.transform.applyToPoint(new f(W,ce));this.path.push({type:"lt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new f(fe.x,fe.y)},I.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ce.call(this,null,!0)},I.prototype.quadraticCurveTo=function(W,ce,fe,be){if(isNaN(fe)||isNaN(be)||isNaN(W)||isNaN(ce))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new f(fe,be)),We=this.ctx.transform.applyToPoint(new f(W,ce));this.path.push({type:"qct",x1:We.x,y1:We.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new f(ve.x,ve.y)},I.prototype.bezierCurveTo=function(W,ce,fe,be,ve,We){if(isNaN(ve)||isNaN(We)||isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new f(ve,We)),Ye=this.ctx.transform.applyToPoint(new f(W,ce)),ct=this.ctx.transform.applyToPoint(new f(fe,be));this.path.push({type:"bct",x1:Ye.x,y1:Ye.y,x2:ct.x,y2:ct.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new f(Pe.x,Pe.y)},I.prototype.arc=function(W,ce,fe,be,ve,We){if(isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be)||isNaN(ve))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(We=!!We,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new f(W,ce));W=Pe.x,ce=Pe.y;var Ye=this.ctx.transform.applyToPoint(new f(0,fe)),ct=this.ctx.transform.applyToPoint(new f(0,0));fe=Math.sqrt(Math.pow(Ye.x-ct.x,2)+Math.pow(Ye.y-ct.y,2))}Math.abs(ve-be)>=2*Math.PI&&(be=0,ve=2*Math.PI),this.path.push({type:"arc",x:W,y:ce,radius:fe,startAngle:be,endAngle:ve,counterclockwise:We})},I.prototype.arcTo=function(W,ce,fe,be,ve){throw new Error("arcTo not implemented.")},I.prototype.rect=function(W,ce,fe,be){if(isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,ce),this.lineTo(W+fe,ce),this.lineTo(W+fe,ce+be),this.lineTo(W,ce+be),this.lineTo(W,ce),this.lineTo(W+fe,ce),this.lineTo(W,ce)},I.prototype.fillRect=function(W,ce,fe,be){if(isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!R.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,ce,fe,be),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},I.prototype.strokeRect=function(W,ce,fe,be){if(isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");H.call(this)||(this.beginPath(),this.rect(W,ce,fe,be),this.stroke())},I.prototype.clearRect=function(W,ce,fe,be){if(isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,ce,fe,be))},I.prototype.save=function(W){W=typeof W!="boolean"||W;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("q");if(this.pdf.setPage(ce),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var be=new T(this.ctx);this.ctxStack.push(this.ctx),this.ctx=be}},I.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("Q");this.pdf.setPage(ce),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},I.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var M=function(W){var ce,fe,be,ve;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))ce=0,fe=0,be=0,ve=0;else{var We=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(We!==null)ce=parseInt(We[1]),fe=parseInt(We[2]),be=parseInt(We[3]),ve=1;else if((We=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)ce=parseInt(We[1]),fe=parseInt(We[2]),be=parseInt(We[3]),ve=parseFloat(We[4]);else{if(ve=1,typeof W=="string"&&W.charAt(0)!=="#"){var Pe=new K4(W);W=Pe.ok?Pe.toHex():"#000000"}W.length===4?(ce=W.substring(1,2),ce+=ce,fe=W.substring(2,3),fe+=fe,be=W.substring(3,4),be+=be):(ce=W.substring(1,3),fe=W.substring(3,5),be=W.substring(5,7)),ce=parseInt(ce,16),fe=parseInt(fe,16),be=parseInt(be,16)}}return{r:ce,g:fe,b:be,a:ve,style:W}},R=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},H=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};I.prototype.fillText=function(W,ce,fe,be){if(isNaN(ce)||isNaN(fe)||typeof W!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(be=isNaN(be)?void 0:be,!R.call(this)){var ve=_e(this.ctx.transform.rotation),We=this.ctx.transform.scaleX;F.call(this,{text:W,x:ce,y:fe,scale:We,angle:ve,align:this.textAlign,maxWidth:be})}},I.prototype.strokeText=function(W,ce,fe,be){if(isNaN(ce)||isNaN(fe)||typeof W!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!H.call(this)){be=isNaN(be)?void 0:be;var ve=_e(this.ctx.transform.rotation),We=this.ctx.transform.scaleX;F.call(this,{text:W,x:ce,y:fe,scale:We,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:be})}},I.prototype.measureText=function(W){if(typeof W!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ce=this.pdf,fe=this.pdf.internal.scaleFactor,be=ce.internal.getFontSize(),ve=ce.getStringUnitWidth(W)*be/ce.internal.scaleFactor,We=function(Pe){var Ye=(Pe=Pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ye}}),this};return new We({width:ve*=Math.round(96*fe/72*1e4)/1e4})},I.prototype.scale=function(W,ce){if(isNaN(W)||isNaN(ce))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var fe=new v(W,0,0,ce,0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},I.prototype.rotate=function(W){if(isNaN(W))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ce=new v(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},I.prototype.translate=function(W,ce){if(isNaN(W)||isNaN(ce))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var fe=new v(1,0,0,1,W,ce);this.ctx.transform=this.ctx.transform.multiply(fe)},I.prototype.transform=function(W,ce,fe,be,ve,We){if(isNaN(W)||isNaN(ce)||isNaN(fe)||isNaN(be)||isNaN(ve)||isNaN(We))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new v(W,ce,fe,be,ve,We);this.ctx.transform=this.ctx.transform.multiply(Pe)},I.prototype.setTransform=function(W,ce,fe,be,ve,We){W=isNaN(W)?1:W,ce=isNaN(ce)?0:ce,fe=isNaN(fe)?0:fe,be=isNaN(be)?1:be,ve=isNaN(ve)?0:ve,We=isNaN(We)?0:We,this.ctx.transform=new v(W,ce,fe,be,ve,We)};var q=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};I.prototype.drawImage=function(W,ce,fe,be,ve,We,Pe,Ye,ct){var ut=this.pdf.getImageProperties(W),Lt=1,gt=1,Yt=1,st=1;be!==void 0&&Ye!==void 0&&(Yt=Ye/be,st=ct/ve,Lt=ut.width/be*Ye/be,gt=ut.height/ve*ct/ve),We===void 0&&(We=ce,Pe=fe,ce=0,fe=0),be!==void 0&&Ye===void 0&&(Ye=be,ct=ve),be===void 0&&Ye===void 0&&(Ye=ut.width,ct=ut.height);for(var Ae,Gt=this.ctx.transform.decompose(),Nt=_e(Gt.rotate.shx),lt=new v,Dt=(lt=(lt=(lt=lt.multiply(Gt.translate)).multiply(Gt.skew)).multiply(Gt.scale)).applyToRectangle(new p(We-ce*Yt,Pe-fe*st,be*Lt,ve*gt)),at=J.call(this,Dt),kt=[],Qt=0;Qt<at.length;Qt+=1)kt.indexOf(at[Qt])===-1&&kt.push(at[Qt]);if(le(kt),this.autoPaging)for(var zt=kt[0],mn=kt[kt.length-1],Vt=zt;Vt<mn+1;Vt++){this.pdf.setPage(Vt);var ln=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Sn=Vt===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Cn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=Vt===1?0:Ht+(Vt-2)*Cn;if(this.ctx.clip_path.length!==0){var ei=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Ae,this.posX+this.margin[3],-Ft+Sn+this.ctx.prevPageLastElemOffset),De.call(this,"fill",!0),this.path=ei}var en=JSON.parse(JSON.stringify(Dt));en=te([en],this.posX+this.margin[3],-Ft+Sn+this.ctx.prevPageLastElemOffset)[0];var Et=(Vt>zt||Vt<mn)&&q.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ln,Cn,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",en.x,en.y,en.w,en.h,null,null,Nt),Et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,Nt)};var J=function(W,ce,fe){var be=[];ce=ce||this.pdf.internal.pageSize.width,fe=fe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":be.push(Math.floor((W.y+ve)/fe)+1);break;case"arc":be.push(Math.floor((W.y+ve-W.radius)/fe)+1),be.push(Math.floor((W.y+ve+W.radius)/fe)+1);break;case"qct":var We=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);be.push(Math.floor((We.y+ve)/fe)+1),be.push(Math.floor((We.y+We.h+ve)/fe)+1);break;case"bct":var Pe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);be.push(Math.floor((Pe.y+ve)/fe)+1),be.push(Math.floor((Pe.y+Pe.h+ve)/fe)+1);break;case"rect":be.push(Math.floor((W.y+ve)/fe)+1),be.push(Math.floor((W.y+W.h+ve)/fe)+1)}for(var Ye=0;Ye<be.length;Ye+=1)for(;this.pdf.internal.getNumberOfPages()<be[Ye];)G.call(this);return be},G=function(){var W=this.fillStyle,ce=this.strokeStyle,fe=this.font,be=this.lineCap,ve=this.lineWidth,We=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=ce,this.font=fe,this.lineCap=be,this.lineWidth=ve,this.lineJoin=We},te=function(W,ce,fe){for(var be=0;be<W.length;be++)switch(W[be].type){case"bct":W[be].x2+=ce,W[be].y2+=fe;case"qct":W[be].x1+=ce,W[be].y1+=fe;case"mt":case"lt":case"arc":default:W[be].x+=ce,W[be].y+=fe}return W},le=function(W){return W.sort(function(ce,fe){return ce-fe})},Ce=function(W,ce){for(var fe,be,ve=this.fillStyle,We=this.strokeStyle,Pe=this.lineCap,Ye=this.lineWidth,ct=Math.abs(Ye*this.ctx.transform.scaleX),ut=this.lineJoin,Lt=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),Yt=[],st=0;st<gt.length;st++)if(gt[st].x!==void 0)for(var Ae=J.call(this,gt[st]),Gt=0;Gt<Ae.length;Gt+=1)Yt.indexOf(Ae[Gt])===-1&&Yt.push(Ae[Gt]);for(var Nt=0;Nt<Yt.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<Yt[Nt];)G.call(this);if(le(Yt),this.autoPaging)for(var lt=Yt[0],Dt=Yt[Yt.length-1],at=lt;at<Dt+1;at++){this.pdf.setPage(at),this.fillStyle=ve,this.strokeStyle=We,this.lineCap=Pe,this.lineWidth=ct,this.lineJoin=ut;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=at===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=at===1?0:zt+(at-2)*mn;if(this.ctx.clip_path.length!==0){var ln=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(fe,this.posX+this.margin[3],-Vt+Qt+this.ctx.prevPageLastElemOffset),De.call(this,W,!0),this.path=ln}if(be=JSON.parse(JSON.stringify(Lt)),this.path=te(be,this.posX+this.margin[3],-Vt+Qt+this.ctx.prevPageLastElemOffset),ce===!1||at===0){var Sn=(at>lt||at<Dt)&&q.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,mn,null).clip().discardPath()),De.call(this,W,ce),Sn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ye}else this.lineWidth=ct,De.call(this,W,ce),this.lineWidth=Ye;this.path=Lt},De=function(W,ce){if((W!=="stroke"||ce||!H.call(this))&&(W==="stroke"||ce||!R.call(this))){for(var fe,be,ve=[],We=this.path,Pe=0;Pe<We.length;Pe++){var Ye=We[Pe];switch(Ye.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Ye,deltas:[],abs:[]});break;case"lt":var ct=ve.length;if(We[Pe-1]&&!isNaN(We[Pe-1].x)&&(fe=[Ye.x-We[Pe-1].x,Ye.y-We[Pe-1].y],ct>0)){for(;ct>=0;ct--)if(ve[ct-1].close!==!0&&ve[ct-1].begin!==!0){ve[ct-1].deltas.push(fe),ve[ct-1].abs.push(Ye);break}}break;case"bct":fe=[Ye.x1-We[Pe-1].x,Ye.y1-We[Pe-1].y,Ye.x2-We[Pe-1].x,Ye.y2-We[Pe-1].y,Ye.x-We[Pe-1].x,Ye.y-We[Pe-1].y],ve[ve.length-1].deltas.push(fe);break;case"qct":var ut=We[Pe-1].x+2/3*(Ye.x1-We[Pe-1].x),Lt=We[Pe-1].y+2/3*(Ye.y1-We[Pe-1].y),gt=Ye.x+2/3*(Ye.x1-Ye.x),Yt=Ye.y+2/3*(Ye.y1-Ye.y),st=Ye.x,Ae=Ye.y;fe=[ut-We[Pe-1].x,Lt-We[Pe-1].y,gt-We[Pe-1].x,Yt-We[Pe-1].y,st-We[Pe-1].x,Ae-We[Pe-1].y],ve[ve.length-1].deltas.push(fe);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Ye)}}be=ce?null:W==="stroke"?"stroke":"fill";for(var Gt=!1,Nt=0;Nt<ve.length;Nt++)if(ve[Nt].arc)for(var lt=ve[Nt].abs,Dt=0;Dt<lt.length;Dt++){var at=lt[Dt];at.type==="arc"?z.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,ce,!Gt):Y.call(this,at.x,at.y),Gt=!0}else if(ve[Nt].close===!0)this.pdf.internal.out("h"),Gt=!1;else if(ve[Nt].begin!==!0){var kt=ve[Nt].start.x,Qt=ve[Nt].start.y;xe.call(this,ve[Nt].deltas,kt,Qt),Gt=!0}be&&j.call(this,be),ce&&ae.call(this)}},Ge=function(W){var ce=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,fe=ce*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-fe;case"top":return W+ce-fe;case"hanging":return W+ce-2*fe;case"middle":return W+ce/2-fe;case"ideographic":return W;case"alphabetic":default:return W}},X=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};I.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(ce,fe){this.colorStops.push([ce,fe])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},I.prototype.createPattern=function(){return this.createLinearGradient()},I.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(W,ce,fe,be,ve,We,Pe,Ye,ct){for(var ut=Se.call(this,fe,be,ve,We),Lt=0;Lt<ut.length;Lt++){var gt=ut[Lt];Lt===0&&(ct?V.call(this,gt.x1+W,gt.y1+ce):Y.call(this,gt.x1+W,gt.y1+ce)),we.call(this,W,ce,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Ye?ae.call(this):j.call(this,Pe)},j=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(W,ce){this.pdf.internal.out(t(W)+" "+r(ce)+" m")},F=function(W){var ce;switch(W.align){case"right":case"end":ce="right";break;case"center":ce="center";break;case"left":case"start":default:ce="left"}var fe=this.pdf.getTextDimensions(W.text),be=Ge.call(this,W.y),ve=X.call(this,be)-fe.h,We=this.ctx.transform.applyToPoint(new f(W.x,be)),Pe=this.ctx.transform.decompose(),Ye=new v;Ye=(Ye=(Ye=Ye.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var ct,ut,Lt,gt=this.ctx.transform.applyToRectangle(new p(W.x,be,fe.w,fe.h)),Yt=Ye.applyToRectangle(new p(W.x,ve,fe.w,fe.h)),st=J.call(this,Yt),Ae=[],Gt=0;Gt<st.length;Gt+=1)Ae.indexOf(st[Gt])===-1&&Ae.push(st[Gt]);if(le(Ae),this.autoPaging)for(var Nt=Ae[0],lt=Ae[Ae.length-1],Dt=Nt;Dt<lt+1;Dt++){this.pdf.setPage(Dt);var at=Dt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[2],zt=Qt-this.margin[0],mn=this.pdf.internal.pageSize.width-this.margin[1],Vt=mn-this.margin[3],ln=Dt===1?0:kt+(Dt-2)*zt;if(this.ctx.clip_path.length!==0){var Sn=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(ct,this.posX+this.margin[3],-1*ln+at),De.call(this,"fill",!0),this.path=Sn}var Ht=te([JSON.parse(JSON.stringify(Yt))],this.posX+this.margin[3],-ln+at+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ut*W.scale),Lt=this.lineWidth,this.lineWidth=Lt*W.scale);var Cn=this.autoPaging!=="text";if(Cn||Ht.y+Ht.h<=Qt){if(Cn||Ht.y>=at&&Ht.x<=mn){var Ft=Cn?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||mn-Ht.x)[0],ei=te([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-ln+at+this.ctx.prevPageLastElemOffset)[0],en=Cn&&(Dt>Nt||Dt<lt)&&q.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,zt,null).clip().discardPath()),this.pdf.text(Ft,ei.x,ei.y,{angle:W.angle,align:ce,renderingMode:W.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else Ht.y<Qt&&(this.ctx.prevPageLastElemOffset+=Qt-Ht.y);W.scale>=.01&&(this.pdf.setFontSize(ut),this.lineWidth=Lt)}else W.scale>=.01&&(ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ut*W.scale),Lt=this.lineWidth,this.lineWidth=Lt*W.scale),this.pdf.text(W.text,We.x+this.posX,We.y+this.posY,{angle:W.angle,align:ce,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(ut),this.lineWidth=Lt)},Y=function(W,ce,fe,be){fe=fe||0,be=be||0,this.pdf.internal.out(t(W+fe)+" "+r(ce+be)+" l")},xe=function(W,ce,fe){return this.pdf.lines(W,ce,fe,null,null)},we=function(W,ce,fe,be,ve,We,Pe,Ye){this.pdf.internal.out([e(a(fe+W)),e(l(be+ce)),e(a(ve+W)),e(l(We+ce)),e(a(Pe+W)),e(l(Ye+ce)),"c"].join(" "))},Se=function(W,ce,fe,be){for(var ve=2*Math.PI,We=Math.PI/2;ce>fe;)ce-=ve;var Pe=Math.abs(fe-ce);Pe<ve&&be&&(Pe=ve-Pe);for(var Ye=[],ct=be?-1:1,ut=ce;Pe>1e-5;){var Lt=ut+ct*Math.min(Pe,We);Ye.push(Ie.call(this,W,ut,Lt)),Pe-=Math.abs(Lt-ut),ut=Lt}return Ye},Ie=function(W,ce,fe){var be=(fe-ce)/2,ve=W*Math.cos(be),We=W*Math.sin(be),Pe=ve,Ye=-We,ct=Pe*Pe+Ye*Ye,ut=ct+Pe*ve+Ye*We,Lt=4/3*(Math.sqrt(2*ct*ut)-ut)/(Pe*We-Ye*ve),gt=Pe-Lt*Ye,Yt=Ye+Lt*Pe,st=gt,Ae=-Yt,Gt=be+ce,Nt=Math.cos(Gt),lt=Math.sin(Gt);return{x1:W*Math.cos(ce),y1:W*Math.sin(ce),x2:gt*Nt-Yt*lt,y2:gt*lt+Yt*Nt,x3:st*Nt-Ae*lt,y3:st*lt+Ae*Nt,x4:W*Math.cos(fe),y4:W*Math.sin(fe)}},_e=function(W){return 180*W/Math.PI},Te=function(W,ce,fe,be,ve,We){var Pe=W+.5*(fe-W),Ye=ce+.5*(be-ce),ct=ve+.5*(fe-ve),ut=We+.5*(be-We),Lt=Math.min(W,ve,Pe,ct),gt=Math.max(W,ve,Pe,ct),Yt=Math.min(ce,We,Ye,ut),st=Math.max(ce,We,Ye,ut);return new p(Lt,Yt,gt-Lt,st-Yt)},se=function(W,ce,fe,be,ve,We,Pe,Ye){var ct,ut,Lt,gt,Yt,st,Ae,Gt,Nt,lt,Dt,at,kt,Qt,zt=fe-W,mn=be-ce,Vt=ve-fe,ln=We-be,Sn=Pe-ve,Ht=Ye-We;for(ut=0;ut<41;ut++)Nt=(Ae=(Lt=W+(ct=ut/40)*zt)+ct*((Yt=fe+ct*Vt)-Lt))+ct*(Yt+ct*(ve+ct*Sn-Yt)-Ae),lt=(Gt=(gt=ce+ct*mn)+ct*((st=be+ct*ln)-gt))+ct*(st+ct*(We+ct*Ht-st)-Gt),ut==0?(Dt=Nt,at=lt,kt=Nt,Qt=lt):(Dt=Math.min(Dt,Nt),at=Math.min(at,lt),kt=Math.max(kt,Nt),Qt=Math.max(Qt,lt));return new p(Math.round(Dt),Math.round(at),Math.round(kt-Dt),Math.round(Qt-at))},Be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,ce,fe=(W=this.ctx.lineDash,ce=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:ce}));this.prevLineDash!==fe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=fe)}}})(wn.API),function(n){var e=function(l){var f,p,v,w,T,I,M,R,H,q;for(p=[],v=0,w=(l+=f="\0\0\0\0".slice(l.length%4||4)).length;w>v;v+=4)(T=(l.charCodeAt(v)<<24)+(l.charCodeAt(v+1)<<16)+(l.charCodeAt(v+2)<<8)+l.charCodeAt(v+3))!==0?(I=(T=((T=((T=((T=(T-(q=T%85))/85)-(H=T%85))/85)-(R=T%85))/85)-(M=T%85))/85)%85,p.push(I+33,M+33,R+33,H+33,q+33)):p.push(122);return function(J,G){for(var te=G;te>0;te--)J.pop()}(p,f.length),String.fromCharCode.apply(String,p)+"~>"},t=function(l){var f,p,v,w,T,I=String,M="length",R=255,H="charCodeAt",q="slice",J="replace";for(l[q](-2),l=l[q](0,-2)[J](/\s/g,"")[J]("z","!!!!!"),v=[],w=0,T=(l+=f="uuuuu"[q](l[M]%5||5))[M];T>w;w+=5)p=52200625*(l[H](w)-33)+614125*(l[H](w+1)-33)+7225*(l[H](w+2)-33)+85*(l[H](w+3)-33)+(l[H](w+4)-33),v.push(R&p>>24,R&p>>16,R&p>>8,R&p);return function(G,te){for(var le=te;le>0;le--)G.pop()}(v,f[M]),I.fromCharCode.apply(I,v)},r=function(l){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),f.test(l)===!1)return"";for(var p="",v=0;v<l.length;v+=2)p+=String.fromCharCode("0x"+(l[v]+l[v+1]));return p},a=function(l){for(var f=new Uint8Array(l.length),p=l.length;p--;)f[p]=l.charCodeAt(p);return l=(f=vp(f)).reduce(function(v,w){return v+String.fromCharCode(w)},"")};n.processDataByFilters=function(l,f){var p=0,v=l||"",w=[];for(typeof(f=f||[])=="string"&&(f=[f]),p=0;p<f.length;p+=1)switch(f[p]){case"ASCII85Decode":case"/ASCII85Decode":v=t(v),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=e(v),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=r(v),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=v.split("").map(function(T){return("0"+T.charCodeAt().toString(16)).slice(-2)}).join("")+">",w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=a(v),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[p]+'" is not implemented')}return{data:v,reverseChain:w.reverse().join(" ")}}}(wn.API),function(n){n.loadFile=function(e,t,r){return function(a,l,f){l=l!==!1,f=typeof f=="function"?f:function(){};var p=void 0;try{p=function(v,w,T){var I=new XMLHttpRequest,M=0,R=function(H){var q=H.length,J=[],G=String.fromCharCode;for(M=0;M<q;M+=1)J.push(G(255&H.charCodeAt(M)));return J.join("")};if(I.open("GET",v,!w),I.overrideMimeType("text/plain; charset=x-user-defined"),w===!1&&(I.onload=function(){I.status===200?T(R(this.responseText)):T(void 0)}),I.send(null),w&&I.status===200)return R(I.responseText)}(a,l,f)}catch{}return p}(e,t,r)},n.loadImageFile=n.loadFile}(wn.API),function(n){function e(){return(bn.html2canvas?Promise.resolve(bn.html2canvas):dp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function t(){return(bn.DOMPurify?Promise.resolve(bn.DOMPurify):dp(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var r=function(f){var p=Ur(f);return p==="undefined"?"undefined":p==="string"||f instanceof String?"string":p==="number"||f instanceof Number?"number":p==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":p==="object"?"object":"unknown"},a=function(f,p){var v=document.createElement(f);for(var w in p.className&&(v.className=p.className),p.innerHTML&&p.dompurify&&(v.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)v.style[w]=p.style[w];return v},l=function f(p){var v=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),w=f.convert(Promise.resolve(),v);return w=(w=w.setProgress(1,f,1,[f])).set(p)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(f,p){return f.__proto__=p||l.prototype,f},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(f,p){return this.then(function(){switch(p=p||function(v){switch(r(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(t).then(function(v){return this.set({src:a("div",{innerHTML:f,dompurify:v})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},l.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=function v(w,T){for(var I=w.nodeType===3?document.createTextNode(w.nodeValue):w.cloneNode(!1),M=w.firstChild;M;M=M.nextSibling)T!==!0&&M.nodeType===1&&M.nodeName==="SCRIPT"||I.appendChild(v(M,T));return w.nodeType===1&&(w.nodeName==="CANVAS"?(I.width=w.width,I.height=w.height,I.getContext("2d").drawImage(w,0,0)):w.nodeName!=="TEXTAREA"&&w.nodeName!=="SELECT"||(I.value=w.value),I.addEventListener("load",function(){I.scrollTop=w.scrollTop,I.scrollLeft=w.scrollLeft},!0)),I}(this.prop.src,this.opt.html2canvas.javascriptEnabled);p.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(e).then(function(p){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,p(this.prop.container,v)}).then(function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(e).then(function(p){var v=this.opt.jsPDF,w=this.opt.fontFaces,T=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,I=Object.assign({async:!0,allowTaint:!0,scale:T,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete I.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=w,w)for(var M=0;M<w.length;++M){var R=w[M],H=R.src.find(function(q){return q.format==="truetype"});H&&v.addFont(H.url,R.ref.name,R.ref.style)}return I.windowHeight=I.windowHeight||0,I.windowHeight=I.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):I.windowHeight,v.context2d.save(!0),p(this.prop.container,I)}).then(function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(f,p,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(f,p):this.outputPdf(f,p)},l.prototype.outputPdf=function(f,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,p)})},l.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},l.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(f){if(r(f)!=="object")return this;var p=Object.keys(f||{}).map(function(v){if(v in l.template.prop)return function(){this.prop[v]=f[v]};switch(v){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[v]=f[v]}}},this);return this.then(function(){return this.thenList(p)})},l.prototype.get=function(f,p){return this.then(function(){var v=f in l.template.prop?this.prop[f]:this.opt[f];return p?p(v):v})},l.prototype.setMargin=function(f){return this.then(function(){switch(r(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},l.prototype.setPageSize=function(f){function p(v,w){return Math.floor(v*w/72*96)}return this.then(function(){(f=f||wn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:p(f.inner.width,f.k),height:p(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},l.prototype.setProgress=function(f,p,v,w){return f!=null&&(this.progress.val=f),p!=null&&(this.progress.state=p),v!=null&&(this.progress.n=v),w!=null&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(f,p,v,w){return this.setProgress(f?this.progress.val+f:null,p||null,v?this.progress.n+v:null,w?this.progress.stack.concat(w):null)},l.prototype.then=function(f,p){var v=this;return this.thenCore(f,p,function(w,T){return v.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(I){return v.updateProgress(null,w),I}).then(w,T).then(function(I){return v.updateProgress(1),I})})},l.prototype.thenCore=function(f,p,v){v=v||Promise.prototype.then,f&&(f=f.bind(this)),p&&(p=p.bind(this));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),T=v.call(w,f,p);return l.convert(T,this.__proto__)},l.prototype.thenExternal=function(f,p){return Promise.prototype.then.call(this,f,p)},l.prototype.thenList=function(f){var p=this;return f.forEach(function(v){p=p.thenCore(v)}),p},l.prototype.catch=function(f){f&&(f=f.bind(this));var p=Promise.prototype.catch.call(this,f);return l.convert(p,this)},l.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},l.prototype.error=function(f){return this.then(function(){throw new Error(f)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,wn.getPageSize=function(f,p,v){if(Ur(f)==="object"){var w=f;f=w.orientation,p=w.unit||p,v=w.format||v}p=p||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var T,I=(""+v).toLowerCase(),M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":T=1;break;case"mm":T=72/25.4;break;case"cm":T=72/2.54;break;case"in":T=72;break;case"px":T=.75;break;case"pc":case"em":T=12;break;case"ex":T=6;break;default:throw"Invalid unit: "+p}var R,H=0,q=0;if(M.hasOwnProperty(I))H=M[I][1]/T,q=M[I][0]/T;else try{H=v[1],q=v[0]}catch{throw new Error("Invalid format: "+v)}if(f==="p"||f==="portrait")f="p",q>H&&(R=q,q=H,H=R);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",H>q&&(R=q,q=H,H=R)}return{width:q,height:H,unit:p,k:T,orientation:f}},n.html=function(f,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(Ep):null;var v=new l(p);return p.worker?v:v.from(f).doCallback()}}(wn.API),wn.API.addJS=function(n){return bw=n,this.internal.events.subscribe("postPutResources",function(){k1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(k1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){k1!==void 0&&xw!==void 0&&this.internal.out("/Names <</JavaScript "+k1+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),l=0;l<a.length;l++){var f=a[l],p=r.exec(f);if(p!=null){var v=p[1];t.internal.newObjectDeferredBegin(v,!1)}t.internal.write(f)}if(this.outline.createNamedDestinations){var w=this.internal.pages.length,T=[];for(l=0;l<w;l++){var I=t.internal.newObject();T.push(I);var M=t.internal.getPageInfo(l+1);t.internal.write("<< /D["+M.objId+" 0 R /XYZ null null null]>> endobj")}var R=t.internal.newObject();for(t.internal.write("<< /Names [ "),l=0;l<T.length;l++)t.internal.write("(page_"+(l+1)+")"+T[l]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+R+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,l){var f={title:a,options:l,children:[]};return r==null&&(r=this.root),r.children.push(f),f},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<r.children.length;l++){var f=r.children[l];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(r)),l>0&&this.line("/Prev "+this.makeRef(r.children[l-1])),l<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[l+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var p=this.count=this.count_r({count:0},f);if(p>0&&this.line("/Count "+p),f.options&&f.options.pageNumber){var v=t.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+v.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var w=0;w<r.children.length;w++)this.renderItems(r.children[w])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var l=0;l<a.children.length;l++)r.count++,this.count_r(r,a.children[l]);return r.count}}])}(wn.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,l,f,p){var v,w=this.decode.DCT_DECODE,T=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=f||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(v=function(I){for(var M,R=256*I.charCodeAt(4)+I.charCodeAt(5),H=I.length,q={width:0,height:0,numcomponents:1},J=4;J<H;J+=2){if(J+=R,e.indexOf(I.charCodeAt(J+1))!==-1){M=256*I.charCodeAt(J+5)+I.charCodeAt(J+6),q={width:256*I.charCodeAt(J+7)+I.charCodeAt(J+8),height:M,numcomponents:I.charCodeAt(J+9)};break}R=256*I.charCodeAt(J+2)+I.charCodeAt(J+3)}return q}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}T={data:t,width:v.width,height:v.height,colorSpace:p,bitsPerComponent:8,filter:w,index:r,alias:a}}return T}}(wn.API);var bh,B1,Aw,_w,Ew,R7=function(){var n,e,t;function r(l){var f,p,v,w,T,I,M,R,H,q,J,G,te,le;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},I=null;;){switch(f=this.readUInt32(),H=(function(){var Ce,De;for(De=[],Ce=0;Ce<4;++Ce)De.push(String.fromCharCode(this.data[this.pos++]));return De}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":I&&this.animation.frames.push(I),this.pos+=4,I={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},T=this.readUInt16(),w=this.readUInt16()||100,I.delay=1e3*T/w,I.disposeOp=this.data[this.pos++],I.blendOp=this.data[this.pos++],I.data=[];break;case"IDAT":case"fdAT":for(H==="fdAT"&&(this.pos+=4,f-=4),l=(I!=null?I.data:void 0)||this.imgData,G=0;0<=f?G<f:G>f;0<=f?++G:--G)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(v=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>v)throw new Error("More transparent colors than palette size");if((q=v-this.transparency.indexed.length)>0)for(te=0;0<=q?te<q:te>q;0<=q?++te:--te)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":M=(J=this.read(f)).indexOf(0),R=String.fromCharCode.apply(String,J.slice(0,M)),this.text[R]=String.fromCharCode.apply(String,J.slice(M+1));break;case"IEND":return I&&this.animation.frames.push(I),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(le=this.colorType)===4||le===6,p=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*p,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(l){var f,p;for(p=[],f=0;0<=l?f<l:f>l;0<=l?++f:--f)p.push(this.data[this.pos++]);return p},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(l){var f=this.pixelBitlength/8,p=new Uint8Array(this.width*this.height*f),v=0,w=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function T(I,M,R,H){var q,J,G,te,le,Ce,De,Ge,X,z,j,ae,V,F,Y,xe,we,Se,Ie,_e,Te,se=Math.ceil((w.width-I)/R),Be=Math.ceil((w.height-M)/H),W=w.width==se&&w.height==Be;for(F=f*se,ae=W?p:new Uint8Array(F*Be),Ce=l.length,V=0,J=0;V<Be&&v<Ce;){switch(l[v++]){case 0:for(te=we=0;we<F;te=we+=1)ae[J++]=l[v++];break;case 1:for(te=Se=0;Se<F;te=Se+=1)q=l[v++],le=te<f?0:ae[J-f],ae[J++]=(q+le)%256;break;case 2:for(te=Ie=0;Ie<F;te=Ie+=1)q=l[v++],G=(te-te%f)/f,Y=V&&ae[(V-1)*F+G*f+te%f],ae[J++]=(Y+q)%256;break;case 3:for(te=_e=0;_e<F;te=_e+=1)q=l[v++],G=(te-te%f)/f,le=te<f?0:ae[J-f],Y=V&&ae[(V-1)*F+G*f+te%f],ae[J++]=(q+Math.floor((le+Y)/2))%256;break;case 4:for(te=Te=0;Te<F;te=Te+=1)q=l[v++],G=(te-te%f)/f,le=te<f?0:ae[J-f],V===0?Y=xe=0:(Y=ae[(V-1)*F+G*f+te%f],xe=G&&ae[(V-1)*F+(G-1)*f+te%f]),De=le+Y-xe,Ge=Math.abs(De-le),z=Math.abs(De-Y),j=Math.abs(De-xe),X=Ge<=z&&Ge<=j?le:z<=j?Y:xe,ae[J++]=(q+X)%256;break;default:throw new Error("Invalid filter algorithm: "+l[v-1])}if(!W){var ce=((M+V*H)*w.width+I)*f,fe=V*F;for(te=0;te<se;te+=1){for(var be=0;be<f;be+=1)p[ce++]=ae[fe++];ce+=(R-1)*f}}V++}}return l=l7(l),w.interlaceMethod==1?(T(0,0,8,8),T(4,0,8,8),T(0,4,4,8),T(2,0,4,4),T(0,2,2,4),T(1,0,2,2),T(0,1,1,2)):T(0,0,1,1),p},r.prototype.decodePalette=function(){var l,f,p,v,w,T,I,M,R;for(p=this.palette,T=this.transparency.indexed||[],w=new Uint8Array((T.length||0)+p.length),v=0,l=0,f=I=0,M=p.length;I<M;f=I+=3)w[v++]=p[f],w[v++]=p[f+1],w[v++]=p[f+2],w[v++]=(R=T[l++])!=null?R:255;return w},r.prototype.copyToImageData=function(l,f){var p,v,w,T,I,M,R,H,q,J,G;if(v=this.colors,q=null,p=this.hasAlphaChannel,this.palette.length&&(q=(G=this._decodedPalette)!=null?G:this._decodedPalette=this.decodePalette(),v=4,p=!0),H=(w=l.data||l).length,I=q||f,T=M=0,v===1)for(;T<H;)R=q?4*f[T/4]:M,J=I[R++],w[T++]=J,w[T++]=J,w[T++]=J,w[T++]=p?I[R++]:255,M=R;else for(;T<H;)R=q?4*f[T/4]:M,w[T++]=I[R++],w[T++]=I[R++],w[T++]=I[R++],w[T++]=p?I[R++]:255,M=R},r.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var a=function(){if(Object.prototype.toString.call(bn)==="[object Window]"){try{e=bn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),n=function(l){var f;if(a()===!0)return t.width=l.width,t.height=l.height,t.clearRect(0,0,l.width,l.height),t.putImageData(l,0,0),(f=new Image).src=e.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(l){var f,p,v,w,T,I,M,R;if(this.animation){for(R=[],p=T=0,I=(M=this.animation.frames).length;T<I;p=++T)f=M[p],v=l.createImageData(f.width,f.height),w=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(v,w),f.imageData=v,R.push(f.image=n(v));return R}},r.prototype.renderFrame=function(l,f){var p,v,w;return p=(v=this.animation.frames)[f],w=v[f-1],f===0&&l.clearRect(0,0,this.width,this.height),(w!=null?w.disposeOp:void 0)===1?l.clearRect(w.xOffset,w.yOffset,w.width,w.height):(w!=null?w.disposeOp:void 0)===2&&l.putImageData(w.imageData,w.xOffset,w.yOffset),p.blendOp===0&&l.clearRect(p.xOffset,p.yOffset,p.width,p.height),l.drawImage(p.image,p.xOffset,p.yOffset)},r.prototype.animate=function(l){var f,p,v,w,T,I,M=this;return p=0,I=this.animation,w=I.numFrames,v=I.frames,T=I.numPlays,(f=function(){var R,H;if(R=p++%w,H=v[R],M.renderFrame(l,R),w>1&&p/w<T)return M.animation._timeout=setTimeout(f,H.delay)})()},r.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},r.prototype.render=function(l){var f,p;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,f=l.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(p=f.createImageData(this.width,this.height),this.copyToImageData(p,this.decodePixels()),f.putImageData(p,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function L7(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],l=a>>7,f=1<<(7&a)+1;n[e++],n[e++];var p=null,v=null;l&&(p=e,v=f,e+=3*f);var w=!0,T=[],I=0,M=null,R=0,H=null;for(this.width=t,this.height=r;w&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,H=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((V=n[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var q=n[e++];I=n[e++]|n[e++]<<8,M=n[e++],(1&q)==0&&(M=null),R=q>>2&7,e++;break;case 254:for(;;){if(!((V=n[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var J=n[e++]|n[e++]<<8,G=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,le=n[e++]|n[e++]<<8,Ce=n[e++],De=Ce>>6&1,Ge=1<<(7&Ce)+1,X=p,z=v,j=!1;Ce>>7&&(j=!0,X=e,z=Ge,e+=3*Ge);var ae=e;for(e++;;){var V;if(!((V=n[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}T.push({x:J,y:G,width:te,height:le,has_local_palette:j,palette_offset:X,palette_size:z,data_offset:ae,data_length:e-ae,transparent_index:M,interlaced:!!De,delay:I,disposal:R});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return T.length},this.loopCount=function(){return H},this.frameInfo=function(F){if(F<0||F>=T.length)throw new Error("Frame index out of range.");return T[F]},this.decodeAndBlitFrameBGRA=function(F,Y){var xe=this.frameInfo(F),we=xe.width*xe.height,Se=new Uint8Array(we);Sw(n,xe.data_offset,Se,we);var Ie=xe.palette_offset,_e=xe.transparent_index;_e===null&&(_e=256);var Te=xe.width,se=t-Te,Be=Te,W=4*(xe.y*t+xe.x),ce=4*((xe.y+xe.height)*t+xe.x),fe=W,be=4*se;xe.interlaced===!0&&(be+=4*t*7);for(var ve=8,We=0,Pe=Se.length;We<Pe;++We){var Ye=Se[We];if(Be===0&&(Be=Te,(fe+=be)>=ce&&(be=4*se+4*t*(ve-1),fe=W+(Te+se)*(ve<<1),ve>>=1)),Ye===_e)fe+=4;else{var ct=n[Ie+3*Ye],ut=n[Ie+3*Ye+1],Lt=n[Ie+3*Ye+2];Y[fe++]=Lt,Y[fe++]=ut,Y[fe++]=ct,Y[fe++]=255}--Be}},this.decodeAndBlitFrameRGBA=function(F,Y){var xe=this.frameInfo(F),we=xe.width*xe.height,Se=new Uint8Array(we);Sw(n,xe.data_offset,Se,we);var Ie=xe.palette_offset,_e=xe.transparent_index;_e===null&&(_e=256);var Te=xe.width,se=t-Te,Be=Te,W=4*(xe.y*t+xe.x),ce=4*((xe.y+xe.height)*t+xe.x),fe=W,be=4*se;xe.interlaced===!0&&(be+=4*t*7);for(var ve=8,We=0,Pe=Se.length;We<Pe;++We){var Ye=Se[We];if(Be===0&&(Be=Te,(fe+=be)>=ce&&(be=4*se+4*t*(ve-1),fe=W+(Te+se)*(ve<<1),ve>>=1)),Ye===_e)fe+=4;else{var ct=n[Ie+3*Ye],ut=n[Ie+3*Ye+1],Lt=n[Ie+3*Ye+2];Y[fe++]=ct,Y[fe++]=ut,Y[fe++]=Lt,Y[fe++]=255}--Be}}}function Sw(n,e,t,r){for(var a=n[e++],l=1<<a,f=l+1,p=f+1,v=a+1,w=(1<<v)-1,T=0,I=0,M=0,R=n[e++],H=new Int32Array(4096),q=null;;){for(;T<16&&R!==0;)I|=n[e++]<<T,T+=8,R===1?R=n[e++]:--R;if(T<v)break;var J=I&w;if(I>>=v,T-=v,J!==l){if(J===f)break;for(var G=J<p?J:q,te=0,le=G;le>l;)le=H[le]>>8,++te;var Ce=le;if(M+te+(G!==J?1:0)>r)return void $r.log("Warning, gif stream longer than expected.");t[M++]=Ce;var De=M+=te;for(G!==J&&(t[M++]=Ce),le=G;te--;)le=H[le],t[--De]=255&le,le>>=8;q!==null&&p<4096&&(H[p++]=q<<8|Ce,p>=w+1&&v<12&&(++v,w=w<<1|1)),q=J}else p=f+1,w=(1<<(v=a+1))-1,q=null}return M!==r&&$r.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bg(n){var e,t,r,a,l,f=Math.floor,p=new Array(64),v=new Array(64),w=new Array(64),T=new Array(64),I=new Array(65535),M=new Array(65535),R=new Array(64),H=new Array(64),q=[],J=0,G=7,te=new Array(64),le=new Array(64),Ce=new Array(64),De=new Array(256),Ge=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],xe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Se(W,ce){for(var fe=0,be=0,ve=new Array,We=1;We<=16;We++){for(var Pe=1;Pe<=W[We];Pe++)ve[ce[be]]=[],ve[ce[be]][0]=fe,ve[ce[be]][1]=We,be++,fe++;fe*=2}return ve}function Ie(W){for(var ce=W[0],fe=W[1]-1;fe>=0;)ce&1<<fe&&(J|=1<<G),fe--,--G<0&&(J==255?(_e(255),_e(0)):_e(J),G=7,J=0)}function _e(W){q.push(W)}function Te(W){_e(W>>8&255),_e(255&W)}function se(W,ce,fe,be,ve){for(var We,Pe=ve[0],Ye=ve[240],ct=function(lt,Dt){var at,kt,Qt,zt,mn,Vt,ln,Sn,Ht,Cn,Ft=0;for(Ht=0;Ht<8;++Ht){at=lt[Ft],kt=lt[Ft+1],Qt=lt[Ft+2],zt=lt[Ft+3],mn=lt[Ft+4],Vt=lt[Ft+5],ln=lt[Ft+6];var ei=at+(Sn=lt[Ft+7]),en=at-Sn,Et=kt+ln,dn=kt-ln,$t=Qt+Vt,xn=Qt-Vt,Pn=zt+mn,Hs=zt-mn,Or=ei+Pn,un=ei-Pn,ti=Et+$t,er=Et-$t;lt[Ft]=Or+ti,lt[Ft+4]=Or-ti;var nn=.707106781*(er+un);lt[Ft+2]=un+nn,lt[Ft+6]=un-nn;var pn=.382683433*((Or=Hs+xn)-(er=dn+en)),gs=.5411961*Or+pn,Gn=1.306562965*er+pn,ni=.707106781*(ti=xn+dn),Di=en+ni,Bt=en-ni;lt[Ft+5]=Bt+gs,lt[Ft+3]=Bt-gs,lt[Ft+1]=Di+Gn,lt[Ft+7]=Di-Gn,Ft+=8}for(Ft=0,Ht=0;Ht<8;++Ht){at=lt[Ft],kt=lt[Ft+8],Qt=lt[Ft+16],zt=lt[Ft+24],mn=lt[Ft+32],Vt=lt[Ft+40],ln=lt[Ft+48];var ps=at+(Sn=lt[Ft+56]),Wr=at-Sn,Yr=kt+ln,Xn=kt-ln,Ar=Qt+Vt,lr=Qt-Vt,Pt=zt+mn,cr=zt-mn,ur=ps+Pt,rr=ps-Pt,ri=Yr+Ar,Oi=Yr-Ar;lt[Ft]=ur+ri,lt[Ft+32]=ur-ri;var Vr=.707106781*(Oi+rr);lt[Ft+16]=rr+Vr,lt[Ft+48]=rr-Vr;var Xr=.382683433*((ur=cr+lr)-(Oi=Xn+Wr)),ms=.5411961*ur+Xr,qs=1.306562965*Oi+Xr,kr=.707106781*(ri=lr+Xn),Tr=Wr+kr,Wn=Wr-kr;lt[Ft+40]=Wn+ms,lt[Ft+24]=Wn-ms,lt[Ft+8]=Tr+qs,lt[Ft+56]=Tr-qs,Ft++}for(Ht=0;Ht<64;++Ht)Cn=lt[Ht]*Dt[Ht],R[Ht]=Cn>0?Cn+.5|0:Cn-.5|0;return R}(W,ce),ut=0;ut<64;++ut)H[X[ut]]=ct[ut];var Lt=H[0]-fe;fe=H[0],Lt==0?Ie(be[0]):(Ie(be[M[We=32767+Lt]]),Ie(I[We]));for(var gt=63;gt>0&&H[gt]==0;)gt--;if(gt==0)return Ie(Pe),fe;for(var Yt,st=1;st<=gt;){for(var Ae=st;H[st]==0&&st<=gt;)++st;var Gt=st-Ae;if(Gt>=16){Yt=Gt>>4;for(var Nt=1;Nt<=Yt;++Nt)Ie(Ye);Gt&=15}We=32767+H[st],Ie(ve[(Gt<<4)+M[We]]),Ie(I[We]),st++}return gt!=63&&Ie(Pe),fe}function Be(W){W=Math.min(Math.max(W,1),100),l!=W&&(function(ce){for(var fe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],be=0;be<64;be++){var ve=f((fe[be]*ce+50)/100);ve=Math.min(Math.max(ve,1),255),p[X[be]]=ve}for(var We=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var Ye=f((We[Pe]*ce+50)/100);Ye=Math.min(Math.max(Ye,1),255),v[X[Pe]]=Ye}for(var ct=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ut=0,Lt=0;Lt<8;Lt++)for(var gt=0;gt<8;gt++)w[ut]=1/(p[X[ut]]*ct[Lt]*ct[gt]*8),T[ut]=1/(v[X[ut]]*ct[Lt]*ct[gt]*8),ut++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),l=W)}this.encode=function(W,ce){ce&&Be(ce),q=new Array,J=0,G=7,Te(65496),Te(65504),Te(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Te(1),Te(1),_e(0),_e(0),function(){Te(65499),Te(132),_e(0);for(var kt=0;kt<64;kt++)_e(p[kt]);_e(1);for(var Qt=0;Qt<64;Qt++)_e(v[Qt])}(),function(kt,Qt){Te(65472),Te(17),_e(8),Te(Qt),Te(kt),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)}(W.width,W.height),function(){Te(65476),Te(418),_e(0);for(var kt=0;kt<16;kt++)_e(z[kt+1]);for(var Qt=0;Qt<=11;Qt++)_e(j[Qt]);_e(16);for(var zt=0;zt<16;zt++)_e(ae[zt+1]);for(var mn=0;mn<=161;mn++)_e(V[mn]);_e(1);for(var Vt=0;Vt<16;Vt++)_e(F[Vt+1]);for(var ln=0;ln<=11;ln++)_e(Y[ln]);_e(17);for(var Sn=0;Sn<16;Sn++)_e(xe[Sn+1]);for(var Ht=0;Ht<=161;Ht++)_e(we[Ht])}(),Te(65498),Te(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var fe=0,be=0,ve=0;J=0,G=7,this.encode.displayName="_encode_";for(var We,Pe,Ye,ct,ut,Lt,gt,Yt,st,Ae=W.data,Gt=W.width,Nt=W.height,lt=4*Gt,Dt=0;Dt<Nt;){for(We=0;We<lt;){for(ut=lt*Dt+We,gt=-1,Yt=0,st=0;st<64;st++)Lt=ut+(Yt=st>>3)*lt+(gt=4*(7&st)),Dt+Yt>=Nt&&(Lt-=lt*(Dt+1+Yt-Nt)),We+gt>=lt&&(Lt-=We+gt-lt+4),Pe=Ae[Lt++],Ye=Ae[Lt++],ct=Ae[Lt++],te[st]=(Ge[Pe]+Ge[Ye+256>>0]+Ge[ct+512>>0]>>16)-128,le[st]=(Ge[Pe+768>>0]+Ge[Ye+1024>>0]+Ge[ct+1280>>0]>>16)-128,Ce[st]=(Ge[Pe+1280>>0]+Ge[Ye+1536>>0]+Ge[ct+1792>>0]>>16)-128;fe=se(te,w,fe,e,r),be=se(le,T,be,t,a),ve=se(Ce,T,ve,t,a),We+=32}Dt+=8}if(G>=0){var at=[];at[1]=G+1,at[0]=(1<<G+1)-1,Ie(at)}return Te(65497),new Uint8Array(q)},n=n||50,function(){for(var W=String.fromCharCode,ce=0;ce<256;ce++)De[ce]=W(ce)}(),e=Se(z,j),t=Se(F,Y),r=Se(ae,V),a=Se(xe,we),function(){for(var W=1,ce=2,fe=1;fe<=15;fe++){for(var be=W;be<ce;be++)M[32767+be]=fe,I[32767+be]=[],I[32767+be][1]=fe,I[32767+be][0]=be;for(var ve=-(ce-1);ve<=-W;ve++)M[32767+ve]=fe,I[32767+ve]=[],I[32767+ve][1]=fe,I[32767+ve][0]=ce-1+ve;W<<=1,ce<<=1}}(),function(){for(var W=0;W<256;W++)Ge[W]=19595*W,Ge[W+256>>0]=38470*W,Ge[W+512>>0]=7471*W+32768,Ge[W+768>>0]=-11059*W,Ge[W+1024>>0]=-21709*W,Ge[W+1280>>0]=32768*W+8421375,Ge[W+1536>>0]=-27439*W,Ge[W+1792>>0]=-5329*W}(),Be(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Tw(n){function e(z){if(!z)throw Error("assert :P")}function t(z,j,ae){for(var V=0;4>V;V++)if(z[j+V]!=ae.charCodeAt(V))return!0;return!1}function r(z,j,ae,V,F){for(var Y=0;Y<F;Y++)z[j+Y]=ae[V+Y]}function a(z,j,ae,V){for(var F=0;F<V;F++)z[j+F]=ae}function l(z){return new Int32Array(z)}function f(z,j){for(var ae=[],V=0;V<z;V++)ae.push(new j);return ae}function p(z,j){var ae=[];return function V(F,Y,xe){for(var we=xe[Y],Se=0;Se<we&&(F.push(xe.length>Y+1?[]:new j),!(xe.length<Y+1));Se++)V(F[Se],Y+1,xe)}(ae,0,z),ae}var v=function(){var z=this;function j(x,E){for(var D=1<<E-1>>>0;x&D;)D>>>=1;return D?(x&D-1)+D:x}function ae(x,E,D,k,$){e(!(k%D));do x[E+(k-=D)]=$;while(0<k)}function V(x,E,D,k,$){if(e(2328>=$),512>=$)var ne=l(512);else if((ne=l($))==null)return 0;return function(ie,ue,de,ye,Me,Ze){var $e,ze,nt=ue,Je=1<<de,Le=l(16),Fe=l(16);for(e(Me!=0),e(ye!=null),e(ie!=null),e(0<de),ze=0;ze<Me;++ze){if(15<ye[ze])return 0;++Le[ye[ze]]}if(Le[0]==Me)return 0;for(Fe[1]=0,$e=1;15>$e;++$e){if(Le[$e]>1<<$e)return 0;Fe[$e+1]=Fe[$e]+Le[$e]}for(ze=0;ze<Me;++ze)$e=ye[ze],0<ye[ze]&&(Ze[Fe[$e]++]=ze);if(Fe[15]==1)return(ye=new F).g=0,ye.value=Ze[0],ae(ie,nt,1,Je,ye),Je;var ft,wt=-1,mt=Je-1,jt=0,Mt=1,hn=1,It=1<<de;for(ze=0,$e=1,Me=2;$e<=de;++$e,Me<<=1){if(Mt+=hn<<=1,0>(hn-=Le[$e]))return 0;for(;0<Le[$e];--Le[$e])(ye=new F).g=$e,ye.value=Ze[ze++],ae(ie,nt+jt,Me,It,ye),jt=j(jt,$e)}for($e=de+1,Me=2;15>=$e;++$e,Me<<=1){if(Mt+=hn<<=1,0>(hn-=Le[$e]))return 0;for(;0<Le[$e];--Le[$e]){if(ye=new F,(jt&mt)!=wt){for(nt+=It,ft=1<<(wt=$e)-de;15>wt&&!(0>=(ft-=Le[wt]));)++wt,ft<<=1;Je+=It=1<<(ft=wt-de),ie[ue+(wt=jt&mt)].g=ft+de,ie[ue+wt].value=nt-ue-wt}ye.g=$e-de,ye.value=Ze[ze++],ae(ie,nt+(jt>>de),Me,It,ye),jt=j(jt,$e)}}return Mt!=2*Fe[15]-1?0:Je}(x,E,D,k,$,ne)}function F(){this.value=this.g=0}function Y(){this.value=this.g=0}function xe(){this.G=f(5,F),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Ir,Y)}function we(x,E,D,k){e(x!=null),e(E!=null),e(2147483648>k),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=E,x.pa=D,x.Jd=E,x.Yc=D+k,x.Zc=4<=k?D+k-4+1:D,We(x)}function Se(x,E){for(var D=0;0<E--;)D|=Ye(x,128)<<E;return D}function Ie(x,E){var D=Se(x,E);return Pe(x)?-D:D}function _e(x,E,D,k){var $,ne=0;for(e(x!=null),e(E!=null),e(4294967288>k),x.Sb=k,x.Ra=0,x.u=0,x.h=0,4<k&&(k=4),$=0;$<k;++$)ne+=E[D+$]<<8*$;x.Ra=ne,x.bb=k,x.oa=E,x.pa=D}function Te(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<pa-8>>>0,++x.bb,x.u-=8;fe(x)&&(x.h=1,x.u=0)}function se(x,E){if(e(0<=E),!x.h&&E<=Va){var D=ce(x)&co[E];return x.u+=E,Te(x),D}return x.h=1,x.u=0}function Be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ce(x){return x.Ra>>>(x.u&pa-1)>>>0}function fe(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>pa}function be(x,E){x.u=E,x.h=fe(x)}function ve(x){x.u>=kn&&(e(x.u>=kn),Te(x))}function We(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Pe(x){return Se(x,1)}function Ye(x,E){var D=x.Ca;0>x.b&&We(x);var k=x.b,$=D*E>>>8,ne=(x.I>>>k>$)+0;for(ne?(D-=$,x.I-=$+1<<k>>>0):D=$+1,k=D,$=0;256<=k;)$+=8,k>>=8;return k=7^$+Gi[k],x.b-=k,x.Ca=(D<<k)-1,ne}function ct(x,E,D){x[E+0]=D>>24&255,x[E+1]=D>>16&255,x[E+2]=D>>8&255,x[E+3]=D>>0&255}function ut(x,E){return x[E+0]<<0|x[E+1]<<8}function Lt(x,E){return ut(x,E)|x[E+2]<<16}function gt(x,E){return ut(x,E)|ut(x,E+2)<<16}function Yt(x,E){var D=1<<E;return e(x!=null),e(0<E),x.X=l(D),x.X==null?0:(x.Mb=32-E,x.Xa=E,1)}function st(x,E){e(x!=null),e(E!=null),e(x.Xa==E.Xa),r(E.X,0,x.X,0,1<<E.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function Gt(x,E,D,k){e(D!=null),e(k!=null);var $=D[0],ne=k[0];return $==0&&($=(x*ne+E/2)/E),ne==0&&(ne=(E*$+x/2)/x),0>=$||0>=ne?0:(D[0]=$,k[0]=ne,1)}function Nt(x,E){return x+(1<<E)-1>>>E}function lt(x,E){return((4278255360&x)+(4278255360&E)>>>0&4278255360)+((16711935&x)+(16711935&E)>>>0&16711935)>>>0}function Dt(x,E){z[E]=function(D,k,$,ne,ie,ue,de){var ye;for(ye=0;ye<ie;++ye){var Me=z[x](ue[de+ye-1],$,ne+ye);ue[de+ye]=lt(D[k+ye],Me)}}}function at(){this.ud=this.hd=this.jd=0}function kt(x,E){return((4278124286&(x^E))>>>1)+(x&E)>>>0}function Qt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function zt(x,E){return Qt(x+(x-E+.5>>1))}function mn(x,E,D){return Math.abs(E-D)-Math.abs(x-D)}function Vt(x,E,D,k,$,ne,ie){for(k=ne[ie-1],D=0;D<$;++D)ne[ie+D]=k=lt(x[E+D],k)}function ln(x,E,D,k,$){var ne;for(ne=0;ne<D;++ne){var ie=x[E+ne],ue=ie>>8&255,de=16711935&(de=(de=16711935&ie)+((ue<<16)+ue));k[$+ne]=(4278255360&ie)+de>>>0}}function Sn(x,E){E.jd=x>>0&255,E.hd=x>>8&255,E.ud=x>>16&255}function Ht(x,E,D,k,$,ne){var ie;for(ie=0;ie<k;++ie){var ue=E[D+ie],de=ue>>>8,ye=ue,Me=255&(Me=(Me=ue>>>16)+((x.jd<<24>>24)*(de<<24>>24)>>>5));ye=255&(ye=(ye=ye+((x.hd<<24>>24)*(de<<24>>24)>>>5))+((x.ud<<24>>24)*(Me<<24>>24)>>>5)),$[ne+ie]=(4278255360&ue)+(Me<<16)+ye}}function Cn(x,E,D,k,$){z[E]=function(ne,ie,ue,de,ye,Me,Ze,$e,ze){for(de=Ze;de<$e;++de)for(Ze=0;Ze<ze;++Ze)ye[Me++]=$(ue[k(ne[ie++])])},z[x]=function(ne,ie,ue,de,ye,Me,Ze){var $e=8>>ne.b,ze=ne.Ea,nt=ne.K[0],Je=ne.w;if(8>$e)for(ne=(1<<ne.b)-1,Je=(1<<$e)-1;ie<ue;++ie){var Le,Fe=0;for(Le=0;Le<ze;++Le)Le&ne||(Fe=k(de[ye++])),Me[Ze++]=$(nt[Fe&Je]),Fe>>=$e}else z["VP8LMapColor"+D](de,ye,nt,Je,Me,Ze,ie,ue,ze)}}function Ft(x,E,D,k,$){for(D=E+D;E<D;){var ne=x[E++];k[$++]=ne>>16&255,k[$++]=ne>>8&255,k[$++]=ne>>0&255}}function ei(x,E,D,k,$){for(D=E+D;E<D;){var ne=x[E++];k[$++]=ne>>16&255,k[$++]=ne>>8&255,k[$++]=ne>>0&255,k[$++]=ne>>24&255}}function en(x,E,D,k,$){for(D=E+D;E<D;){var ne=(ie=x[E++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;k[$++]=ne,k[$++]=ie}}function Et(x,E,D,k,$){for(D=E+D;E<D;){var ne=(ie=x[E++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;k[$++]=ne,k[$++]=ie}}function dn(x,E,D,k,$){for(D=E+D;E<D;){var ne=x[E++];k[$++]=ne>>0&255,k[$++]=ne>>8&255,k[$++]=ne>>16&255}}function $t(x,E,D,k,$,ne){if(ne==0)for(D=E+D;E<D;)ct(k,((ne=x[E++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),$+=32;else r(k,$,x,E,D)}function xn(x,E){z[E][0]=z[x+"0"],z[E][1]=z[x+"1"],z[E][2]=z[x+"2"],z[E][3]=z[x+"3"],z[E][4]=z[x+"4"],z[E][5]=z[x+"5"],z[E][6]=z[x+"6"],z[E][7]=z[x+"7"],z[E][8]=z[x+"8"],z[E][9]=z[x+"9"],z[E][10]=z[x+"10"],z[E][11]=z[x+"11"],z[E][12]=z[x+"12"],z[E][13]=z[x+"13"],z[E][14]=z[x+"0"],z[E][15]=z[x+"0"]}function Pn(x){return x==za||x==Ha||x==uo||x==Gu}function Hs(){this.eb=[],this.size=this.A=this.fb=0}function Or(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hs,this.f.kb=new Or,this.sd=null}function ti(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nn(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function pn(x,E){var D=x.T,k=E.ba.f.RGBA,$=k.eb,ne=k.fb+x.ka*k.A,ie=ks[E.ba.S],ue=x.y,de=x.O,ye=x.f,Me=x.N,Ze=x.ea,$e=x.W,ze=E.cc,nt=E.dc,Je=E.Mc,Le=E.Nc,Fe=x.ka,ft=x.ka+x.T,wt=x.U,mt=wt+1>>1;for(Fe==0?ie(ue,de,null,null,ye,Me,Ze,$e,ye,Me,Ze,$e,$,ne,null,null,wt):(ie(E.ec,E.fc,ue,de,ze,nt,Je,Le,ye,Me,Ze,$e,$,ne-k.A,$,ne,wt),++D);Fe+2<ft;Fe+=2)ze=ye,nt=Me,Je=Ze,Le=$e,Me+=x.Rc,$e+=x.Rc,ne+=2*k.A,ie(ue,(de+=2*x.fa)-x.fa,ue,de,ze,nt,Je,Le,ye,Me,Ze,$e,$,ne-k.A,$,ne,wt);return de+=x.fa,x.j+ft<x.o?(r(E.ec,E.fc,ue,de,wt),r(E.cc,E.dc,ye,Me,mt),r(E.Mc,E.Nc,Ze,$e,mt),D--):1&ft||ie(ue,de,null,null,ye,Me,Ze,$e,ye,Me,Ze,$e,$,ne+k.A,null,null,wt),D}function gs(x,E,D){var k=x.F,$=[x.J];if(k!=null){var ne=x.U,ie=E.ba.S,ue=ie==Ps||ie==uo;E=E.ba.f.RGBA;var de=[0],ye=x.ka;de[0]=x.T,x.Kb&&(ye==0?--de[0]:(--ye,$[0]-=x.width),x.j+x.ka+x.T==x.o&&(de[0]=x.o-x.j-ye));var Me=E.eb;ye=E.fb+ye*E.A,x=Er(k,$[0],x.width,ne,de,Me,ye+(ue?0:3),E.A),e(D==de),x&&Pn(ie)&&ui(Me,ye,ue,ne,de,E.A)}return 0}function Gn(x){var E=x.ma,D=E.ba.S,k=11>D,$=D==To||D==xl||D==Ps||D==ea||D==12||Pn(D);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Ta(E.Oa,x,$?11:12))return 0;if($&&Pn(D)&&yt(),x.da)alert("todo:use_scaling");else{if(k){if(E.Ib=nn,x.Kb){if(D=x.U+1>>1,E.memory=l(x.U+2*D),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+x.U,E.Mc=E.cc,E.Nc=E.dc+D,E.Ib=pn,yt()}}else alert("todo:EmitYUV");$&&(E.Jb=gs,k&&je())}if(k&&!Wa){for(x=0;256>x;++x)Qo[x]=89858*(x-128)+lu>>Al,Io[x]=-22014*(x-128)+lu,Zo[x]=-45773*(x-128),Bd[x]=113618*(x-128)+lu>>Al;for(x=_l;x<cu;++x)E=76283*(x-16)+lu>>Al,Wi[x-_l]=zn(E,255),Xu[x-_l]=zn(E+8>>4,15);Wa=1}return 1}function ni(x){var E=x.ma,D=x.U,k=x.T;return e(!(1&x.ka)),0>=D||0>=k?0:(D=E.Ib(x,E),E.Jb!=null&&E.Jb(x,E,D),E.Dc+=D,1)}function Di(x){x.ma.memory=null}function Bt(x,E,D,k){return se(x,8)!=47?0:(E[0]=se(x,14)+1,D[0]=se(x,14)+1,k[0]=se(x,1),se(x,3)!=0?0:!x.h)}function ps(x,E){if(4>x)return x+1;var D=x-2>>1;return(2+(1&x)<<D)+se(E,D)+1}function Wr(x,E){return 120<E?E-120:1<=(D=((D=qa[E-1])>>4)*x+(8-(15&D)))?D:1;var D}function Yr(x,E,D){var k=ce(D),$=x[E+=255&k].g-8;return 0<$&&(be(D,D.u+8),k=ce(D),E+=x[E].value,E+=k&(1<<$)-1),be(D,D.u+x[E].g),x[E].value}function Xn(x,E,D){return D.g+=x.g,D.value+=x.value<<E>>>0,e(8>=D.g),x.g}function Ar(x,E,D){var k=x.xc;return e((E=k==0?0:x.vc[x.md*(D>>k)+(E>>k)])<x.Wb),x.Ya[E]}function lr(x,E,D,k){var $=x.ab,ne=x.c*E,ie=x.C;E=ie+E;var ue=D,de=k;for(k=x.Ta,D=x.Ua;0<$--;){var ye=x.gc[$],Me=ie,Ze=E,$e=ue,ze=de,nt=(de=k,ue=D,ye.Ea);switch(e(Me<Ze),e(Ze<=ye.nc),ye.hc){case 2:c($e,ze,(Ze-Me)*nt,de,ue);break;case 0:var Je=Me,Le=Ze,Fe=de,ft=ue,wt=(It=ye).Ea;Je==0&&(Z($e,ze,null,null,1,Fe,ft),Vt($e,ze+1,0,0,wt-1,Fe,ft+1),ze+=wt,ft+=wt,++Je);for(var mt=1<<It.b,jt=mt-1,Mt=Nt(wt,It.b),hn=It.K,It=It.w+(Je>>It.b)*Mt;Je<Le;){var dr=hn,Sr=It,sr=1;for(s($e,ze,Fe,ft-wt,1,Fe,ft);sr<wt;){var Zn=(sr&~jt)+mt;Zn>wt&&(Zn=wt),(0,A[dr[Sr++]>>8&15])($e,ze+ +sr,Fe,ft+sr-wt,Zn-sr,Fe,ft+sr),sr=Zn}ze+=wt,ft+=wt,++Je&jt||(It+=Mt)}Ze!=ye.nc&&r(de,ue-nt,de,ue+(Ze-Me-1)*nt,nt);break;case 1:for(nt=$e,Le=ze,wt=($e=ye.Ea)-(ft=$e&~(Fe=(ze=1<<ye.b)-1)),Je=Nt($e,ye.b),mt=ye.K,ye=ye.w+(Me>>ye.b)*Je;Me<Ze;){for(jt=mt,Mt=ye,hn=new at,It=Le+ft,dr=Le+$e;Le<It;)Sn(jt[Mt++],hn),S(hn,nt,Le,ze,de,ue),Le+=ze,ue+=ze;Le<dr&&(Sn(jt[Mt++],hn),S(hn,nt,Le,wt,de,ue),Le+=wt,ue+=wt),++Me&Fe||(ye+=Je)}break;case 3:if($e==de&&ze==ue&&0<ye.b){for(Le=de,$e=nt=ue+(Ze-Me)*nt-(ft=(Ze-Me)*Nt(ye.Ea,ye.b)),ze=de,Fe=ue,Je=[],ft=(wt=ft)-1;0<=ft;--ft)Je[ft]=ze[Fe+ft];for(ft=wt-1;0<=ft;--ft)Le[$e+ft]=Je[ft];u(ye,Me,Ze,de,nt,de,ue)}else u(ye,Me,Ze,$e,ze,de,ue)}ue=k,de=D}de!=D&&r(k,D,ue,de,ne)}function Pt(x,E){var D=x.V,k=x.Ba+x.c*x.C,$=E-x.C;if(e(E<=x.l.o),e(16>=$),0<$){var ne=x.l,ie=x.Ta,ue=x.Ua,de=ne.width;if(lr(x,$,D,k),$=ue=[ue],e((D=x.C)<(k=E)),e(ne.v<ne.va),k>ne.o&&(k=ne.o),D<ne.j){var ye=ne.j-D;D=ne.j,$[0]+=ye*de}if(D>=k?D=0:($[0]+=4*ne.v,ne.ka=D-ne.j,ne.U=ne.va-ne.v,ne.T=k-D,D=1),D){if(ue=ue[0],11>(D=x.ca).S){var Me=D.f.RGBA,Ze=(k=D.S,$=ne.U,ne=ne.T,ye=Me.eb,Me.A),$e=ne;for(Me=Me.fb+x.Ma*Me.A;0<$e--;){var ze=ie,nt=ue,Je=$,Le=ye,Fe=Me;switch(k){case So:L(ze,nt,Je,Le,Fe);break;case To:B(ze,nt,Je,Le,Fe);break;case za:B(ze,nt,Je,Le,Fe),ui(Le,Fe,0,Je,1,0);break;case ru:me(ze,nt,Je,Le,Fe);break;case xl:$t(ze,nt,Je,Le,Fe,1);break;case Ha:$t(ze,nt,Je,Le,Fe,1),ui(Le,Fe,0,Je,1,0);break;case Ps:$t(ze,nt,Je,Le,Fe,0);break;case uo:$t(ze,nt,Je,Le,Fe,0),ui(Le,Fe,1,Je,1,0);break;case ea:Q(ze,nt,Je,Le,Fe);break;case Gu:Q(ze,nt,Je,Le,Fe),Qn(Le,Fe,Je,1,0);break;case Xo:re(ze,nt,Je,Le,Fe);break;default:e(0)}ue+=de,Me+=Ze}x.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=D.height)}}x.C=E,e(x.C<=x.i)}function cr(x){var E;if(0<x.ua)return 0;for(E=0;E<x.Wb;++E){var D=x.Ya[E].G,k=x.Ya[E].H;if(0<D[1][k[1]+0].g||0<D[2][k[2]+0].g||0<D[3][k[3]+0].g)return 0}return 1}function ur(x,E,D,k,$,ne){if(x.Z!=0){var ie=x.qd,ue=x.rd;for(e(Na[x.Z]!=null);E<D;++E)Na[x.Z](ie,ue,k,$,k,$,ne),ie=k,ue=$,$+=ne;x.qd=ie,x.rd=ue}}function rr(x,E){var D=x.l.ma,k=D.Z==0||D.Z==1?x.l.j:x.C;if(k=x.C<k?k:x.C,e(E<=x.l.o),E>k){var $=x.l.width,ne=D.ca,ie=D.tb+$*k,ue=x.V,de=x.Ba+x.c*k,ye=x.gc;e(x.ab==1),e(ye[0].hc==3),g(ye[0],k,E,ue,de,ne,ie),ur(D,k,E,ne,ie,$)}x.C=x.Ma=E}function ri(x,E,D,k,$,ne,ie){var ue=x.$/k,de=x.$%k,ye=x.m,Me=x.s,Ze=D+x.$,$e=Ze;$=D+k*$;var ze=D+k*ne,nt=280+Me.ua,Je=x.Pb?ue:16777216,Le=0<Me.ua?Me.Wa:null,Fe=Me.wc,ft=Ze<ze?Ar(Me,de,ue):null;e(x.C<ne),e(ze<=$);var wt=!1;e:for(;;){for(;wt||Ze<ze;){var mt=0;if(ue>=Je){var jt=Ze-D;e((Je=x).Pb),Je.wd=Je.m,Je.xd=jt,0<Je.s.ua&&st(Je.s.Wa,Je.s.vb),Je=ue+af}if(de&Fe||(ft=Ar(Me,de,ue)),e(ft!=null),ft.Qb&&(E[Ze]=ft.qb,wt=!0),!wt)if(ve(ye),ft.jc){mt=ye,jt=E;var Mt=Ze,hn=ft.pd[ce(mt)&Ir-1];e(ft.jc),256>hn.g?(be(mt,mt.u+hn.g),jt[Mt]=hn.value,mt=0):(be(mt,mt.u+hn.g-256),e(256<=hn.value),mt=hn.value),mt==0&&(wt=!0)}else mt=Yr(ft.G[0],ft.H[0],ye);if(ye.h)break;if(wt||256>mt){if(!wt)if(ft.nd)E[Ze]=(ft.qb|mt<<8)>>>0;else{if(ve(ye),wt=Yr(ft.G[1],ft.H[1],ye),ve(ye),jt=Yr(ft.G[2],ft.H[2],ye),Mt=Yr(ft.G[3],ft.H[3],ye),ye.h)break;E[Ze]=(Mt<<24|wt<<16|mt<<8|jt)>>>0}if(wt=!1,++Ze,++de>=k&&(de=0,++ue,ie!=null&&ue<=ne&&!(ue%16)&&ie(x,ue),Le!=null))for(;$e<Ze;)mt=E[$e++],Le.X[(506832829*mt&4294967295)>>>Le.Mb]=mt}else if(280>mt){if(mt=ps(mt-256,ye),jt=Yr(ft.G[4],ft.H[4],ye),ve(ye),jt=Wr(k,jt=ps(jt,ye)),ye.h)break;if(Ze-D<jt||$-Ze<mt)break e;for(Mt=0;Mt<mt;++Mt)E[Ze+Mt]=E[Ze+Mt-jt];for(Ze+=mt,de+=mt;de>=k;)de-=k,++ue,ie!=null&&ue<=ne&&!(ue%16)&&ie(x,ue);if(e(Ze<=$),de&Fe&&(ft=Ar(Me,de,ue)),Le!=null)for(;$e<Ze;)mt=E[$e++],Le.X[(506832829*mt&4294967295)>>>Le.Mb]=mt}else{if(!(mt<nt))break e;for(wt=mt-280,e(Le!=null);$e<Ze;)mt=E[$e++],Le.X[(506832829*mt&4294967295)>>>Le.Mb]=mt;mt=Ze,e(!(wt>>>(jt=Le).Xa)),E[mt]=jt.X[wt],wt=!0}wt||e(ye.h==fe(ye))}if(x.Pb&&ye.h&&Ze<$)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&st(x.s.vb,x.s.Wa);else{if(ye.h)break e;ie!=null&&ie(x,ue>ne?ne:ue),x.a=0,x.$=Ze-D}return 1}return x.a=3,0}function Oi(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var E=x.Wa;E!=null&&(E.X=null),x.vb=null,e(x!=null)}function Vr(){var x=new Hr;return x==null?null:(x.a=0,x.xb=bl,xn("Predictor","VP8LPredictors"),xn("Predictor","VP8LPredictors_C"),xn("PredictorAdd","VP8LPredictorsAdd"),xn("PredictorAdd","VP8LPredictorsAdd_C"),c=ln,S=Ht,L=Ft,B=ei,Q=en,re=Et,me=dn,z.VP8LMapColor32b=d,z.VP8LMapColor8b=y,x)}function Xr(x,E,D,k,$){var ne=1,ie=[x],ue=[E],de=k.m,ye=k.s,Me=null,Ze=0;e:for(;;){if(D)for(;ne&&se(de,1);){var $e=ie,ze=ue,nt=k,Je=1,Le=nt.m,Fe=nt.gc[nt.ab],ft=se(Le,2);if(nt.Oc&1<<ft)ne=0;else{switch(nt.Oc|=1<<ft,Fe.hc=ft,Fe.Ea=$e[0],Fe.nc=ze[0],Fe.K=[null],++nt.ab,e(4>=nt.ab),ft){case 0:case 1:Fe.b=se(Le,3)+2,Je=Xr(Nt(Fe.Ea,Fe.b),Nt(Fe.nc,Fe.b),0,nt,Fe.K),Fe.K=Fe.K[0];break;case 3:var wt,mt=se(Le,8)+1,jt=16<mt?0:4<mt?1:2<mt?2:3;if($e[0]=Nt(Fe.Ea,jt),Fe.b=jt,wt=Je=Xr(mt,1,0,nt,Fe.K)){var Mt,hn=mt,It=Fe,dr=1<<(8>>It.b),Sr=l(dr);if(Sr==null)wt=0;else{var sr=It.K[0],Zn=It.w;for(Sr[0]=It.K[0][0],Mt=1;Mt<1*hn;++Mt)Sr[Mt]=lt(sr[Zn+Mt],Sr[Mt-1]);for(;Mt<4*dr;++Mt)Sr[Mt]=0;It.K[0]=null,It.K[0]=Sr,wt=1}}Je=wt;break;case 2:break;default:e(0)}ne=Je}}if(ie=ie[0],ue=ue[0],ne&&se(de,1)&&!(ne=1<=(Ze=se(de,4))&&11>=Ze)){k.a=3;break e}var Br;if(Br=ne)t:{var Nr,In,Si,Fr=k,Hn=ie,us=ue,gr=Ze,Ss=D,Bs=Fr.m,qr=Fr.s,Fi=[null],hs=1,ta=0,Ya=ho[gr];n:for(;;){if(Ss&&se(Bs,1)){var Xi=se(Bs,3)+2,fo=Nt(Hn,Xi),Jo=Nt(us,Xi),El=fo*Jo;if(!Xr(fo,Jo,0,Fr,Fi))break n;for(Fi=Fi[0],qr.xc=Xi,Nr=0;Nr<El;++Nr){var No=Fi[Nr]>>8&65535;Fi[Nr]=No,No>=hs&&(hs=No+1)}}if(Bs.h)break n;for(In=0;5>In;++In){var hi=Es[In];!In&&0<gr&&(hi+=1<<gr),ta<hi&&(ta=hi)}var Zu=f(hs*Ya,F),jd=hs,hf=f(jd,xe);if(hf==null)var uu=null;else e(65536>=jd),uu=hf;var lc=l(ta);if(uu==null||lc==null||Zu==null){Fr.a=1;break n}var cc=Zu;for(Nr=Si=0;Nr<hs;++Nr){var La=uu[Nr],Sl=La.G,Tl=La.H,ff=0,hu=1,Ud=0;for(In=0;5>In;++In){hi=Es[In],Sl[In]=cc,Tl[In]=Si,!In&&0<gr&&(hi+=1<<gr);i:{var fu,$o=hi,du=Fr,el=lc,Ju=cc,Vd=Si,gu=0,Ro=du.m,zd=se(Ro,1);if(a(el,0,0,$o),zd){var Hd=se(Ro,1)+1,qd=se(Ro,1),$u=se(Ro,qd==0?1:8);el[$u]=1,Hd==2&&(el[$u=se(Ro,8)]=1);var pu=1}else{var df=l(19),eh=se(Ro,4)+4;if(19<eh){du.a=3;var mu=0;break i}for(fu=0;fu<eh;++fu)df[wr[fu]]=se(Ro,3);var th=void 0,yu=void 0,nh=du,Gd=df,vu=$o,rh=el,ih=0,Lo=nh.m,Wd=8,Yd=f(128,F);r:for(;V(Yd,0,7,Gd,19);){if(se(Lo,1)){var Xd=2+2*se(Lo,3);if((th=2+se(Lo,Xd))>vu)break r}else th=vu;for(yu=0;yu<vu&&th--;){ve(Lo);var uc=Yd[0+(127&ce(Lo))];be(Lo,Lo.u+uc.g);var tl=uc.value;if(16>tl)rh[yu++]=tl,tl!=0&&(Wd=tl);else{var sh=tl==16,gf=tl-16,Kd=sf[gf],Xa=se(Lo,rf[gf])+Kd;if(yu+Xa>vu)break r;for(var Cl=sh?Wd:0;0<Xa--;)rh[yu++]=Cl}}ih=1;break r}ih||(nh.a=3),pu=ih}(pu=pu&&!Ro.h)&&(gu=V(Ju,Vd,8,el,$o)),pu&&gu!=0?mu=gu:(du.a=3,mu=0)}if(mu==0)break n;if(hu&&cs[In]==1&&(hu=cc[Si].g==0),ff+=cc[Si].g,Si+=mu,3>=In){var Da,Do=lc[0];for(Da=1;Da<hi;++Da)lc[Da]>Do&&(Do=lc[Da]);Ud+=Do}}if(La.nd=hu,La.Qb=0,hu&&(La.qb=(Sl[3][Tl[3]+0].value<<24|Sl[1][Tl[1]+0].value<<16|Sl[2][Tl[2]+0].value)>>>0,ff==0&&256>Sl[0][Tl[0]+0].value&&(La.Qb=1,La.qb+=Sl[0][Tl[0]+0].value<<8)),La.jc=!La.Qb&&6>Ud,La.jc){var hc,Ka=La;for(hc=0;hc<Ir;++hc){var Oo=hc,Mo=Ka.pd[Oo],go=Ka.G[0][Ka.H[0]+Oo];256<=go.value?(Mo.g=go.g+256,Mo.value=go.value):(Mo.g=0,Mo.value=0,Oo>>=Xn(go,8,Mo),Oo>>=Xn(Ka.G[1][Ka.H[1]+Oo],16,Mo),Oo>>=Xn(Ka.G[2][Ka.H[2]+Oo],0,Mo),Xn(Ka.G[3][Ka.H[3]+Oo],24,Mo))}}}qr.vc=Fi,qr.Wb=hs,qr.Ya=uu,qr.yc=Zu,Br=1;break t}Br=0}if(!(ne=Br)){k.a=3;break e}if(0<Ze){if(ye.ua=1<<Ze,!Yt(ye.Wa,Ze)){k.a=1,ne=0;break e}}else ye.ua=0;var fc=k,pf=ie,Qd=ue,ah=fc.s,dc=ah.xc;if(fc.c=pf,fc.i=Qd,ah.md=Nt(pf,dc),ah.wc=dc==0?-1:(1<<dc)-1,D){k.xb=kd;break e}if((Me=l(ie*ue))==null){k.a=1,ne=0;break e}ne=(ne=ri(k,Me,0,ie,ue,ue,null))&&!de.h;break e}return ne?($!=null?$[0]=Me:(e(Me==null),e(D)),k.$=0,D||Oi(ye)):Oi(ye),ne}function ms(x,E){var D=x.c*x.i,k=D+E+16*E;return e(x.c<=E),x.V=l(k),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+D+E,1)}function qs(x,E){var D=x.C,k=E-D,$=x.V,ne=x.Ba+x.c*D;for(e(E<=x.l.o);0<k;){var ie=16<k?16:k,ue=x.l.ma,de=x.l.width,ye=de*ie,Me=ue.ca,Ze=ue.tb+de*D,$e=x.Ta,ze=x.Ua;lr(x,ie,$,ne),mi($e,ze,Me,Ze,ye),ur(ue,D,D+ie,Me,Ze,de),k-=ie,$+=ie*x.c,D+=ie}e(D==E),x.C=x.Ma=E}function kr(){this.ub=this.yd=this.td=this.Rb=0}function Tr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wn(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Gs(){this.Yb=function(){var x=[];return function E(D,k,$){for(var ne=$[k],ie=0;ie<ne&&(D.push($.length>k+1?[]:0),!($.length<k+1));ie++)E(D[ie],k+1,$)}(x,0,[3,11]),x}()}function ir(){this.jb=l(3),this.Wc=p([4,8],Gs),this.Xc=p([4,17],Gs)}function Ba(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function pt(){this.ld=this.La=this.dd=this.tc=0}function $i(){this.Na=this.la=0}function Bn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ii(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vl(){this.uc=this.M=this.Nb=0,this.wa=Array(new pt),this.Y=0,this.ya=Array(new ii),this.aa=0,this.l=new Tn}function Fn(){this.y=l(16),this.f=l(8),this.ea=l(8)}function jn(){this.cb=this.a=0,this.sc="",this.m=new Be,this.Od=new kr,this.Kc=new Tr,this.ed=new Ba,this.Qa=new Wn,this.Ic=this.$c=this.Aa=0,this.D=new vl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,Be),this.ia=0,this.pb=f(4,Bn),this.Pa=new ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fn),this.Hd=0,this.rb=Array(new $i),this.sb=0,this.wa=Array(new pt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ii),this.L=this.aa=0,this.gd=p([4,2],pt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ws(){var x=new jn;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,sc||(sc=ys)),x}function yr(x,E,D){return x.a==0&&(x.a=E,x.sc=D,x.cb=0),0}function qi(x,E,D){return 3<=D&&x[E+0]==157&&x[E+1]==1&&x[E+2]==42}function Yn(x,E){if(x==null)return 0;if(x.a=0,x.sc="OK",E==null)return yr(x,2,"null VP8Io passed to VP8GetHeaders()");var D=E.data,k=E.w,$=E.ha;if(4>$)return yr(x,7,"Truncated header.");var ne=D[k+0]|D[k+1]<<8|D[k+2]<<16,ie=x.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return yr(x,3,"Incorrect keyframe parameters.");if(!ie.yd)return yr(x,4,"Frame not displayable.");k+=3,$-=3;var ue=x.Kc;if(ie.Rb){if(7>$)return yr(x,7,"cannot parse picture header");if(!qi(D,k,$))return yr(x,3,"Bad code word");ue.c=16383&(D[k+4]<<8|D[k+3]),ue.Td=D[k+4]>>6,ue.i=16383&(D[k+6]<<8|D[k+5]),ue.Ud=D[k+6]>>6,k+=7,$-=7,x.za=ue.c+15>>4,x.Ub=ue.i+15>>4,E.width=ue.c,E.height=ue.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((ne=x.Pa).jb,0,255,ne.jb.length),e((ne=x.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(ie.ub>$)return yr(x,7,"bad partition length");we(ne=x.m,D,k,ie.ub),k+=ie.ub,$-=ie.ub,ie.Rb&&(ue.Ld=Pe(ne),ue.Kd=Pe(ne)),ue=x.Qa;var de,ye=x.Pa;if(e(ne!=null),e(ue!=null),ue.Cb=Pe(ne),ue.Cb){if(ue.Bb=Pe(ne),Pe(ne)){for(ue.Fb=Pe(ne),de=0;4>de;++de)ue.Zb[de]=Pe(ne)?Ie(ne,7):0;for(de=0;4>de;++de)ue.Lb[de]=Pe(ne)?Ie(ne,6):0}if(ue.Bb)for(de=0;3>de;++de)ye.jb[de]=Pe(ne)?Se(ne,8):255}else ue.Bb=0;if(ne.Ka)return yr(x,3,"cannot parse segment header");if((ue=x.ed).zd=Pe(ne),ue.Tb=Se(ne,6),ue.wb=Se(ne,3),ue.Pc=Pe(ne),ue.Pc&&Pe(ne)){for(ye=0;4>ye;++ye)Pe(ne)&&(ue.vd[ye]=Ie(ne,6));for(ye=0;4>ye;++ye)Pe(ne)&&(ue.od[ye]=Ie(ne,6))}if(x.L=ue.Tb==0?0:ue.zd?1:2,ne.Ka)return yr(x,3,"cannot parse filter header");var Me=$;if($=de=k,k=de+Me,ue=Me,x.Xb=(1<<Se(x.m,2))-1,Me<3*(ye=x.Xb))D=7;else{for(de+=3*ye,ue-=3*ye,Me=0;Me<ye;++Me){var Ze=D[$+0]|D[$+1]<<8|D[$+2]<<16;Ze>ue&&(Ze=ue),we(x.Jc[+Me],D,de,Ze),de+=Ze,ue-=Ze,$+=3}we(x.Jc[+ye],D,de,ue),D=de<k?0:5}if(D!=0)return yr(x,D,"cannot parse partitions");for(D=Se(de=x.m,7),$=Pe(de)?Ie(de,4):0,k=Pe(de)?Ie(de,4):0,ue=Pe(de)?Ie(de,4):0,ye=Pe(de)?Ie(de,4):0,de=Pe(de)?Ie(de,4):0,Me=x.Qa,Ze=0;4>Ze;++Ze){if(Me.Cb){var $e=Me.Zb[Ze];Me.Fb||($e+=D)}else{if(0<Ze){x.pb[Ze]=x.pb[0];continue}$e=D}var ze=x.pb[Ze];ze.Sc[0]=Co[zn($e+$,127)],ze.Sc[1]=Wu[zn($e+0,127)],ze.Eb[0]=2*Co[zn($e+k,127)],ze.Eb[1]=101581*Wu[zn($e+ue,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=Co[zn($e+ye,117)],ze.Qc[1]=Wu[zn($e+de,127)],ze.lc=$e+de}if(!ie.Rb)return yr(x,4,"Not a key frame.");for(Pe(ne),ie=x.Pa,D=0;4>D;++D){for($=0;8>$;++$)for(k=0;3>k;++k)for(ue=0;11>ue;++ue)ye=Ye(ne,of[D][$][k][ue])?Se(ne,8):au[D][$][k][ue],ie.Wc[D][$].Yb[k][ue]=ye;for($=0;17>$;++$)ie.Xc[D][$]=ie.Wc[D][Pd[$]]}return x.kc=Pe(ne),x.kc&&(x.Bd=Se(ne,8)),x.cb=1}function ys(x,E,D,k,$,ne,ie){var ue=E[$].Yb[D];for(D=0;16>$;++$){if(!Ye(x,ue[D+0]))return $;for(;!Ye(x,ue[D+1]);)if(ue=E[++$].Yb[0],D=0,$==16)return 16;var de=E[$+1].Yb;if(Ye(x,ue[D+2])){var ye=x,Me=0;if(Ye(ye,($e=ue)[(Ze=D)+3]))if(Ye(ye,$e[Ze+6])){for(ue=0,Ze=2*(Me=Ye(ye,$e[Ze+8]))+($e=Ye(ye,$e[Ze+9+Me])),Me=0,$e=iu[Ze];$e[ue];++ue)Me+=Me+Ye(ye,$e[ue]);Me+=3+(8<<Ze)}else Ye(ye,$e[Ze+7])?(Me=7+2*Ye(ye,165),Me+=Ye(ye,145)):Me=5+Ye(ye,159);else Me=Ye(ye,$e[Ze+4])?3+Ye(ye,$e[Ze+5]):2;ue=de[2]}else Me=1,ue=de[1];de=ie+su[$],0>(ye=x).b&&We(ye);var Ze,$e=ye.b,ze=(Ze=ye.Ca>>1)-(ye.I>>$e)>>31;--ye.b,ye.Ca+=ze,ye.Ca|=1,ye.I-=(Ze+1&ze)<<$e,ne[de]=((Me^ze)-ze)*k[(0<$)+0]}return 16}function Ao(x){var E=x.rb[x.sb-1];E.la=0,E.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function _r(x,E){if(x==null)return 0;if(E==null)return yr(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Yn(x,E))return 0;if(e(x.cb),E.ac==null||E.ac(E)){E.ob&&(x.L=0);var D=Ku[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=E.v-D>>4,x.zb=E.j-D>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=E.o+15+D>>4,x.Hb=E.va+15+D>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var k=x.ed;for(D=0;4>D;++D){var $;if(x.Qa.Cb){var ne=x.Qa.Lb[D];x.Qa.Fb||(ne+=k.Tb)}else ne=k.Tb;for($=0;1>=$;++$){var ie=x.gd[D][$],ue=ne;if(k.Pc&&(ue+=k.vd[0],$&&(ue+=k.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var de=ue;0<k.wb&&(de=4<k.wb?de>>2:de>>1)>9-k.wb&&(de=9-k.wb),1>de&&(de=1),ie.dd=de,ie.tc=2*ue+de,ie.ld=40<=ue?2:15<=ue?1:0}else ie.tc=0;ie.La=$}}}D=0}else yr(x,6,"Frame setup failed"),D=x.a;if(D=D==0){if(D){x.$c=0,0<x.Aa||(x.Ic=Yi);e:{D=x.Ic,k=4*(de=x.za);var ye=32*de,Me=de+1,Ze=0<x.L?de*(0<x.Aa?2:1):0,$e=(x.Aa==2?2:1)*de;if((ie=k+832+($=3*(16*D+Ku[x.L])/2*ye)+(ne=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=ie)D=0;else{if(ie>x.Vb){if(x.Vb=0,x.Ec=l(ie),x.Fc=0,x.Ec==null){D=yr(x,1,"no memory during frame initialization.");break e}x.Vb=ie}ie=x.Ec,ue=x.Fc,x.Ac=ie,x.Bc=ue,ue+=k,x.Gd=f(ye,Fn),x.Hd=0,x.rb=f(Me+1,$i),x.sb=1,x.wa=Ze?f(Ze,pt):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=de),e(!0),x.oc=ie,x.pc=ue,ue+=832,x.ya=f($e,ii),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=de),x.R=16*de,x.B=8*de,de=(ye=Ku[x.L])*x.R,ye=ye/2*x.B,x.sa=ie,x.ta=ue+de,x.qa=x.sa,x.ra=x.ta+16*D*x.R+ye,x.Ha=x.qa,x.Ia=x.ra+8*D*x.B+ye,x.$c=0,ue+=$,x.mb=ne?ie:null,x.nb=ne?ue:null,e(ue+ne<=x.Fc+x.Vb),Ao(x),a(x.Ac,x.Bc,0,k),D=1}}if(D){if(E.ka=0,E.y=x.sa,E.O=x.ta,E.f=x.qa,E.N=x.ra,E.ea=x.Ha,E.Vd=x.Ia,E.fa=x.R,E.Rc=x.B,E.F=null,E.J=0,!nu){for(D=-255;255>=D;++D)Ei[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)Ca[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)wl[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)ya[255+D]=0>D?0:255<D?255:D;nu=1}Re=gi,Oe=Xe,rt=ge,vt=Rt,At=Dr,He=Mr,_t=Ds,Ln=ki,an=yn,pi=Kr,Bi=ao,li=tt,tr=Qs,ci=ga,Ti=As,_s=rs,ma=_i,Ms=Wo,Ia[0]=Xt,Ia[1]=_o,Ia[2]=ls,Ia[3]=vs,Ia[4]=Aa,Ia[5]=Cr,Ia[6]=sn,Ia[7]=ws,Ia[8]=Ks,Ia[9]=Xs,Ga[0]=os,Ga[1]=tn,Ga[2]=Kn,Ga[3]=Fa,Ga[4]=vr,Ga[5]=ba,Ga[6]=Ys,va[0]=ts,va[1]=Mi,va[2]=Ls,va[3]=xs,va[4]=Un,va[5]=zr,va[6]=bs,D=1}else D=0}D&&(D=function(ze,nt){for(ze.M=0;ze.M<ze.Va;++ze.M){var Je,Le=ze.Jc[ze.M&ze.Xb],Fe=ze.m,ft=ze;for(Je=0;Je<ft.za;++Je){var wt=Fe,mt=ft,jt=mt.Ac,Mt=mt.Bc+4*Je,hn=mt.zc,It=mt.ya[mt.aa+Je];if(mt.Qa.Bb?It.$b=Ye(wt,mt.Pa.jb[0])?2+Ye(wt,mt.Pa.jb[2]):Ye(wt,mt.Pa.jb[1]):It.$b=0,mt.kc&&(It.Ad=Ye(wt,mt.Bd)),It.Za=!Ye(wt,145)+0,It.Za){var dr=It.Ob,Sr=0;for(mt=0;4>mt;++mt){var sr,Zn=hn[0+mt];for(sr=0;4>sr;++sr){Zn=Md[jt[Mt+sr]][Zn];for(var Br=ac[Ye(wt,Zn[0])];0<Br;)Br=ac[2*Br+Ye(wt,Zn[Br])];Zn=-Br,jt[Mt+sr]=Zn}r(dr,Sr,jt,Mt,4),Sr+=4,hn[0+mt]=Zn}}else Zn=Ye(wt,156)?Ye(wt,128)?1:3:Ye(wt,163)?2:0,It.Ob[0]=Zn,a(jt,Mt,Zn,4),a(hn,0,Zn,4);It.Dd=Ye(wt,142)?Ye(wt,114)?Ye(wt,183)?1:3:2:0}if(ft.m.Ka)return yr(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(ft=Le,wt=(Fe=ze).rb[Fe.sb-1],jt=Fe.rb[Fe.sb+Fe.ja],Je=Fe.ya[Fe.aa+Fe.ja],Mt=Fe.kc?Je.Ad:0)wt.la=jt.la=0,Je.Za||(wt.Na=jt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var Nr,In;if(wt=jt,jt=ft,Mt=Fe.Pa.Xc,hn=Fe.ya[Fe.aa+Fe.ja],It=Fe.pb[hn.$b],mt=hn.ad,dr=0,Sr=Fe.rb[Fe.sb-1],Zn=sr=0,a(mt,dr,0,384),hn.Za)var Si=0,Fr=Mt[3];else{Br=l(16);var Hn=wt.Na+Sr.Na;if(Hn=sc(jt,Mt[1],Hn,It.Eb,0,Br,0),wt.Na=Sr.Na=(0<Hn)+0,1<Hn)Re(Br,0,mt,dr);else{var us=Br[0]+3>>3;for(Br=0;256>Br;Br+=16)mt[dr+Br]=us}Si=1,Fr=Mt[0]}var gr=15&wt.la,Ss=15&Sr.la;for(Br=0;4>Br;++Br){var Bs=1&Ss;for(us=In=0;4>us;++us)gr=gr>>1|(Bs=(Hn=sc(jt,Fr,Hn=Bs+(1&gr),It.Sc,Si,mt,dr))>Si)<<7,In=In<<2|(3<Hn?3:1<Hn?2:mt[dr+0]!=0),dr+=16;gr>>=4,Ss=Ss>>1|Bs<<7,sr=(sr<<8|In)>>>0}for(Fr=gr,Si=Ss>>4,Nr=0;4>Nr;Nr+=2){for(In=0,gr=wt.la>>4+Nr,Ss=Sr.la>>4+Nr,Br=0;2>Br;++Br){for(Bs=1&Ss,us=0;2>us;++us)Hn=Bs+(1&gr),gr=gr>>1|(Bs=0<(Hn=sc(jt,Mt[2],Hn,It.Qc,0,mt,dr)))<<3,In=In<<2|(3<Hn?3:1<Hn?2:mt[dr+0]!=0),dr+=16;gr>>=2,Ss=Ss>>1|Bs<<5}Zn|=In<<4*Nr,Fr|=gr<<4<<Nr,Si|=(240&Ss)<<Nr}wt.la=Fr,Sr.la=Si,hn.Hc=sr,hn.Gc=Zn,hn.ia=43690&Zn?0:It.ia,Mt=!(sr|Zn)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Je.$b][Je.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Mt),ft.Ka)return yr(ze,7,"Premature end-of-file encountered.")}if(Ao(ze),Fe=nt,ft=1,Je=(Le=ze).D,wt=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(Je.M=Le.M,Je.uc=wt,Zr(Le,Je),ft=1,Je=(In=Le.D).Nb,wt=(Zn=Ku[Le.L])*Le.R,jt=Zn/2*Le.B,Br=16*Je*Le.R,us=8*Je*Le.B,Mt=Le.sa,hn=Le.ta-wt+Br,It=Le.qa,mt=Le.ra-jt+us,dr=Le.Ha,Sr=Le.Ia-jt+us,Ss=(gr=In.M)==0,sr=gr>=Le.Va-1,Le.Aa==2&&Zr(Le,In),In.uc)for(Bs=(Hn=Le).D.M,e(Hn.D.uc),In=Hn.yb;In<Hn.Hb;++In){Si=In,Fr=Bs;var qr=(Fi=(hi=Hn).D).Nb;Nr=hi.R;var Fi=Fi.wa[Fi.Y+Si],hs=hi.sa,ta=hi.ta+16*qr*Nr+16*Si,Ya=Fi.dd,Xi=Fi.tc;if(Xi!=0)if(e(3<=Xi),hi.L==1)0<Si&&_s(hs,ta,Nr,Xi+4),Fi.La&&Ms(hs,ta,Nr,Xi),0<Fr&&Ti(hs,ta,Nr,Xi+4),Fi.La&&ma(hs,ta,Nr,Xi);else{var fo=hi.B,Jo=hi.qa,El=hi.ra+8*qr*fo+8*Si,No=hi.Ha,hi=hi.Ia+8*qr*fo+8*Si;qr=Fi.ld,0<Si&&(Ln(hs,ta,Nr,Xi+4,Ya,qr),pi(Jo,El,No,hi,fo,Xi+4,Ya,qr)),Fi.La&&(li(hs,ta,Nr,Xi,Ya,qr),ci(Jo,El,No,hi,fo,Xi,Ya,qr)),0<Fr&&(_t(hs,ta,Nr,Xi+4,Ya,qr),an(Jo,El,No,hi,fo,Xi+4,Ya,qr)),Fi.La&&(Bi(hs,ta,Nr,Xi,Ya,qr),tr(Jo,El,No,hi,fo,Xi,Ya,qr))}}if(Le.ia&&alert("todo:DitherRow"),Fe.put!=null){if(In=16*gr,gr=16*(gr+1),Ss?(Fe.y=Le.sa,Fe.O=Le.ta+Br,Fe.f=Le.qa,Fe.N=Le.ra+us,Fe.ea=Le.Ha,Fe.W=Le.Ia+us):(In-=Zn,Fe.y=Mt,Fe.O=hn,Fe.f=It,Fe.N=mt,Fe.ea=dr,Fe.W=Sr),sr||(gr-=Zn),gr>Fe.o&&(gr=Fe.o),Fe.F=null,Fe.J=null,Le.Fa!=null&&0<Le.Fa.length&&In<gr&&(Fe.J=Jn(Le,Fe,In,gr-In),Fe.F=Le.mb,Fe.F==null&&Fe.F.length==0)){ft=yr(Le,3,"Could not decode alpha data.");break e}In<Fe.j&&(Zn=Fe.j-In,In=Fe.j,e(!(1&Zn)),Fe.O+=Le.R*Zn,Fe.N+=Le.B*(Zn>>1),Fe.W+=Le.B*(Zn>>1),Fe.F!=null&&(Fe.J+=Fe.width*Zn)),In<gr&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=In-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=gr-In,ft=Fe.put(Fe))}Je+1!=Le.Ic||sr||(r(Le.sa,Le.ta-wt,Mt,hn+16*Le.R,wt),r(Le.qa,Le.ra-jt,It,mt+8*Le.B,jt),r(Le.Ha,Le.Ia-jt,dr,Sr+8*Le.B,jt))}if(!ft)return yr(ze,6,"Output aborted.")}return 1}(x,E)),E.bc!=null&&E.bc(E),D&=1}return D?(x.cb=0,D):0}function si(x,E,D,k,$){$=x[E+D+32*k]+($>>3),x[E+D+32*k]=-256&$?0>$?0:255:$}function da(x,E,D,k,$,ne){si(x,E,0,D,k+$),si(x,E,1,D,k+ne),si(x,E,2,D,k-ne),si(x,E,3,D,k-$)}function Lr(x){return(20091*x>>16)+x}function cn(x,E,D,k){var $,ne=0,ie=l(16);for($=0;4>$;++$){var ue=x[E+0]+x[E+8],de=x[E+0]-x[E+8],ye=(35468*x[E+4]>>16)-Lr(x[E+12]),Me=Lr(x[E+4])+(35468*x[E+12]>>16);ie[ne+0]=ue+Me,ie[ne+1]=de+ye,ie[ne+2]=de-ye,ie[ne+3]=ue-Me,ne+=4,E++}for($=ne=0;4>$;++$)ue=(x=ie[ne+0]+4)+ie[ne+8],de=x-ie[ne+8],ye=(35468*ie[ne+4]>>16)-Lr(ie[ne+12]),si(D,k,0,0,ue+(Me=Lr(ie[ne+4])+(35468*ie[ne+12]>>16))),si(D,k,1,0,de+ye),si(D,k,2,0,de-ye),si(D,k,3,0,ue-Me),ne++,k+=32}function Mr(x,E,D,k){var $=x[E+0]+4,ne=35468*x[E+4]>>16,ie=Lr(x[E+4]),ue=35468*x[E+1]>>16;da(D,k,0,$+ie,x=Lr(x[E+1]),ue),da(D,k,1,$+ne,x,ue),da(D,k,2,$-ne,x,ue),da(D,k,3,$-ie,x,ue)}function Xe(x,E,D,k,$){cn(x,E,D,k),$&&cn(x,E+16,D,k+4)}function ge(x,E,D,k){Oe(x,E+0,D,k,1),Oe(x,E+32,D,k+128,1)}function Rt(x,E,D,k){var $;for(x=x[E+0]+4,$=0;4>$;++$)for(E=0;4>E;++E)si(D,k,E,$,x)}function Dr(x,E,D,k){x[E+0]&&vt(x,E+0,D,k),x[E+16]&&vt(x,E+16,D,k+4),x[E+32]&&vt(x,E+32,D,k+128),x[E+48]&&vt(x,E+48,D,k+128+4)}function gi(x,E,D,k){var $,ne=l(16);for($=0;4>$;++$){var ie=x[E+0+$]+x[E+12+$],ue=x[E+4+$]+x[E+8+$],de=x[E+4+$]-x[E+8+$],ye=x[E+0+$]-x[E+12+$];ne[0+$]=ie+ue,ne[8+$]=ie-ue,ne[4+$]=ye+de,ne[12+$]=ye-de}for($=0;4>$;++$)ie=(x=ne[0+4*$]+3)+ne[3+4*$],ue=ne[1+4*$]+ne[2+4*$],de=ne[1+4*$]-ne[2+4*$],ye=x-ne[3+4*$],D[k+0]=ie+ue>>3,D[k+16]=ye+de>>3,D[k+32]=ie-ue>>3,D[k+48]=ye-de>>3,k+=64}function es(x,E,D){var k,$=E-32,ne=$s,ie=255-x[$-1];for(k=0;k<D;++k){var ue,de=ne,ye=ie+x[E-1];for(ue=0;ue<D;++ue)x[E+ue]=de[ye+x[$+ue]];E+=32}}function _o(x,E){es(x,E,4)}function Mi(x,E){es(x,E,8)}function tn(x,E){es(x,E,16)}function Kn(x,E){var D;for(D=0;16>D;++D)r(x,E+32*D,x,E-32,16)}function Fa(x,E){var D;for(D=16;0<D;--D)a(x,E,x[E-1],16),E+=32}function so(x,E,D){var k;for(k=0;16>k;++k)a(E,D+32*k,x,16)}function os(x,E){var D,k=16;for(D=0;16>D;++D)k+=x[E-1+32*D]+x[E+D-32];so(k>>5,x,E)}function vr(x,E){var D,k=8;for(D=0;16>D;++D)k+=x[E-1+32*D];so(k>>4,x,E)}function ba(x,E){var D,k=8;for(D=0;16>D;++D)k+=x[E+D-32];so(k>>4,x,E)}function Ys(x,E){so(128,x,E)}function Ut(x,E,D){return x+2*E+D+2>>2}function ls(x,E){var D,k=E-32;for(k=new Uint8Array([Ut(x[k-1],x[k+0],x[k+1]),Ut(x[k+0],x[k+1],x[k+2]),Ut(x[k+1],x[k+2],x[k+3]),Ut(x[k+2],x[k+3],x[k+4])]),D=0;4>D;++D)r(x,E+32*D,k,0,k.length)}function vs(x,E){var D=x[E-1],k=x[E-1+32],$=x[E-1+64],ne=x[E-1+96];ct(x,E+0,16843009*Ut(x[E-1-32],D,k)),ct(x,E+32,16843009*Ut(D,k,$)),ct(x,E+64,16843009*Ut(k,$,ne)),ct(x,E+96,16843009*Ut($,ne,ne))}function Xt(x,E){var D,k=4;for(D=0;4>D;++D)k+=x[E+D-32]+x[E-1+32*D];for(k>>=3,D=0;4>D;++D)a(x,E+32*D,k,4)}function Aa(x,E){var D=x[E-1+0],k=x[E-1+32],$=x[E-1+64],ne=x[E-1-32],ie=x[E+0-32],ue=x[E+1-32],de=x[E+2-32],ye=x[E+3-32];x[E+0+96]=Ut(k,$,x[E-1+96]),x[E+1+96]=x[E+0+64]=Ut(D,k,$),x[E+2+96]=x[E+1+64]=x[E+0+32]=Ut(ne,D,k),x[E+3+96]=x[E+2+64]=x[E+1+32]=x[E+0+0]=Ut(ie,ne,D),x[E+3+64]=x[E+2+32]=x[E+1+0]=Ut(ue,ie,ne),x[E+3+32]=x[E+2+0]=Ut(de,ue,ie),x[E+3+0]=Ut(ye,de,ue)}function sn(x,E){var D=x[E+1-32],k=x[E+2-32],$=x[E+3-32],ne=x[E+4-32],ie=x[E+5-32],ue=x[E+6-32],de=x[E+7-32];x[E+0+0]=Ut(x[E+0-32],D,k),x[E+1+0]=x[E+0+32]=Ut(D,k,$),x[E+2+0]=x[E+1+32]=x[E+0+64]=Ut(k,$,ne),x[E+3+0]=x[E+2+32]=x[E+1+64]=x[E+0+96]=Ut($,ne,ie),x[E+3+32]=x[E+2+64]=x[E+1+96]=Ut(ne,ie,ue),x[E+3+64]=x[E+2+96]=Ut(ie,ue,de),x[E+3+96]=Ut(ue,de,de)}function Cr(x,E){var D=x[E-1+0],k=x[E-1+32],$=x[E-1+64],ne=x[E-1-32],ie=x[E+0-32],ue=x[E+1-32],de=x[E+2-32],ye=x[E+3-32];x[E+0+0]=x[E+1+64]=ne+ie+1>>1,x[E+1+0]=x[E+2+64]=ie+ue+1>>1,x[E+2+0]=x[E+3+64]=ue+de+1>>1,x[E+3+0]=de+ye+1>>1,x[E+0+96]=Ut($,k,D),x[E+0+64]=Ut(k,D,ne),x[E+0+32]=x[E+1+96]=Ut(D,ne,ie),x[E+1+32]=x[E+2+96]=Ut(ne,ie,ue),x[E+2+32]=x[E+3+96]=Ut(ie,ue,de),x[E+3+32]=Ut(ue,de,ye)}function ws(x,E){var D=x[E+0-32],k=x[E+1-32],$=x[E+2-32],ne=x[E+3-32],ie=x[E+4-32],ue=x[E+5-32],de=x[E+6-32],ye=x[E+7-32];x[E+0+0]=D+k+1>>1,x[E+1+0]=x[E+0+64]=k+$+1>>1,x[E+2+0]=x[E+1+64]=$+ne+1>>1,x[E+3+0]=x[E+2+64]=ne+ie+1>>1,x[E+0+32]=Ut(D,k,$),x[E+1+32]=x[E+0+96]=Ut(k,$,ne),x[E+2+32]=x[E+1+96]=Ut($,ne,ie),x[E+3+32]=x[E+2+96]=Ut(ne,ie,ue),x[E+3+64]=Ut(ie,ue,de),x[E+3+96]=Ut(ue,de,ye)}function Xs(x,E){var D=x[E-1+0],k=x[E-1+32],$=x[E-1+64],ne=x[E-1+96];x[E+0+0]=D+k+1>>1,x[E+2+0]=x[E+0+32]=k+$+1>>1,x[E+2+32]=x[E+0+64]=$+ne+1>>1,x[E+1+0]=Ut(D,k,$),x[E+3+0]=x[E+1+32]=Ut(k,$,ne),x[E+3+32]=x[E+1+64]=Ut($,ne,ne),x[E+3+64]=x[E+2+64]=x[E+0+96]=x[E+1+96]=x[E+2+96]=x[E+3+96]=ne}function Ks(x,E){var D=x[E-1+0],k=x[E-1+32],$=x[E-1+64],ne=x[E-1+96],ie=x[E-1-32],ue=x[E+0-32],de=x[E+1-32],ye=x[E+2-32];x[E+0+0]=x[E+2+32]=D+ie+1>>1,x[E+0+32]=x[E+2+64]=k+D+1>>1,x[E+0+64]=x[E+2+96]=$+k+1>>1,x[E+0+96]=ne+$+1>>1,x[E+3+0]=Ut(ue,de,ye),x[E+2+0]=Ut(ie,ue,de),x[E+1+0]=x[E+3+32]=Ut(D,ie,ue),x[E+1+32]=x[E+3+64]=Ut(k,D,ie),x[E+1+64]=x[E+3+96]=Ut($,k,D),x[E+1+96]=Ut(ne,$,k)}function Ls(x,E){var D;for(D=0;8>D;++D)r(x,E+32*D,x,E-32,8)}function xs(x,E){var D;for(D=0;8>D;++D)a(x,E,x[E-1],8),E+=32}function bi(x,E,D){var k;for(k=0;8>k;++k)a(E,D+32*k,x,8)}function ts(x,E){var D,k=8;for(D=0;8>D;++D)k+=x[E+D-32]+x[E-1+32*D];bi(k>>4,x,E)}function zr(x,E){var D,k=4;for(D=0;8>D;++D)k+=x[E+D-32];bi(k>>3,x,E)}function Un(x,E){var D,k=4;for(D=0;8>D;++D)k+=x[E-1+32*D];bi(k>>3,x,E)}function bs(x,E){bi(128,x,E)}function ns(x,E,D){var k=x[E-D],$=x[E+0],ne=3*($-k)+ic[1020+x[E-2*D]-x[E+D]],ie=Eo[112+(ne+4>>3)];x[E-D]=$s[255+k+Eo[112+(ne+3>>3)]],x[E+0]=$s[255+$-ie]}function Ai(x,E,D,k){var $=x[E+0],ne=x[E+D];return yi[255+x[E-2*D]-x[E-D]]>k||yi[255+ne-$]>k}function _a(x,E,D,k){return 4*yi[255+x[E-D]-x[E+0]]+yi[255+x[E-2*D]-x[E+D]]<=k}function Ea(x,E,D,k,$){var ne=x[E-3*D],ie=x[E-2*D],ue=x[E-D],de=x[E+0],ye=x[E+D],Me=x[E+2*D],Ze=x[E+3*D];return 4*yi[255+ue-de]+yi[255+ie-ye]>k?0:yi[255+x[E-4*D]-ne]<=$&&yi[255+ne-ie]<=$&&yi[255+ie-ue]<=$&&yi[255+Ze-Me]<=$&&yi[255+Me-ye]<=$&&yi[255+ye-de]<=$}function As(x,E,D,k){var $=2*k+1;for(k=0;16>k;++k)_a(x,E+k,D,$)&&ns(x,E+k,D)}function rs(x,E,D,k){var $=2*k+1;for(k=0;16>k;++k)_a(x,E+k*D,1,$)&&ns(x,E+k*D,1)}function _i(x,E,D,k){var $;for($=3;0<$;--$)As(x,E+=4*D,D,k)}function Wo(x,E,D,k){var $;for($=3;0<$;--$)rs(x,E+=4,D,k)}function Vn(x,E,D,k,$,ne,ie,ue){for(ne=2*ne+1;0<$--;){if(Ea(x,E,D,ne,ie))if(Ai(x,E,D,ue))ns(x,E,D);else{var de=x,ye=E,Me=D,Ze=de[ye-2*Me],$e=de[ye-Me],ze=de[ye+0],nt=de[ye+Me],Je=de[ye+2*Me],Le=27*(ft=ic[1020+3*(ze-$e)+ic[1020+Ze-nt]])+63>>7,Fe=18*ft+63>>7,ft=9*ft+63>>7;de[ye-3*Me]=$s[255+de[ye-3*Me]+ft],de[ye-2*Me]=$s[255+Ze+Fe],de[ye-Me]=$s[255+$e+Le],de[ye+0]=$s[255+ze-Le],de[ye+Me]=$s[255+nt-Fe],de[ye+2*Me]=$s[255+Je-ft]}E+=k}}function Pi(x,E,D,k,$,ne,ie,ue){for(ne=2*ne+1;0<$--;){if(Ea(x,E,D,ne,ie))if(Ai(x,E,D,ue))ns(x,E,D);else{var de=x,ye=E,Me=D,Ze=de[ye-Me],$e=de[ye+0],ze=de[ye+Me],nt=Eo[112+((Je=3*($e-Ze))+4>>3)],Je=Eo[112+(Je+3>>3)],Le=nt+1>>1;de[ye-2*Me]=$s[255+de[ye-2*Me]+Le],de[ye-Me]=$s[255+Ze+Je],de[ye+0]=$s[255+$e-nt],de[ye+Me]=$s[255+ze-Le]}E+=k}}function Ds(x,E,D,k,$,ne){Vn(x,E,D,1,16,k,$,ne)}function ki(x,E,D,k,$,ne){Vn(x,E,1,D,16,k,$,ne)}function ao(x,E,D,k,$,ne){var ie;for(ie=3;0<ie;--ie)Pi(x,E+=4*D,D,1,16,k,$,ne)}function tt(x,E,D,k,$,ne){var ie;for(ie=3;0<ie;--ie)Pi(x,E+=4,1,D,16,k,$,ne)}function yn(x,E,D,k,$,ne,ie,ue){Vn(x,E,$,1,8,ne,ie,ue),Vn(D,k,$,1,8,ne,ie,ue)}function Kr(x,E,D,k,$,ne,ie,ue){Vn(x,E,1,$,8,ne,ie,ue),Vn(D,k,1,$,8,ne,ie,ue)}function Qs(x,E,D,k,$,ne,ie,ue){Pi(x,E+4*$,$,1,8,ne,ie,ue),Pi(D,k+4*$,$,1,8,ne,ie,ue)}function ga(x,E,D,k,$,ne,ie,ue){Pi(x,E+4,1,$,8,ne,ie,ue),Pi(D,k+4,1,$,8,ne,ie,ue)}function ja(){this.ba=new un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function oo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ua(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zs(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new F}function Hr(){this.xb=this.a=0,this.l=new Tn,this.ca=new un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zs,this.ab=0,this.gc=f(4,Ua),this.Oc=0}function Os(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hr(x,E,D,k,$,ne,ie){for(x=x==null?0:x[E+0],E=0;E<ie;++E)$[ne+E]=x+D[k+E]&255,x=$[ne+E]}function Js(x,E,D,k,$,ne,ie){var ue;if(x==null)hr(null,null,D,k,$,ne,ie);else for(ue=0;ue<ie;++ue)$[ne+ue]=x[E+ue]+D[k+ue]&255}function ai(x,E,D,k,$,ne,ie){if(x==null)hr(null,null,D,k,$,ne,ie);else{var ue,de=x[E+0],ye=de,Me=de;for(ue=0;ue<ie;++ue)ye=Me+(de=x[E+ue])-ye,Me=D[k+ue]+(-256&ye?0>ye?0:255:ye)&255,ye=de,$[ne+ue]=Me}}function Jn(x,E,D,k){var $=E.width,ne=E.o;if(e(x!=null&&E!=null),0>D||0>=k||D+k>ne)return null;if(!x.Cc){if(x.ga==null){var ie;if(x.ga=new Os,(ie=x.ga==null)||(ie=E.width*E.o,e(x.Gb.length==0),x.Gb=l(ie),x.Uc=0,x.Gb==null?ie=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ie=1),ie=!ie),!ie){ie=x.ga;var ue=x.Fa,de=x.P,ye=x.qc,Me=x.mb,Ze=x.nb,$e=de+1,ze=ye-1,nt=ie.l;if(e(ue!=null&&Me!=null&&E!=null),Na[0]=null,Na[1]=hr,Na[2]=Js,Na[3]=ai,ie.ca=Me,ie.tb=Ze,ie.c=E.width,ie.i=E.height,e(0<ie.c&&0<ie.i),1>=ye)E=0;else if(ie.$a=ue[de+0]>>0&3,ie.Z=ue[de+0]>>2&3,ie.Lc=ue[de+0]>>4&3,de=ue[de+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||de)E=0;else if(nt.put=ni,nt.ac=Gn,nt.bc=Di,nt.ma=ie,nt.width=E.width,nt.height=E.height,nt.Da=E.Da,nt.v=E.v,nt.va=E.va,nt.j=E.j,nt.o=E.o,ie.$a)e:{e(ie.$a==1),E=Vr();t:for(;;){if(E==null){E=0;break e}if(e(ie!=null),ie.mc=E,E.c=ie.c,E.i=ie.i,E.l=ie.l,E.l.ma=ie,E.l.width=ie.c,E.l.height=ie.i,E.a=0,_e(E.m,ue,$e,ze),!Xr(ie.c,ie.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&cr(E.s)?(ie.ic=1,ue=E.c*E.i,E.Ta=null,E.Ua=0,E.V=l(ue),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ie.ic=0,E=ms(E,ie.c)),!E))break t;E=1;break e}ie.mc=null,E=0}else E=ze>=ie.c*ie.i;ie=!E}if(ie)return null;x.ga.Lc!=1?x.Ga=0:k=ne-D}e(x.ga!=null),e(D+k<=ne);e:{if(E=(ue=x.ga).c,ne=ue.l.o,ue.$a==0){if($e=x.rc,ze=x.Vc,nt=x.Fa,de=x.P+1+D*E,ye=x.mb,Me=x.nb+D*E,e(de<=x.P+x.qc),ue.Z!=0)for(e(Na[ue.Z]!=null),ie=0;ie<k;++ie)Na[ue.Z]($e,ze,nt,de,ye,Me,E),$e=ye,ze=Me,Me+=E,de+=E;else for(ie=0;ie<k;++ie)r(ye,Me,nt,de,E),$e=ye,ze=Me,Me+=E,de+=E;x.rc=$e,x.Vc=ze}else{if(e(ue.mc!=null),E=D+k,e((ie=ue.mc)!=null),e(E<=ie.i),ie.C>=E)E=1;else if(ue.ic||je(),ue.ic){ue=ie.V,$e=ie.Ba,ze=ie.c;var Je=ie.i,Le=(nt=1,de=ie.$/ze,ye=ie.$%ze,Me=ie.m,Ze=ie.s,ie.$),Fe=ze*Je,ft=ze*E,wt=Ze.wc,mt=Le<ft?Ar(Ze,ye,de):null;e(Le<=Fe),e(E<=Je),e(cr(Ze));t:for(;;){for(;!Me.h&&Le<ft;){if(ye&wt||(mt=Ar(Ze,ye,de)),e(mt!=null),ve(Me),256>(Je=Yr(mt.G[0],mt.H[0],Me)))ue[$e+Le]=Je,++Le,++ye>=ze&&(ye=0,++de<=E&&!(de%16)&&rr(ie,de));else{if(!(280>Je)){nt=0;break t}Je=ps(Je-256,Me);var jt,Mt=Yr(mt.G[4],mt.H[4],Me);if(ve(Me),!(Le>=(Mt=Wr(ze,Mt=ps(Mt,Me)))&&Fe-Le>=Je)){nt=0;break t}for(jt=0;jt<Je;++jt)ue[$e+Le+jt]=ue[$e+Le+jt-Mt];for(Le+=Je,ye+=Je;ye>=ze;)ye-=ze,++de<=E&&!(de%16)&&rr(ie,de);Le<ft&&ye&wt&&(mt=Ar(Ze,ye,de))}e(Me.h==fe(Me))}rr(ie,de>E?E:de);break t}!nt||Me.h&&Le<Fe?(nt=0,ie.a=Me.h?5:3):ie.$=Le,E=nt}else E=ri(ie,ie.V,ie.Ba,ie.c,ie.i,E,qs);if(!E){k=0;break e}}D+k>=ne&&(x.Cc=1),k=1}if(!k)return null;if(x.Cc&&((k=x.ga)!=null&&(k.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+D*$}function C(x,E,D,k,$,ne){for(;0<$--;){var ie,ue=x,de=E+(D?1:0),ye=x,Me=E+(D?0:3);for(ie=0;ie<k;++ie){var Ze=ye[Me+4*ie];Ze!=255&&(Ze*=32897,ue[de+4*ie+0]=ue[de+4*ie+0]*Ze>>23,ue[de+4*ie+1]=ue[de+4*ie+1]*Ze>>23,ue[de+4*ie+2]=ue[de+4*ie+2]*Ze>>23)}E+=ne}}function ee(x,E,D,k,$){for(;0<k--;){var ne;for(ne=0;ne<D;++ne){var ie=x[E+2*ne+0],ue=15&(ye=x[E+2*ne+1]),de=4369*ue,ye=(240&ye|ye>>4)*de>>16;x[E+2*ne+0]=(240&ie|ie>>4)*de>>16&240|(15&ie|ie<<4)*de>>16>>4&15,x[E+2*ne+1]=240&ye|ue}E+=$}}function pe(x,E,D,k,$,ne,ie,ue){var de,ye,Me=255;for(ye=0;ye<$;++ye){for(de=0;de<k;++de){var Ze=x[E+de];ne[ie+4*de]=Ze,Me&=Ze}E+=D,ie+=ue}return Me!=255}function Ne(x,E,D,k,$){var ne;for(ne=0;ne<$;++ne)D[k+ne]=x[E+ne]>>8}function je(){ui=C,Qn=ee,Er=pe,mi=Ne}function ot(x,E,D){z[x]=function(k,$,ne,ie,ue,de,ye,Me,Ze,$e,ze,nt,Je,Le,Fe,ft,wt){var mt,jt=wt-1>>1,Mt=ue[de+0]|ye[Me+0]<<16,hn=Ze[$e+0]|ze[nt+0]<<16;e(k!=null);var It=3*Mt+hn+131074>>2;for(E(k[$+0],255&It,It>>16,Je,Le),ne!=null&&(It=3*hn+Mt+131074>>2,E(ne[ie+0],255&It,It>>16,Fe,ft)),mt=1;mt<=jt;++mt){var dr=ue[de+mt]|ye[Me+mt]<<16,Sr=Ze[$e+mt]|ze[nt+mt]<<16,sr=Mt+dr+hn+Sr+524296,Zn=sr+2*(dr+hn)>>3;It=Zn+Mt>>1,Mt=(sr=sr+2*(Mt+Sr)>>3)+dr>>1,E(k[$+2*mt-1],255&It,It>>16,Je,Le+(2*mt-1)*D),E(k[$+2*mt-0],255&Mt,Mt>>16,Je,Le+(2*mt-0)*D),ne!=null&&(It=sr+hn>>1,Mt=Zn+Sr>>1,E(ne[ie+2*mt-1],255&It,It>>16,Fe,ft+(2*mt-1)*D),E(ne[ie+2*mt+0],255&Mt,Mt>>16,Fe,ft+(2*mt+0)*D)),Mt=dr,hn=Sr}1&wt||(It=3*Mt+hn+131074>>2,E(k[$+wt-1],255&It,It>>16,Je,Le+(wt-1)*D),ne!=null&&(It=3*hn+Mt+131074>>2,E(ne[ie+wt-1],255&It,It>>16,Fe,ft+(wt-1)*D)))}}function yt(){ks[So]=ou,ks[To]=lf,ks[ru]=Yu,ks[xl]=cf,ks[Ps]=Ko,ks[ea]=uf,ks[Xo]=oc,ks[za]=lf,ks[Ha]=cf,ks[uo]=Ko,ks[Gu]=uf}function Ot(x){return x&-16384?0>x?0:255:x>>Ra}function b(x,E){return Ot((19077*x>>8)+(26149*E>>8)-14234)}function O(x,E,D){return Ot((19077*x>>8)-(6419*E>>8)-(13320*D>>8)+8708)}function U(x,E){return Ot((19077*x>>8)+(33050*E>>8)-17685)}function oe(x,E,D,k,$){k[$+0]=b(x,D),k[$+1]=O(x,E,D),k[$+2]=U(x,E)}function Ue(x,E,D,k,$){k[$+0]=U(x,E),k[$+1]=O(x,E,D),k[$+2]=b(x,D)}function Qe(x,E,D,k,$){var ne=O(x,E,D);E=ne<<3&224|U(x,E)>>3,k[$+0]=248&b(x,D)|ne>>5,k[$+1]=E}function St(x,E,D,k,$){var ne=240&U(x,E)|15;k[$+0]=240&b(x,D)|O(x,E,D)>>4,k[$+1]=ne}function gn(x,E,D,k,$){k[$+0]=255,oe(x,E,D,k,$+1)}function Rn(x,E,D,k,$){Ue(x,E,D,k,$),k[$+3]=255}function _n(x,E,D,k,$){oe(x,E,D,k,$),k[$+3]=255}function zn(x,E){return 0>x?0:x>E?E:x}function fr(x,E,D){z[x]=function(k,$,ne,ie,ue,de,ye,Me,Ze){for(var $e=Me+(-2&Ze)*D;Me!=$e;)E(k[$+0],ne[ie+0],ue[de+0],ye,Me),E(k[$+1],ne[ie+0],ue[de+0],ye,Me+D),$+=2,++ie,++de,Me+=2*D;1&Ze&&E(k[$+0],ne[ie+0],ue[de+0],ye,Me)}}function Qr(x,E,D){return D==0?x==0?E==0?6:5:E==0?4:0:D}function oi(x,E,D,k,$){switch(x>>>30){case 3:Oe(E,D,k,$,0);break;case 2:He(E,D,k,$);break;case 1:vt(E,D,k,$)}}function Zr(x,E){var D,k,$=E.M,ne=E.Nb,ie=x.oc,ue=x.pc+40,de=x.oc,ye=x.pc+584,Me=x.oc,Ze=x.pc+600;for(D=0;16>D;++D)ie[ue+32*D-1]=129;for(D=0;8>D;++D)de[ye+32*D-1]=129,Me[Ze+32*D-1]=129;for(0<$?ie[ue-1-32]=de[ye-1-32]=Me[Ze-1-32]=129:(a(ie,ue-32-1,127,21),a(de,ye-32-1,127,9),a(Me,Ze-32-1,127,9)),k=0;k<x.za;++k){var $e=E.ya[E.aa+k];if(0<k){for(D=-1;16>D;++D)r(ie,ue+32*D-4,ie,ue+32*D+12,4);for(D=-1;8>D;++D)r(de,ye+32*D-4,de,ye+32*D+4,4),r(Me,Ze+32*D-4,Me,Ze+32*D+4,4)}var ze=x.Gd,nt=x.Hd+k,Je=$e.ad,Le=$e.Hc;if(0<$&&(r(ie,ue-32,ze[nt].y,0,16),r(de,ye-32,ze[nt].f,0,8),r(Me,Ze-32,ze[nt].ea,0,8)),$e.Za){var Fe=ie,ft=ue-32+16;for(0<$&&(k>=x.za-1?a(Fe,ft,ze[nt].y[15],4):r(Fe,ft,ze[nt+1].y,0,4)),D=0;4>D;D++)Fe[ft+128+D]=Fe[ft+256+D]=Fe[ft+384+D]=Fe[ft+0+D];for(D=0;16>D;++D,Le<<=2)Fe=ie,ft=ue+Fd[D],Ia[$e.Ob[D]](Fe,ft),oi(Le,Je,16*+D,Fe,ft)}else if(Fe=Qr(k,$,$e.Ob[0]),Ga[Fe](ie,ue),Le!=0)for(D=0;16>D;++D,Le<<=2)oi(Le,Je,16*+D,ie,ue+Fd[D]);for(D=$e.Gc,Fe=Qr(k,$,$e.Dd),va[Fe](de,ye),va[Fe](Me,Ze),Le=Je,Fe=de,ft=ye,255&($e=D>>0)&&(170&$e?rt(Le,256,Fe,ft):At(Le,256,Fe,ft)),$e=Me,Le=Ze,255&(D>>=8)&&(170&D?rt(Je,320,$e,Le):At(Je,320,$e,Le)),$<x.Ub-1&&(r(ze[nt].y,0,ie,ue+480,16),r(ze[nt].f,0,de,ye+224,8),r(ze[nt].ea,0,Me,Ze+224,8)),D=8*ne*x.B,ze=x.sa,nt=x.ta+16*k+16*ne*x.R,Je=x.qa,$e=x.ra+8*k+D,Le=x.Ha,Fe=x.Ia+8*k+D,D=0;16>D;++D)r(ze,nt+D*x.R,ie,ue+32*D,16);for(D=0;8>D;++D)r(Je,$e+D*x.B,de,ye+32*D,8),r(Le,Fe+D*x.B,Me,Ze+32*D,8)}}function Sa(x,E,D,k,$,ne,ie,ue,de){var ye=[0],Me=[0],Ze=0,$e=de!=null?de.kd:0,ze=de??new oo;if(x==null||12>D)return 7;ze.data=x,ze.w=E,ze.ha=D,E=[E],D=[D],ze.gb=[ze.gb];e:{var nt=E,Je=D,Le=ze.gb;if(e(x!=null),e(Je!=null),e(Le!=null),Le[0]=0,12<=Je[0]&&!t(x,nt[0],"RIFF")){if(t(x,nt[0]+8,"WEBP")){Le=3;break e}var Fe=gt(x,nt[0]+4);if(12>Fe||4294967286<Fe){Le=3;break e}if($e&&Fe>Je[0]-8){Le=7;break e}Le[0]=Fe,nt[0]+=12,Je[0]-=12}Le=0}if(Le!=0)return Le;for(Fe=0<ze.gb[0],D=D[0];;){e:{var ft=x;Je=E,Le=D;var wt=ye,mt=Me,jt=nt=[0];if((It=Ze=[Ze])[0]=0,8>Le[0])Le=7;else{if(!t(ft,Je[0],"VP8X")){if(gt(ft,Je[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var Mt=gt(ft,Je[0]+8),hn=1+Lt(ft,Je[0]+12);if(2147483648<=hn*(ft=1+Lt(ft,Je[0]+15))){Le=3;break e}jt!=null&&(jt[0]=Mt),wt!=null&&(wt[0]=hn),mt!=null&&(mt[0]=ft),Je[0]+=18,Le[0]-=18,It[0]=1}Le=0}}if(Ze=Ze[0],nt=nt[0],Le!=0)return Le;if(Je=!!(2&nt),!Fe&&Ze)return 3;if(ne!=null&&(ne[0]=!!(16&nt)),ie!=null&&(ie[0]=Je),ue!=null&&(ue[0]=0),ie=ye[0],nt=Me[0],Ze&&Je&&de==null){Le=0;break}if(4>D){Le=7;break}if(Fe&&Ze||!Fe&&!Ze&&!t(x,E[0],"ALPH")){D=[D],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{Mt=x,Le=E,Fe=D;var It=ze.gb;wt=ze.na,mt=ze.P,jt=ze.Sa,hn=22,e(Mt!=null),e(Fe!=null),ft=Le[0];var dr=Fe[0];for(e(wt!=null),e(jt!=null),wt[0]=null,mt[0]=null,jt[0]=0;;){if(Le[0]=ft,Fe[0]=dr,8>dr){Le=7;break e}var Sr=gt(Mt,ft+4);if(4294967286<Sr){Le=3;break e}var sr=8+Sr+1&-2;if(hn+=sr,0<It&&hn>It){Le=3;break e}if(!t(Mt,ft,"VP8 ")||!t(Mt,ft,"VP8L")){Le=0;break e}if(dr[0]<sr){Le=7;break e}t(Mt,ft,"ALPH")||(wt[0]=Mt,mt[0]=ft+8,jt[0]=Sr),ft+=sr,dr-=sr}}if(D=D[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Le!=0)break}D=[D],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(It=x,Le=E,Fe=D,wt=ze.gb[0],mt=ze.Ja,jt=ze.xa,Mt=Le[0],ft=!t(It,Mt,"VP8 "),hn=!t(It,Mt,"VP8L"),e(It!=null),e(Fe!=null),e(mt!=null),e(jt!=null),8>Fe[0])Le=7;else{if(ft||hn){if(It=gt(It,Mt+4),12<=wt&&It>wt-12){Le=3;break e}if($e&&It>Fe[0]-8){Le=7;break e}mt[0]=It,Le[0]+=8,Fe[0]-=8,jt[0]=hn}else jt[0]=5<=Fe[0]&&It[Mt+0]==47&&!(It[Mt+4]>>5),mt[0]=Fe[0];Le=0}if(D=D[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],E=E[0],Le!=0)break;if(4294967286<ze.Ja)return 3;if(ue==null||Je||(ue[0]=ze.xa?2:1),ie=[ie],nt=[nt],ze.xa){if(5>D){Le=7;break}ue=ie,$e=nt,Je=ne,x==null||5>D?x=0:5<=D&&x[E+0]==47&&!(x[E+4]>>5)?(Fe=[0],It=[0],wt=[0],_e(mt=new W,x,E,D),Bt(mt,Fe,It,wt)?(ue!=null&&(ue[0]=Fe[0]),$e!=null&&($e[0]=It[0]),Je!=null&&(Je[0]=wt[0]),x=1):x=0):x=0}else{if(10>D){Le=7;break}ue=nt,x==null||10>D||!qi(x,E+3,D-3)?x=0:($e=x[E+0]|x[E+1]<<8|x[E+2]<<16,Je=16383&(x[E+7]<<8|x[E+6]),x=16383&(x[E+9]<<8|x[E+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=ze.Ja||!Je||!x?x=0:(ie&&(ie[0]=Je),ue&&(ue[0]=x),x=1))}if(!x||(ie=ie[0],nt=nt[0],Ze&&(ye[0]!=ie||Me[0]!=nt)))return 3;de!=null&&(de[0]=ze,de.offset=E-de.w,e(4294967286>E-de.w),e(de.offset==de.ha-D));break}return Le==0||Le==7&&Ze&&de==null?(ne!=null&&(ne[0]|=ze.na!=null&&0<ze.na.length),k!=null&&(k[0]=ie),$!=null&&($[0]=nt),0):Le}function Ta(x,E,D){var k=E.width,$=E.height,ne=0,ie=0,ue=k,de=$;if(E.Da=x!=null&&0<x.Da,E.Da&&(ue=x.cd,de=x.bd,ne=x.v,ie=x.j,11>D||(ne&=-2,ie&=-2),0>ne||0>ie||0>=ue||0>=de||ne+ue>k||ie+de>$))return 0;if(E.v=ne,E.j=ie,E.va=ne+ue,E.o=ie+de,E.U=ue,E.T=de,E.da=x!=null&&0<x.da,E.da){if(!Gt(ue,de,D=[x.ib],ne=[x.hb]))return 0;E.ib=D[0],E.hb=ne[0]}return E.ob=x!=null&&x.ob,E.Kb=x==null||!x.Sd,E.da&&(E.ob=E.ib<3*k/4&&E.hb<3*$/4,E.Kb=0),1}function Yo(x){if(x==null)return 2;if(11>x.S){var E=x.f.RGBA;E.fb+=(x.height-1)*E.A,E.A=-E.A}else E=x.f.kb,x=x.height,E.O+=(x-1)*E.fa,E.fa=-E.fa,E.N+=(x-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(x-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(x-1)*E.lb,E.lb=-E.lb);return 0}function lo(x,E,D,k){if(k==null||0>=x||0>=E)return 2;if(D!=null){if(D.Da){var $=D.cd,ne=D.bd,ie=-2&D.v,ue=-2&D.j;if(0>ie||0>ue||0>=$||0>=ne||ie+$>x||ue+ne>E)return 2;x=$,E=ne}if(D.da){if(!Gt(x,E,$=[D.ib],ne=[D.hb]))return 2;x=$[0],E=ne[0]}}k.width=x,k.height=E;e:{var de=k.width,ye=k.height;if(x=k.S,0>=de||0>=ye||!(x>=So&&13>x))x=2;else{if(0>=k.Rd&&k.sd==null){ie=ne=$=E=0;var Me=(ue=de*Qu[x])*ye;if(11>x||(ne=(ye+1)/2*(E=(de+1)/2),x==12&&(ie=($=de)*ye)),(ye=l(Me+2*ne+ie))==null){x=1;break e}k.sd=ye,11>x?((de=k.f.RGBA).eb=ye,de.fb=0,de.A=ue,de.size=Me):((de=k.f.kb).y=ye,de.O=0,de.fa=ue,de.Fd=Me,de.f=ye,de.N=0+Me,de.Ab=E,de.Cd=ne,de.ea=ye,de.W=0+Me+ne,de.Db=E,de.Ed=ne,x==12&&(de.F=ye,de.J=0+Me+2*ne),de.Tc=ie,de.lb=$)}if(E=1,$=k.S,ne=k.width,ie=k.height,$>=So&&13>$)if(11>$)x=k.f.RGBA,E&=(ue=Math.abs(x.A))*(ie-1)+ne<=x.size,E&=ue>=ne*Qu[$],E&=x.eb!=null;else{x=k.f.kb,ue=(ne+1)/2,Me=(ie+1)/2,de=Math.abs(x.fa),ye=Math.abs(x.Ab);var Ze=Math.abs(x.Db),$e=Math.abs(x.lb),ze=$e*(ie-1)+ne;E&=de*(ie-1)+ne<=x.Fd,E&=ye*(Me-1)+ue<=x.Cd,E=(E&=Ze*(Me-1)+ue<=x.Ed)&de>=ne&ye>=ue&Ze>=ue,E&=x.y!=null,E&=x.f!=null,E&=x.ea!=null,$==12&&(E&=$e>=ne,E&=ze<=x.Tc,E&=x.F!=null)}else E=0;x=E?0:2}}return x!=0||D!=null&&D.fd&&(x=Yo(k)),x}var Ir=64,co=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Va=24,pa=32,kn=8,Gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dt("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(x){return x},z.Predictor2=function(x,E,D){return E[D+0]},z.Predictor3=function(x,E,D){return E[D+1]},z.Predictor4=function(x,E,D){return E[D-1]},z.Predictor5=function(x,E,D){return kt(kt(x,E[D+1]),E[D+0])},z.Predictor6=function(x,E,D){return kt(x,E[D-1])},z.Predictor7=function(x,E,D){return kt(x,E[D+0])},z.Predictor8=function(x,E,D){return kt(E[D-1],E[D+0])},z.Predictor9=function(x,E,D){return kt(E[D+0],E[D+1])},z.Predictor10=function(x,E,D){return kt(kt(x,E[D-1]),kt(E[D+0],E[D+1]))},z.Predictor11=function(x,E,D){var k=E[D+0];return 0>=mn(k>>24&255,x>>24&255,(E=E[D-1])>>24&255)+mn(k>>16&255,x>>16&255,E>>16&255)+mn(k>>8&255,x>>8&255,E>>8&255)+mn(255&k,255&x,255&E)?k:x},z.Predictor12=function(x,E,D){var k=E[D+0];return(Qt((x>>24&255)+(k>>24&255)-((E=E[D-1])>>24&255))<<24|Qt((x>>16&255)+(k>>16&255)-(E>>16&255))<<16|Qt((x>>8&255)+(k>>8&255)-(E>>8&255))<<8|Qt((255&x)+(255&k)-(255&E)))>>>0},z.Predictor13=function(x,E,D){var k=E[D-1];return(zt((x=kt(x,E[D+0]))>>24&255,k>>24&255)<<24|zt(x>>16&255,k>>16&255)<<16|zt(x>>8&255,k>>8&255)<<8|zt(x>>0&255,k>>0&255))>>>0};var Z=z.PredictorAdd0;z.PredictorAdd1=Vt,Dt("Predictor2","PredictorAdd2"),Dt("Predictor3","PredictorAdd3"),Dt("Predictor4","PredictorAdd4"),Dt("Predictor5","PredictorAdd5"),Dt("Predictor6","PredictorAdd6"),Dt("Predictor7","PredictorAdd7"),Dt("Predictor8","PredictorAdd8"),Dt("Predictor9","PredictorAdd9"),Dt("Predictor10","PredictorAdd10"),Dt("Predictor11","PredictorAdd11"),Dt("Predictor12","PredictorAdd12"),Dt("Predictor13","PredictorAdd13");var s=z.PredictorAdd2;Cn("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Cn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var c,u=z.ColorIndexInverseTransform,d=z.MapARGB,g=z.VP8LColorIndexInverseTransformAlpha,y=z.MapAlpha,A=z.VP8LPredictorsAdd=[];A.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var S,L,B,Q,re,me,Re,Oe,He,rt,vt,At,_t,Ln,an,pi,Bi,li,tr,ci,Ti,_s,ma,Ms,ui,Qn,Er,mi,Ei=l(511),Ca=l(2041),wl=l(225),ya=l(767),nu=0,ic=Ca,Eo=wl,$s=ya,yi=Ei,So=0,To=1,ru=2,xl=3,Ps=4,ea=5,Xo=6,za=7,Ha=8,uo=9,Gu=10,rf=[2,3,7],sf=[3,3,11],Es=[280,256,256,256,40],cs=[0,1,1,1,0],wr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ho=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],af=8,Co=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sc=null,iu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],su=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ac=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],au=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Md=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],of=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ga=[],Ia=[],va=[],kd=1,bl=2,Na=[],ks=[];ot("UpsampleRgbLinePair",oe,3),ot("UpsampleBgrLinePair",Ue,3),ot("UpsampleRgbaLinePair",_n,4),ot("UpsampleBgraLinePair",Rn,4),ot("UpsampleArgbLinePair",gn,4),ot("UpsampleRgba4444LinePair",St,2),ot("UpsampleRgb565LinePair",Qe,2);var ou=z.UpsampleRgbLinePair,Yu=z.UpsampleBgrLinePair,lf=z.UpsampleRgbaLinePair,cf=z.UpsampleBgraLinePair,Ko=z.UpsampleArgbLinePair,uf=z.UpsampleRgba4444LinePair,oc=z.UpsampleRgb565LinePair,Al=16,lu=1<<Al-1,_l=-227,cu=482,Ra=6,Wa=0,Qo=l(256),Bd=l(256),Zo=l(256),Io=l(256),Wi=l(cu-_l),Xu=l(cu-_l);fr("YuvToRgbRow",oe,3),fr("YuvToBgrRow",Ue,3),fr("YuvToRgbaRow",_n,4),fr("YuvToBgraRow",Rn,4),fr("YuvToArgbRow",gn,4),fr("YuvToRgba4444Row",St,2),fr("YuvToRgb565Row",Qe,2);var Fd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ku=[0,2,8],t2=[8,7,6,4,4,2,2,2,1,1,1,1],Yi=1;this.WebPDecodeRGBA=function(x,E,D,k,$){var ne=To,ie=new ja,ue=new un;ie.ba=ue,ue.S=ne,ue.width=[ue.width],ue.height=[ue.height];var de=ue.width,ye=ue.height,Me=new ti;if(Me==null||x==null)var Ze=2;else e(Me!=null),Ze=Sa(x,E,D,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Ze!=0?de=0:(de!=null&&(de[0]=Me.width[0]),ye!=null&&(ye[0]=Me.height[0]),de=1),de){ue.width=ue.width[0],ue.height=ue.height[0],k!=null&&(k[0]=ue.width),$!=null&&($[0]=ue.height);e:{if(k=new Tn,($=new oo).data=x,$.w=E,$.ha=D,$.kd=1,E=[0],e($!=null),((x=Sa($.data,$.w,$.ha,null,null,null,E,null,$))==0||x==7)&&E[0]&&(x=4),(E=x)==0){if(e(ie!=null),k.data=$.data,k.w=$.w+$.offset,k.ha=$.ha-$.offset,k.put=ni,k.ac=Gn,k.bc=Di,k.ma=ie,$.xa){if((x=Vr())==null){ie=1;break e}if(function($e,ze){var nt=[0],Je=[0],Le=[0];t:for(;;){if($e==null)return 0;if(ze==null)return $e.a=2,0;if($e.l=ze,$e.a=0,_e($e.m,ze.data,ze.w,ze.ha),!Bt($e.m,nt,Je,Le)){$e.a=3;break t}if($e.xb=bl,ze.width=nt[0],ze.height=Je[0],!Xr(nt[0],Je[0],1,$e,null))break t;return 1}return e($e.a!=0),0}(x,k)){if(k=(E=lo(k.width,k.height,ie.Oa,ie.ba))==0){t:{k=x;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((D=k.l)!=null),e(($=D.ma)!=null),k.xb!=0){if(k.ca=$.ba,k.tb=$.tb,e(k.ca!=null),!Ta($.Oa,D,xl)){k.a=2;break n}if(!ms(k,D.width)||D.da)break n;if((D.da||Pn(k.ca.S))&&je(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&je()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Yt(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!ri(k,k.V,k.Ba,k.c,k.i,D.o,Pt))break n;$.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(E=x.a)}else E=x.a}else{if((x=new Ws)==null){ie=1;break e}if(x.Fa=$.na,x.P=$.P,x.qc=$.Sa,Yn(x,k)){if((E=lo(k.width,k.height,ie.Oa,ie.ba))==0){if(x.Aa=0,D=ie.Oa,e(($=x)!=null),D!=null){if(0<(de=0>(de=D.Md)?0:100<de?255:255*de/100)){for(ye=Me=0;4>ye;++ye)12>(Ze=$.pb[ye]).lc&&(Ze.ia=de*t2[0>Ze.lc?0:Ze.lc]>>3),Me|=Ze.ia;Me&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=D.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}_r(x,k)||(E=x.a)}}else E=x.a}E==0&&ie.Oa!=null&&ie.Oa.fd&&(E=Yo(ie.ba))}ie=E}ne=ie!=0?null:11>ne?ue.f.RGBA.eb:ue.f.kb.y}else ne=null;return ne};var Qu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function w(z,j){for(var ae="",V=0;V<4;V++)ae+=String.fromCharCode(z[j++]);return ae}function T(z,j){return(z[j+0]<<0|z[j+1]<<8|z[j+2]<<16)>>>0}function I(z,j){return(z[j+0]<<0|z[j+1]<<8|z[j+2]<<16|z[j+3]<<24)>>>0}new v;var M=[0],R=[0],H=[],q=new v,J=n,G=function(z,j){var ae={},V=0,F=!1,Y=0,xe=0;if(ae.frames=[],!function(ce,fe,be,ve){for(var We=0;We<ve;We++)if(ce[fe+We]!=be.charCodeAt(We))return!0;return!1}(z,j,"RIFF",4)){var we,Se;for(I(z,j+=4),j+=8;j<z.length;){var Ie=w(z,j),_e=I(z,j+=4);j+=4;var Te=_e+(1&_e);switch(Ie){case"VP8 ":case"VP8L":ae.frames[V]===void 0&&(ae.frames[V]={}),(W=ae.frames[V]).src_off=F?xe:j-8,W.src_size=Y+_e+8,V++,F&&(F=!1,Y=0,xe=0);break;case"VP8X":(W=ae.header={}).feature_flags=z[j];var se=j+4;W.canvas_width=1+T(z,se),se+=3,W.canvas_height=1+T(z,se),se+=3;break;case"ALPH":F=!0,Y=Te+8,xe=j-8;break;case"ANIM":(W=ae.header).bgcolor=I(z,j),se=j+4,W.loop_count=(we=z)[(Se=se)+0]<<0|we[Se+1]<<8,se+=2;break;case"ANMF":var Be,W;(W=ae.frames[V]={}).offset_x=2*T(z,j),j+=3,W.offset_y=2*T(z,j),j+=3,W.width=1+T(z,j),j+=3,W.height=1+T(z,j),j+=3,W.duration=T(z,j),j+=3,Be=z[j++],W.dispose=1&Be,W.blend=Be>>1&1}Ie!="ANMF"&&(j+=Te)}return ae}}(J,0);G.response=J,G.rgbaoutput=!0,G.dataurl=!1;var te=G.header?G.header:null,le=G.frames?G.frames:null;if(te){te.loop_counter=te.loop_count,M=[te.canvas_height],R=[te.canvas_width];for(var Ce=0;Ce<le.length&&le[Ce].blend!=0;Ce++);}var De=le[0],Ge=q.WebPDecodeRGBA(J,De.src_off,De.src_size,R,M);De.rgba=Ge,De.imgwidth=R[0],De.imgheight=M[0];for(var X=0;X<R[0]*M[0]*4;X++)H[X]=Ge[X];return this.width=R,this.height=M,this.data=H,this}(function(n){var e=function(){return typeof vp=="function"},t=function(M,R,H,q){var J=4,G=f;switch(q){case n.image_compression.FAST:J=1,G=l;break;case n.image_compression.MEDIUM:J=6,G=p;break;case n.image_compression.SLOW:J=9,G=v}M=r(M,R,H,G);var te=vp(M,{level:J});return n.__addimage__.arrayBufferToBinaryString(te)},r=function(M,R,H,q){for(var J,G,te,le=M.length/R,Ce=new Uint8Array(M.length+le),De=T(),Ge=0;Ge<le;Ge+=1){if(te=Ge*R,J=M.subarray(te,te+R),q)Ce.set(q(J,H,G),te+Ge);else{for(var X,z=De.length,j=[];X<z;X+=1)j[X]=De[X](J,H,G);var ae=I(j.concat());Ce.set(j[ae],te+Ge)}G=J}return Ce},a=function(M){var R=Array.apply([],M);return R.unshift(0),R},l=function(M,R){var H,q=[],J=M.length;q[0]=1;for(var G=0;G<J;G+=1)H=M[G-R]||0,q[G+1]=M[G]-H+256&255;return q},f=function(M,R,H){var q,J=[],G=M.length;J[0]=2;for(var te=0;te<G;te+=1)q=H&&H[te]||0,J[te+1]=M[te]-q+256&255;return J},p=function(M,R,H){var q,J,G=[],te=M.length;G[0]=3;for(var le=0;le<te;le+=1)q=M[le-R]||0,J=H&&H[le]||0,G[le+1]=M[le]+256-(q+J>>>1)&255;return G},v=function(M,R,H){var q,J,G,te,le=[],Ce=M.length;le[0]=4;for(var De=0;De<Ce;De+=1)q=M[De-R]||0,J=H&&H[De]||0,G=H&&H[De-R]||0,te=w(q,J,G),le[De+1]=M[De]-te+256&255;return le},w=function(M,R,H){if(M===R&&R===H)return M;var q=Math.abs(R-H),J=Math.abs(M-H),G=Math.abs(M+R-H-H);return q<=J&&q<=G?M:J<=G?R:H},T=function(){return[a,l,f,p,v]},I=function(M){var R=M.map(function(H){return H.reduce(function(q,J){return q+Math.abs(J)},0)});return R.indexOf(Math.min.apply(null,R))};n.processPNG=function(M,R,H,q){var J,G,te,le,Ce,De,Ge,X,z,j,ae,V,F,Y,xe,we=this.decode.FLATE_DECODE,Se="";if(this.__addimage__.isArrayBuffer(M)&&(M=new Uint8Array(M)),this.__addimage__.isArrayBufferView(M)){if(M=(te=new R7(M)).imgData,G=te.bits,J=te.colorSpace,Ce=te.colors,[4,6].indexOf(te.colorType)!==-1){if(te.bits===8){z=(X=te.pixelBitlength==32?new Uint32Array(te.decodePixels().buffer):te.pixelBitlength==16?new Uint16Array(te.decodePixels().buffer):new Uint8Array(te.decodePixels().buffer)).length,ae=new Uint8Array(z*te.colors),j=new Uint8Array(z);var Ie,_e=te.pixelBitlength-te.bits;for(Y=0,xe=0;Y<z;Y++){for(F=X[Y],Ie=0;Ie<_e;)ae[xe++]=F>>>Ie&255,Ie+=te.bits;j[Y]=F>>>Ie&255}}if(te.bits===16){z=(X=new Uint32Array(te.decodePixels().buffer)).length,ae=new Uint8Array(z*(32/te.pixelBitlength)*te.colors),j=new Uint8Array(z*(32/te.pixelBitlength)),V=te.colors>1,Y=0,xe=0;for(var Te=0;Y<z;)F=X[Y++],ae[xe++]=F>>>0&255,V&&(ae[xe++]=F>>>16&255,F=X[Y++],ae[xe++]=F>>>0&255),j[Te++]=F>>>16&255;G=8}q!==n.image_compression.NONE&&e()?(M=t(ae,te.width*te.colors,te.colors,q),Ge=t(j,te.width,1,q)):(M=ae,Ge=j,we=void 0)}if(te.colorType===3&&(J=this.color_spaces.INDEXED,De=te.palette,te.transparency.indexed)){var se=te.transparency.indexed,Be=0;for(Y=0,z=se.length;Y<z;++Y)Be+=se[Y];if((Be/=255)===z-1&&se.indexOf(0)!==-1)le=[se.indexOf(0)];else if(Be!==z){for(X=te.decodePixels(),j=new Uint8Array(X.length),Y=0,z=X.length;Y<z;Y++)j[Y]=se[X[Y]];Ge=t(j,te.width,1)}}var W=function(ce){var fe;switch(ce){case n.image_compression.FAST:fe=11;break;case n.image_compression.MEDIUM:fe=13;break;case n.image_compression.SLOW:fe=14;break;default:fe=12}return fe}(q);return we===this.decode.FLATE_DECODE&&(Se="/Predictor "+W+" "),Se+="/Colors "+Ce+" /BitsPerComponent "+G+" /Columns "+te.width,(this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),(Ge&&this.__addimage__.isArrayBuffer(Ge)||this.__addimage__.isArrayBufferView(Ge))&&(Ge=this.__addimage__.arrayBufferToBinaryString(Ge)),{alias:H,data:M,index:R,filter:we,decodeParameters:Se,transparency:le,palette:De,sMask:Ge,predictor:W,width:te.width,height:te.height,bitsPerComponent:G,colorSpace:J}}}})(wn.API),function(n){n.processGIF89A=function(e,t,r,a){var l=new L7(e),f=l.width,p=l.height,v=[];l.decodeAndBlitFrameRGBA(0,v);var w={data:v,width:f,height:p},T=new Bg(100).encode(w,100);return n.processJPEG.call(this,T,t,r,a)},n.processGIF87A=n.processGIF89A}(wn.API),Fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$r.log("bit decode error:"+t)}},Fo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var l=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+8*a*4,p=0;p<8&&8*a+p<this.width;p++){var v=this.palette[l>>7-p&1];this.data[f+4*p]=v.blue,this.data[f+4*p+1]=v.green,this.data[f+4*p+2]=v.red,this.data[f+4*p+3]=255}t!==0&&(this.pos+=4-t)}},Fo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var l=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+2*a*4,p=l>>4,v=15&l,w=this.palette[p];if(this.data[f]=w.blue,this.data[f+1]=w.green,this.data[f+2]=w.red,this.data[f+3]=255,2*a+1>=this.width)break;w=this.palette[v],this.data[f+4]=w.blue,this.data[f+4+1]=w.green,this.data[f+4+2]=w.red,this.data[f+4+3]=255}e!==0&&(this.pos+=4-e)}},Fo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;if(a<this.palette.length){var f=this.palette[a];this.data[l]=f.red,this.data[l+1]=f.green,this.data[l+2]=f.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}n!==0&&(this.pos+=4-n)}},Fo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(l&e)/e*255|0,p=(l>>5&e)/e*255|0,v=(l>>10&e)/e*255|0,w=l>>15?255:0,T=r*this.width*4+4*a;this.data[T]=v,this.data[T+1]=p,this.data[T+2]=f,this.data[T+3]=w}this.pos+=n}},Fo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(f&e)/e*255|0,v=(f>>5&t)/t*255|0,w=(f>>11)/e*255|0,T=a*this.width*4+4*l;this.data[T]=w,this.data[T+1]=v,this.data[T+2]=p,this.data[T+3]=255}this.pos+=n}},Fo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*t;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=r,this.data[f+3]=255}this.pos+=this.width%4}},Fo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),p=e*this.width*4+4*t;this.data[p]=l,this.data[p+1]=a,this.data[p+2]=r,this.data[p+3]=f}},Fo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,a){var l=new Fo(e,!1),f=l.width,p=l.height,v={data:l.getData(),width:f,height:p},w=new Bg(100).encode(v,100);return n.processJPEG.call(this,w,t,r,a)}}(wn.API),Tw.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,a){var l=new Tw(e),f=l.width,p=l.height,v={data:l.getData(),width:f,height:p},w=new Bg(100).encode(v,100);return n.processJPEG.call(this,w,t,r,a)}}(wn.API),wn.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,l=new Uint8Array(a/4*3),f=new Uint8Array(a/4),p=0,v=0,w=0;w<a;w+=4){var T=r[w],I=r[w+1],M=r[w+2],R=r[w+3];l[p++]=T,l[p++]=I,l[p++]=M,f[v++]=R}var H=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:H,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},wn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bh=wn.API,B1=bh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),f=e.charSpace||this.internal.getCharSpace(),p=e.widths?e.widths:a.metadata.Unicode.widths,v=p.fof?p.fof:1,w=e.kerning?e.kerning:a.metadata.Unicode.kerning,T=w.fof?w.fof:1,I=e.doKerning!==!1,M=0,R=n.length,H=0,q=p[0]||v,J=[];for(t=0;t<R;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?J.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+f*(1e3/l)||0)/1e3):(M=I&&Ur(w[r])==="object"&&!isNaN(parseInt(w[r][H],10))?w[r][H]/T:0,J.push((p[r]||q)/v+M)),H=r;return J},Aw=bh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return bh.processArabic&&(n=bh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:B1.apply(this,arguments).reduce(function(l,f){return l+f},0)},_w=function(n,e,t,r){for(var a=[],l=0,f=n.length,p=0;l!==f&&p+e[l]<t;)p+=e[l],l++;a.push(n.slice(0,l));var v=l;for(p=0;l!==f;)p+e[l]>r&&(a.push(n.slice(v,l)),p=0,v=l),p+=e[l],l++;return v!==l&&a.push(n.slice(v,l)),a},Ew=function(n,e,t){t||(t={});var r,a,l,f,p,v,w,T=[],I=[T],M=t.textIndent||0,R=0,H=0,q=n.split(" "),J=B1.apply(this,[" ",t])[0];if(v=t.lineIndent===-1?q[0].length+2:t.lineIndent||0){var G=Array(v).join(" "),te=[];q.map(function(Ce){(Ce=Ce.split(/\s*\n/)).length>1?te=te.concat(Ce.map(function(De,Ge){return(Ge&&De.length?`
`:"")+De})):te.push(Ce[0])}),q=te,v=Aw.apply(this,[G,t])}for(l=0,f=q.length;l<f;l++){var le=0;if(r=q[l],v&&r[0]==`
`&&(r=r.substr(1),le=1),M+R+(H=(a=B1.apply(this,[r,t])).reduce(function(Ce,De){return Ce+De},0))>e||le){if(H>e){for(p=_w.apply(this,[r,a,e-(M+R),e]),T.push(p.shift()),T=[p.pop()];p.length;)I.push([p.shift()]);H=a.slice(r.length-(T[0]?T[0].length:0)).reduce(function(Ce,De){return Ce+De},0)}else T=[r];I.push(T),M=H+v,R=J}else T.push(r),M+=R+H,R=J}return w=v?function(Ce,De){return(De?G:"")+Ce.join(" ")}:function(Ce){return Ce.join(" ")},I.map(w)},bh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),l=(function(T){if(T.widths&&T.kerning)return{widths:T.widths,kerning:T.kerning};var I=this.internal.getFont(T.fontName,T.fontStyle);return I.metadata.Unicode?{widths:I.metadata.Unicode.widths||{0:1},kerning:I.metadata.Unicode.kerning||{}}:{font:I.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var f=1*this.internal.scaleFactor*e/a;l.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=t.lineIndent;var p,v,w=[];for(p=0,v=r.length;p<v;p++)w=w.concat(Ew.apply(this,[r[p],f,l]));return w},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},a=0;a<e.length;a++)t[e[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=e[a];var l=function(I){return"0x"+parseInt(I,10).toString(16)},f=n.__fontmetrics__.compress=function(I){var M,R,H,q,J=["{"];for(var G in I){if(M=I[G],isNaN(parseInt(G,10))?R="'"+G+"'":(G=parseInt(G,10),R=(R=l(G).slice(2)).slice(0,-1)+r[R.slice(-1)]),typeof M=="number")M<0?(H=l(M).slice(3),q="-"):(H=l(M).slice(2),q=""),H=q+H.slice(0,-1)+r[H.slice(-1)];else{if(Ur(M)!=="object")throw new Error("Don't know what to do with value type "+Ur(M)+".");H=f(M)}J.push(R+H)}return J.push("}"),J.join("")},p=n.__fontmetrics__.uncompress=function(I){if(typeof I!="string")throw new Error("Invalid argument passed to uncompress.");for(var M,R,H,q,J={},G=1,te=J,le=[],Ce="",De="",Ge=I.length-1,X=1;X<Ge;X+=1)(q=I[X])=="'"?M?(H=M.join(""),M=void 0):M=[]:M?M.push(q):q=="{"?(le.push([te,H]),te={},H=void 0):q=="}"?((R=le.pop())[0][R[1]]=te,H=void 0,te=R[0]):q=="-"?G=-1:H===void 0?t.hasOwnProperty(q)?(Ce+=t[q],H=parseInt(Ce,16)*G,G=1,Ce=""):Ce+=q:t.hasOwnProperty(q)?(De+=t[q],te[H]=parseInt(De,16)*G,G=1,H=void 0,De=""):De+=q;return J},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},T={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(I){var M=I.font,R=T.Unicode[M.postScriptName];R&&(M.metadata.Unicode={},M.metadata.Unicode.widths=R.widths,M.metadata.Unicode.kerning=R.kerning);var H=w.Unicode[M.postScriptName];H&&(M.metadata.Unicode.encoding=H,M.encoding=H.codePages[0])}])}(wn.API),function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),l=0;l<r;l++)a[l]=t.charCodeAt(l);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,l=t.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(f,p){p=/^\x00\x01\x00\x00/.test(p)?e(p):e(sd(p)),f.metadata=n.API.TTFFont.open(p),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(a,r)}}])}(wn),function(n){function e(){return(bn.canvg?Promise.resolve(bn.canvg):dp(()=>import("./index.es-Bm7Q73IJ.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}wn.API.addSvgAsImage=function(t,r,a,l,f,p,v,w){if(isNaN(r)||isNaN(a))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(f))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var T=document.createElement("canvas");T.width=l,T.height=f;var I=T.getContext("2d");I.fillStyle="#fff",I.fillRect(0,0,T.width,T.height);var M={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},R=this;return e().then(function(H){return H.fromString(I,t,M)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(H){return H.render(M)}).then(function(){R.addImage(T.toDataURL("image/jpeg",1),r,a,l,f,v,w)})}}(),wn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},wn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,l,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(f),v=[],w=0,T=0,I=0;function M(H,q){var J,G=!1;for(J=0;J<H.length;J+=1)H[J]===q&&(G=!0);return G}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var R=p.length;for(I=0;I<R;I+=1)t[p[I]].value=t[p[I]].defaultValue,t[p[I]].explicitSet=!1}if(Ur(n)==="object"){for(a in n)if(l=n[a],M(p,a)&&l!==void 0){if(t[a].type==="boolean"&&typeof l=="boolean")t[a].value=l;else if(t[a].type==="name"&&M(t[a].valueSet,l))t[a].value=l;else if(t[a].type==="integer"&&Number.isInteger(l))t[a].value=l;else if(t[a].type==="array"){for(w=0;w<l.length;w+=1)if(r=!0,l[w].length===1&&typeof l[w][0]=="number")v.push(String(l[w]-1));else if(l[w].length>1){for(T=0;T<l[w].length;T+=1)typeof l[w][T]!="number"&&(r=!1);r===!0&&v.push([l[w][0]-1,l[w][1]-1].join(" "))}t[a].value="["+v.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var H,q=[];for(H in t)t[H].explicitSet===!0&&(t[H].type==="name"?q.push("/"+H+" /"+t[H].value):q.push("/"+H+" "+t[H].value));q.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+q.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(r)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),v=unescape(encodeURIComponent("</x:xmpmeta>")),w=l.length+f.length+p.length+a.length+v.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+w+" >>"),this.internal.write("stream"),this.internal.write(a+l+f+p+v),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(wn.API),function(n){var e=n.API,t=e.pdfEscape16=function(l,f){for(var p,v=f.metadata.Unicode.widths,w=["","0","00","000","0000"],T=[""],I=0,M=l.length;I<M;++I){if(p=f.metadata.characterToGlyph(l.charCodeAt(I)),f.metadata.glyIdsUsed.push(p),f.metadata.toUnicode[p]=l.charCodeAt(I),v.indexOf(p)==-1&&(v.push(p),v.push([parseInt(f.metadata.widthOfGlyph(p),10)])),p=="0")return T.join("");p=p.toString(16),T.push(w[4-p.length],p)}return T.join("")},r=function(l){var f,p,v,w,T,I,M;for(T=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,v=[],I=0,M=(p=Object.keys(l).sort(function(R,H){return R-H})).length;I<M;I++)f=p[I],v.length>=100&&(T+=`
`+v.length+` beginbfchar
`+v.join(`
`)+`
endbfchar`,v=[]),l[f]!==void 0&&l[f]!==null&&typeof l[f].toString=="function"&&(w=("0000"+l[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),v.push("<"+f+"><"+w+">"));return v.length&&(T+=`
`+v.length+` beginbfchar
`+v.join(`
`)+`
endbfchar
`),T+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(f){var p=f.font,v=f.out,w=f.newObject,T=f.putStream;if(p.metadata instanceof n.API.TTFFont&&p.encoding==="Identity-H"){for(var I=p.metadata.Unicode.widths,M=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),R="",H=0;H<M.length;H++)R+=String.fromCharCode(M[H]);var q=w();T({data:R,addLength1:!0,objectId:q}),v("endobj");var J=w();T({data:r(p.metadata.toUnicode),addLength1:!0,objectId:J}),v("endobj");var G=w();v("<<"),v("/Type /FontDescriptor"),v("/FontName /"+Ch(p.fontName)),v("/FontFile2 "+q+" 0 R"),v("/FontBBox "+n.API.PDFObject.convert(p.metadata.bbox)),v("/Flags "+p.metadata.flags),v("/StemV "+p.metadata.stemV),v("/ItalicAngle "+p.metadata.italicAngle),v("/Ascent "+p.metadata.ascender),v("/Descent "+p.metadata.decender),v("/CapHeight "+p.metadata.capHeight),v(">>"),v("endobj");var te=w();v("<<"),v("/Type /Font"),v("/BaseFont /"+Ch(p.fontName)),v("/FontDescriptor "+G+" 0 R"),v("/W "+n.API.PDFObject.convert(I)),v("/CIDToGIDMap /Identity"),v("/DW 1000"),v("/Subtype /CIDFontType2"),v("/CIDSystemInfo"),v("<<"),v("/Supplement 0"),v("/Registry (Adobe)"),v("/Ordering ("+p.encoding+")"),v(">>"),v(">>"),v("endobj"),p.objectNumber=w(),v("<<"),v("/Type /Font"),v("/Subtype /Type0"),v("/ToUnicode "+J+" 0 R"),v("/BaseFont /"+Ch(p.fontName)),v("/Encoding /"+p.encoding),v("/DescendantFonts ["+te+" 0 R]"),v(">>"),v("endobj"),p.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(f){var p=f.font,v=f.out,w=f.newObject,T=f.putStream;if(p.metadata instanceof n.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var I=p.metadata.rawData,M="",R=0;R<I.length;R++)M+=String.fromCharCode(I[R]);var H=w();T({data:M,addLength1:!0,objectId:H}),v("endobj");var q=w();T({data:r(p.metadata.toUnicode),addLength1:!0,objectId:q}),v("endobj");var J=w();v("<<"),v("/Descent "+p.metadata.decender),v("/CapHeight "+p.metadata.capHeight),v("/StemV "+p.metadata.stemV),v("/Type /FontDescriptor"),v("/FontFile2 "+H+" 0 R"),v("/Flags 96"),v("/FontBBox "+n.API.PDFObject.convert(p.metadata.bbox)),v("/FontName /"+Ch(p.fontName)),v("/ItalicAngle "+p.metadata.italicAngle),v("/Ascent "+p.metadata.ascender),v(">>"),v("endobj"),p.objectNumber=w();for(var G=0;G<p.metadata.hmtx.widths.length;G++)p.metadata.hmtx.widths[G]=parseInt(p.metadata.hmtx.widths[G]*(1e3/p.metadata.head.unitsPerEm));v("<</Subtype/TrueType/Type/Font/ToUnicode "+q+" 0 R/BaseFont/"+Ch(p.fontName)+"/FontDescriptor "+J+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),v("endobj"),p.isAlreadyPutted=!0}})(l)}]);var a=function(l){var f,p=l.text||"",v=l.x,w=l.y,T=l.options||{},I=l.mutex||{},M=I.pdfEscape,R=I.activeFontKey,H=I.fonts,q=R,J="",G=0,te="",le=H[q].encoding;if(H[q].encoding!=="Identity-H")return{text:p,x:v,y:w,options:T,mutex:I};for(te=p,q=R,Array.isArray(p)&&(te=p[0]),G=0;G<te.length;G+=1)H[q].metadata.hasOwnProperty("cmap")&&(f=H[q].metadata.cmap.unicode.codeMap[te[G].charCodeAt(0)]),f||te[G].charCodeAt(0)<256&&H[q].metadata.hasOwnProperty("Unicode")?J+=te[G]:J+="";var Ce="";return parseInt(q.slice(1))<14||le==="WinAnsiEncoding"?Ce=M(J,q).split("").map(function(De){return De.charCodeAt(0).toString(16)}).join(""):le==="Identity-H"&&(Ce=t(J,H[q])),I.isHex=!0,{text:Ce,x:v,y:w,options:T,mutex:I}};e.events.push(["postProcessText",function(l){var f=l.text||"",p=[],v={text:f,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(f)){var w=0;for(w=0;w<f.length;w+=1)Array.isArray(f[w])&&f[w].length===3?p.push([a(Object.assign({},v,{text:f[w][0]})).text,f[w][1],f[w][2]]):p.push(a(Object.assign({},v,{text:f[w]})).text);l.text=p}else l.text=a(Object.assign({},v,{text:f})).text}])}(wn),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(wn.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,l,f,p,v,w,T,I=e,M=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],R=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],H={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},q={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},J=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],G=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),te=!1,le=0;this.__bidiEngine__={};var Ce=function(V){var F=V.charCodeAt(),Y=F>>8,xe=q[Y];return xe!==void 0?I[256*xe+(255&F)]:Y===252||Y===253?"AL":G.test(Y)?"L":Y===8?"R":"N"},De=function(V){for(var F,Y=0;Y<V.length;Y++){if((F=Ce(V.charAt(Y)))==="L")return!1;if(F==="R")return!0}return!1},Ge=function(V,F,Y,xe){var we,Se,Ie,_e,Te=F[xe];switch(Te){case"L":case"R":te=!1;break;case"N":case"AN":break;case"EN":te&&(Te="AN");break;case"AL":te=!0,Te="R";break;case"WS":Te="N";break;case"CS":xe<1||xe+1>=F.length||(we=Y[xe-1])!=="EN"&&we!=="AN"||(Se=F[xe+1])!=="EN"&&Se!=="AN"?Te="N":te&&(Se="AN"),Te=Se===we?Se:"N";break;case"ES":Te=(we=xe>0?Y[xe-1]:"B")==="EN"&&xe+1<F.length&&F[xe+1]==="EN"?"EN":"N";break;case"ET":if(xe>0&&Y[xe-1]==="EN"){Te="EN";break}if(te){Te="N";break}for(Ie=xe+1,_e=F.length;Ie<_e&&F[Ie]==="ET";)Ie++;Te=Ie<_e&&F[Ie]==="EN"?"EN":"N";break;case"NSM":if(f&&!p){for(_e=F.length,Ie=xe+1;Ie<_e&&F[Ie]==="NSM";)Ie++;if(Ie<_e){var se=V[xe],Be=se>=1425&&se<=2303||se===64286;if(we=F[Ie],Be&&(we==="R"||we==="AL")){Te="R";break}}}Te=xe<1||(we=F[xe-1])==="B"?"N":Y[xe-1];break;case"B":te=!1,a=!0,Te=le;break;case"S":l=!0,Te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":te=!1;break;case"BN":Te="N"}return Te},X=function(V,F,Y){var xe=V.split("");return Y&&z(xe,Y,{hiLevel:le}),xe.reverse(),F&&F.reverse(),xe.join("")},z=function(V,F,Y){var xe,we,Se,Ie,_e,Te=-1,se=V.length,Be=0,W=[],ce=le?R:M,fe=[];for(te=!1,a=!1,l=!1,we=0;we<se;we++)fe[we]=Ce(V[we]);for(Se=0;Se<se;Se++){if(_e=Be,W[Se]=Ge(V,fe,W,Se),xe=240&(Be=ce[_e][H[W[Se]]]),Be&=15,F[Se]=Ie=ce[Be][5],xe>0)if(xe===16){for(we=Te;we<Se;we++)F[we]=1;Te=-1}else Te=-1;if(ce[Be][6])Te===-1&&(Te=Se);else if(Te>-1){for(we=Te;we<Se;we++)F[we]=Ie;Te=-1}fe[Se]==="B"&&(F[Se]=0),Y.hiLevel|=Ie}l&&function(be,ve,We){for(var Pe=0;Pe<We;Pe++)if(be[Pe]==="S"){ve[Pe]=le;for(var Ye=Pe-1;Ye>=0&&be[Ye]==="WS";Ye--)ve[Ye]=le}}(fe,F,se)},j=function(V,F,Y,xe,we){if(!(we.hiLevel<V)){if(V===1&&le===1&&!a)return F.reverse(),void(Y&&Y.reverse());for(var Se,Ie,_e,Te,se=F.length,Be=0;Be<se;){if(xe[Be]>=V){for(_e=Be+1;_e<se&&xe[_e]>=V;)_e++;for(Te=Be,Ie=_e-1;Te<Ie;Te++,Ie--)Se=F[Te],F[Te]=F[Ie],F[Ie]=Se,Y&&(Se=Y[Te],Y[Te]=Y[Ie],Y[Ie]=Se);Be=_e}Be++}}},ae=function(V,F,Y){var xe=V.split(""),we={hiLevel:le};return Y||(Y=[]),z(xe,Y,we),function(Se,Ie,_e){if(_e.hiLevel!==0&&T)for(var Te,se=0;se<Se.length;se++)Ie[se]===1&&(Te=J.indexOf(Se[se]))>=0&&(Se[se]=J[Te+1])}(xe,Y,we),j(2,xe,F,Y,we),j(1,xe,F,Y,we),xe.join("")};return this.__bidiEngine__.doBidiReorder=function(V,F,Y){if(function(we,Se){if(Se)for(var Ie=0;Ie<we.length;Ie++)Se[Ie]=Ie;p===void 0&&(p=De(we)),w===void 0&&(w=De(we))}(V,F),f||!v||w)if(f&&v&&p^w)le=p?1:0,V=X(V,F,Y);else if(!f&&v&&w)le=p?1:0,V=ae(V,F,Y),V=X(V,F);else if(!f||p||v||w){if(f&&!v&&p^w)V=X(V,F),p?(le=0,V=ae(V,F,Y)):(le=1,V=ae(V,F,Y),V=X(V,F));else if(f&&p&&!v&&w)le=1,V=ae(V,F,Y),V=X(V,F);else if(!f&&!v&&p^w){var xe=T;p?(le=1,V=ae(V,F,Y),le=0,T=!1,V=ae(V,F,Y),T=xe):(le=0,V=ae(V,F,Y),V=X(V,F),le=1,T=!1,V=ae(V,F,Y),T=xe,V=X(V,F))}}else le=0,V=ae(V,F,Y);else le=p?1:0,V=ae(V,F,Y);return V},this.__bidiEngine__.setOptions=function(V){V&&(f=V.isInputVisual,v=V.isOutputVisual,p=V.isInputRtl,w=V.isOutputRtl,T=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text,l=(r.x,r.y,r.options||{}),f=(r.mutex,l.lang,[]);if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,t.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var p=0;for(f=[],p=0;p<a.length;p+=1)Object.prototype.toString.call(a[p])==="[object Array]"?f.push([t.doBidiReorder(a[p][0]),a[p][1],a[p][2]]):f.push([t.doBidiReorder(a[p])]);r.text=f}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(wn),wn.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new eu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new W7(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new D7(this.contents),this.head=new M7(this),this.name=new j7(this),this.cmap=new sb(this),this.toUnicode={},this.hhea=new P7(this),this.maxp=new U7(this),this.hmtx=new V7(this),this.post=new B7(this),this.os2=new k7(this),this.loca=new G7(this),this.glyf=new z7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,p,v,w;for(w=[],f=0,p=(v=this.bbox).length;f<p;f++)e=v[f],w.push(Math.round(e*this.scaleFactor));return w}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),(32768&(t=a>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,l,f,p;for(f=0,l=0,p=(e=""+e).length;0<=p?l<p:l>p;l=0<=p?++l:--l)a=e.charCodeAt(l),f+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return f*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Go,eu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,l,f,p,v;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),f=this.readByte(),p=this.readByte(),v=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^l)+65536*(255^f)+256*(255^p)+(255^v)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*l+65536*f+256*p+v},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,l;for(l=[],r=0,a=e.length;r<a;r++)t=e[r],l.push(this.writeByte(t));return l},n}(),D7=function(){var n;function e(t){var r,a,l;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,l,f,p,v,w,T,I,M,R,H,q;for(q in R=Object.keys(t).length,v=Math.log(2),I=16*Math.floor(Math.log(R)/v),f=Math.floor(I/v),T=16*R-I,(a=new eu).writeInt(this.scalarType),a.writeShort(R),a.writeShort(I),a.writeShort(f),a.writeShort(T),l=16*R,w=a.pos+l,p=null,H=[],t)for(M=t[q],a.writeString(q),a.writeInt(n(M)),a.writeInt(w),a.writeInt(M.length),H=H.concat(M),q==="head"&&(p=w),w+=M.length;w%4;)H.push(0),w++;return a.write(H),r=2981146554-n(a.data),a.pos=p+8,a.writeUInt32(r),a.data},n=function(t){var r,a,l,f;for(t=ab.call(t);t.length%4;)t.push(0);for(l=new eu(t),a=0,r=0,f=t.length;r<f;r=r+=4)a+=l.readUInt32();return 4294967295&a},e}(),O7={}.hasOwnProperty,yl=function(n,e){for(var t in e)O7.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Go=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var M7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new eu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Cw=function(){function n(e,t){var r,a,l,f,p,v,w,T,I,M,R,H,q,J,G,te,le;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),I=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(v=0;v<256;++v)this.codeMap[v]=e.readByte();break;case 4:for(R=e.readUInt16(),M=R/2,e.pos+=6,l=function(){var Ce,De;for(De=[],v=Ce=0;0<=M?Ce<M:Ce>M;v=0<=M?++Ce:--Ce)De.push(e.readUInt16());return De}(),e.pos+=2,q=function(){var Ce,De;for(De=[],v=Ce=0;0<=M?Ce<M:Ce>M;v=0<=M?++Ce:--Ce)De.push(e.readUInt16());return De}(),w=function(){var Ce,De;for(De=[],v=Ce=0;0<=M?Ce<M:Ce>M;v=0<=M?++Ce:--Ce)De.push(e.readUInt16());return De}(),T=function(){var Ce,De;for(De=[],v=Ce=0;0<=M?Ce<M:Ce>M;v=0<=M?++Ce:--Ce)De.push(e.readUInt16());return De}(),a=(this.length-e.pos+this.offset)/2,p=function(){var Ce,De;for(De=[],v=Ce=0;0<=a?Ce<a:Ce>a;v=0<=a?++Ce:--Ce)De.push(e.readUInt16());return De}(),v=G=0,le=l.length;G<le;v=++G)for(J=l[v],r=te=H=q[v];H<=J?te<=J:te>=J;r=H<=J?++te:--te)T[v]===0?f=r+w[v]:(f=p[T[v]/2+(r-H)-(M-v)]||0)!==0&&(f+=w[v]),this.codeMap[r]=65535&f}e.pos=I}return n.encode=function(e,t){var r,a,l,f,p,v,w,T,I,M,R,H,q,J,G,te,le,Ce,De,Ge,X,z,j,ae,V,F,Y,xe,we,Se,Ie,_e,Te,se,Be,W,ce,fe,be,ve,We,Pe,Ye,ct,ut,Lt;switch(xe=new eu,f=Object.keys(e).sort(function(gt,Yt){return gt-Yt}),t){case"macroman":for(q=0,J=function(){var gt=[];for(H=0;H<256;++H)gt.push(0);return gt}(),te={0:0},l={},we=0,Te=f.length;we<Te;we++)te[Ye=e[a=f[we]]]==null&&(te[Ye]=++q),l[a]={old:e[a],new:te[e[a]]},J[a]=te[e[a]];return xe.writeUInt16(1),xe.writeUInt16(0),xe.writeUInt32(12),xe.writeUInt16(0),xe.writeUInt16(262),xe.writeUInt16(0),xe.write(J),{charMap:l,subtable:xe.data,maxGlyphID:q+1};case"unicode":for(F=[],I=[],le=0,te={},r={},G=w=null,Se=0,se=f.length;Se<se;Se++)te[De=e[a=f[Se]]]==null&&(te[De]=++le),r[a]={old:De,new:te[De]},p=te[De]-a,G!=null&&p===w||(G&&I.push(G),F.push(a),w=p),G=a;for(G&&I.push(G),I.push(65535),F.push(65535),ae=2*(j=F.length),z=2*Math.pow(Math.log(j)/Math.LN2,2),M=Math.log(z/2)/Math.LN2,X=2*j-z,v=[],Ge=[],R=[],H=Ie=0,Be=F.length;Ie<Be;H=++Ie){if(V=F[H],T=I[H],V===65535){v.push(0),Ge.push(0);break}if(V-(Y=r[V].new)>=32768)for(v.push(0),Ge.push(2*(R.length+j-H)),a=_e=V;V<=T?_e<=T:_e>=T;a=V<=T?++_e:--_e)R.push(r[a].new);else v.push(Y-V),Ge.push(0)}for(xe.writeUInt16(3),xe.writeUInt16(1),xe.writeUInt32(12),xe.writeUInt16(4),xe.writeUInt16(16+8*j+2*R.length),xe.writeUInt16(0),xe.writeUInt16(ae),xe.writeUInt16(z),xe.writeUInt16(M),xe.writeUInt16(X),We=0,W=I.length;We<W;We++)a=I[We],xe.writeUInt16(a);for(xe.writeUInt16(0),Pe=0,ce=F.length;Pe<ce;Pe++)a=F[Pe],xe.writeUInt16(a);for(ct=0,fe=v.length;ct<fe;ct++)p=v[ct],xe.writeUInt16(p);for(ut=0,be=Ge.length;ut<be;ut++)Ce=Ge[ut],xe.writeUInt16(Ce);for(Lt=0,ve=R.length;Lt<ve;Lt++)q=R[Lt],xe.writeUInt16(q);return{charMap:r,subtable:xe.data,maxGlyphID:le+1}}},n}(),sb=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,l;for(t.pos=this.offset,this.version=t.readUInt16(),l=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)r=new Cw(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,l;return r==null&&(r="macroman"),a=Cw.encode(t,r),(l=new eu).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},e}(),P7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),k7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),B7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,l;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var f;for(a=t.readUInt16(),this.glyphNameIndex=[],f=0;0<=a?f<a:f>a;f=0<=a?++f:--f)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],l=[];t.pos<this.offset+this.length;)r=t.readByte(),l.push(this.names.push(t.readString(r)));return l;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=(function(){var p,v,w;for(w=[],f=p=0,v=this.file.maxp.numGlyphs;0<=v?p<v:p>v;f=0<=v?++p:--p)w.push(t.readUInt32());return w}).call(this)}},e}(),F7=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},j7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,l,f,p,v,w,T,I,M,R;for(t.pos=this.offset,t.readShort(),r=t.readShort(),v=t.readShort(),a=[],f=0;0<=r?f<r:f>r;f=0<=r?++f:--f)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+v+t.readShort()});for(w={},f=I=0,M=a.length;I<M;f=++I)l=a[f],t.pos=l.offset,T=t.readString(l.length),p=new F7(T,l),w[R=l.nameID]==null&&(w[R]=[]),w[l.nameID].push(p);this.strings=w,this.copyright=w[0],this.fontFamily=w[1],this.fontSubfamily=w[2],this.uniqueSubfamily=w[3],this.fontName=w[4],this.version=w[5];try{this.postscriptName=w[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=w[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=w[7],this.manufacturer=w[8],this.designer=w[9],this.description=w[10],this.vendorUrl=w[11],this.designerUrl=w[12],this.license=w[13],this.licenseUrl=w[14],this.preferredFamily=w[15],this.preferredSubfamily=w[17],this.compatibleFull=w[18],this.sampleText=w[19]},e}(),U7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),V7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,l,f,p,v,w;for(t.pos=this.offset,this.metrics=[],r=0,v=this.file.hhea.numberOfMetrics;0<=v?r<v:r>v;r=0<=v?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var T,I;for(I=[],r=T=0;0<=l?T<l:T>l;r=0<=l?++T:--T)I.push(t.readInt16());return I}(),this.widths=(function(){var T,I,M,R;for(R=[],T=0,I=(M=this.metrics).length;T<I;T++)f=M[T],R.push(f.advance);return R}).call(this),a=this.widths[this.widths.length-1],w=[],r=p=0;0<=l?p<l:p>l;r=0<=l?++p:--p)w.push(this.widths.push(a));return w},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ab=[].slice,z7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,l,f,p,v,w,T,I,M;return t in this.cache?this.cache[t]:(f=this.file.loca,r=this.file.contents,a=f.indexOf(t),(l=f.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,p=(v=new eu(r.read(l))).readShort(),T=v.readShort(),M=v.readShort(),w=v.readShort(),I=v.readShort(),this.cache[t]=p===-1?new q7(v,T,M,w,I):new H7(v,p,T,M,w,I),this.cache[t]))},e.prototype.encode=function(t,r,a){var l,f,p,v,w;for(p=[],f=[],v=0,w=r.length;v<w;v++)l=t[r[v]],f.push(p.length),l&&(p=p.concat(l.encode(a)));return f.push(p.length),{table:p,offsets:f}},e}(),H7=function(){function n(e,t,r,a,l,f){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=l,this.yMax=f,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),q7=function(){function n(e,t,r,a,l){var f,p;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;p=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&p;)f.pos+=1&p?4:2,128&p?f.pos+=8:64&p?f.pos+=4:8&p&&(f.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new eu(ab.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),G7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Go),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var l,f;for(f=[],a=0,l=this.length;a<l;a+=2)f.push(2*t.readUInt16());return f}).call(this):(function(){var l,f;for(f=[],a=0,l=this.length;a<l;a+=4)f.push(t.readUInt32());return f}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),l=0,f=0,p=0;p<a.length;++p)if(a[p]=l,f<r.length&&r[f]==p){++f,a[p]=l;var v=this.offsets[p],w=this.offsets[p+1]-v;w>0&&(l+=w)}for(var T=new Array(4*a.length),I=0;I<a.length;++I)T[4*I+3]=255&a[I],T[4*I+2]=(65280&a[I])>>8,T[4*I+1]=(16711680&a[I])>>16,T[4*I]=(4278190080&a[I])>>24;return T},e}(),W7=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,l;for(t in a=this.font.cmap.tables[0].codeMap,e={},l=this.subset)r=l[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,l,f,p,v;for(a={},f=0,p=e.length;f<p;f++)a[l=e[f]]=this.font.glyf.glyphFor(l);for(l in t=[],a)(r=a[l])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(l in v=this.glyphsFor(t))r=v[l],a[l]=r;return a},n.prototype.encode=function(e,t){var r,a,l,f,p,v,w,T,I,M,R,H,q,J,G;for(a in r=sb.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(e),R={0:0},G=r.charMap)R[(v=G[a]).old]=v.new;for(H in M=r.maxGlyphID,f)H in R||(R[H]=M++);return T=function(te){var le,Ce;for(le in Ce={},te)Ce[te[le]]=le;return Ce}(R),I=Object.keys(T).sort(function(te,le){return te-le}),q=function(){var te,le,Ce;for(Ce=[],te=0,le=I.length;te<le;te++)p=I[te],Ce.push(T[p]);return Ce}(),l=this.font.glyf.encode(f,q,R),w=this.font.loca.encode(l.offsets,q),J={cmap:this.font.cmap.raw(),glyf:l.table,loca:w,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(J["OS/2"]=this.font.os2.raw()),this.font.directory.encode(J)},n}();wn.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,l,f;if(Array.isArray(t))return"["+function(){var p,v,w;for(w=[],p=0,v=t.length;p<v;p++)r=t[p],w.push(e.convert(r));return w}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in l=["<<"],t)f=t[a],l.push("/"+a+" "+e.convert(f));return l.push(">>"),l.join(`
`)}return""+t},e}();const Y7=({userData:n,onLogout:e})=>{const[t,r]=ke.useState(!1),[a,l]=ke.useState([]),[f,p]=ke.useState(!1),[v,w]=ke.useState(!1),[T,I]=ke.useState(!0),[M,R]=ke.useState(0),[H,q]=ke.useState([]),J=ke.useRef(null),G=5,te=()=>{R(0),l([]),q([]),t&&le(!0)};window.refreshProfileBookings=te;const le=async(X=!1)=>{if(!(n!=null&&n.uid)){console.error("No UID available");return}try{X?p(!0):w(!0);let z=[];if(X||H.length===0){const Y=hp(),xe=Gh(Y,"bookings"),we=K0(xe,md("userId","==",n.uid));z=(await Od(we)).docs.map(Ie=>({id:Ie.id,...Ie.data()})),z.sort((Ie,_e)=>{const Te=new Date(Ie.date+" "+Ie.timeSlot.startTime).getTime();return new Date(_e.date+" "+_e.timeSlot.startTime).getTime()-Te}),q(z)}else z=H;X||await new Promise(Y=>setTimeout(Y,1e3));const j=X?0:M+1,ae=j*G,V=ae+G,F=z.slice(ae,V);I(z.length>V),R(j),l(X?F:Y=>[...Y,...F])}catch(z){console.error("Error fetching bookings:",z)}finally{X?p(!1):w(!1)}};ke.useEffect(()=>{t&&(n!=null&&n.uid)&&a.length===0&&le(!0)},[t,n==null?void 0:n.uid]),ke.useEffect(()=>{const X=z=>{J.current&&!J.current.contains(z.target)&&r(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]),ke.useEffect(()=>()=>{delete window.refreshProfileBookings},[]);const Ce=()=>{le(!1)},De=async()=>{try{const X=Bc();await W3(X),e&&e(),r(!1)}catch(X){console.error("Error signing out:",X)}},Ge=async X=>{try{const z=hp(),j=Lu(z,"stadiums",X.stadiumId),V=(await Z0(j)).data(),F=new wn;F.setFontSize(20),F.setTextColor(37,99,235),F.text("Alpha Sports Booking Invoice",105,20,{align:"center"}),F.setFontSize(16),F.setTextColor(0,0,0),F.text(V.name,105,35,{align:"center"}),F.setFontSize(12),F.text([`Booking ID: ${X.id}`,`Date: ${X.date}`,`Time: ${X.timeSlot.startTime} - ${X.timeSlot.endTime}`,`Court: ${X.courtId}`,`Amount Paid: ₹${X.amount}`,`Status: ${X.status}`,`
Booked By:`,`Name: ${n.name}`,`Email: ${n.email}`],20,50),F.setFontSize(11),F.setTextColor(100,100,100),F.text([`
Important Rules & Guidelines:`,"1. Please arrive 15 minutes before your scheduled time","2. Carry valid ID proof for verification","3. Wear appropriate sports attire and shoes","4. No refunds for cancellations within 24 hours","5. Follow all venue safety guidelines",`
For support, contact: support@alphasports.com`],20,120),F.setFontSize(10),F.setTextColor(150,150,150),F.text("This is a computer generated invoice",105,280,{align:"center"}),F.save(`booking-invoice-${X.id}.pdf`)}catch(z){console.error("Error generating invoice:",z)}};return console.log("Current userData:",n),P.jsxs("div",{className:"profile-dropdown",ref:J,children:[P.jsxs("button",{className:"profile-button",onClick:()=>{r(!t),console.log("Profile button clicked, userData:",n)},children:[P.jsx(Ug,{className:"profile-icon"}),P.jsx(pE,{className:`chevron-icon ${t?"open":""}`})]}),t&&P.jsxs("div",{className:"dropdown-content",children:[P.jsxs("div",{className:"user-info",children:[P.jsxs("div",{className:"user-header",children:[P.jsx(Ug,{className:"user-avatar"}),P.jsxs("div",{className:"user-details",children:[P.jsx("h3",{children:n.name}),P.jsx("p",{children:n.email})]})]}),P.jsxs("button",{className:"logout-button",onClick:De,children:[P.jsx(EE,{size:18}),P.jsx("span",{children:"Logout"})]})]}),P.jsxs("div",{className:"booking-history",children:[P.jsx("h4",{children:"Recent Bookings"}),a.length>0?P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:`bookings-list ${v?"loading":""}`,children:[a.map(X=>P.jsxs("div",{className:"booking-item",children:[P.jsx("div",{className:"booking-icon",children:P.jsx(c3,{})}),P.jsxs("div",{className:"booking-details",children:[P.jsxs("h5",{children:["Booking on ",X.date]}),P.jsxs("div",{className:"booking-time",children:[X.timeSlot.startTime," - ",X.timeSlot.endTime]}),P.jsxs("div",{className:"booking-meta",children:[P.jsxs("span",{className:"booking-amount",children:["₹",X.amount]}),P.jsxs("div",{className:"booking-actions",children:[P.jsx("span",{className:`booking-status ${X.status}`,children:X.status}),P.jsx("button",{className:"download-btn",onClick:()=>Ge(X),title:"Download Invoice",children:P.jsx(yE,{size:14})})]})]})]})]},X.id)),v&&P.jsx("div",{className:"load-more-spinner",children:P.jsx(Dy,{className:"spinner",size:24})})]}),T&&!v&&P.jsx("button",{className:"load-more-btn",onClick:Ce,children:"Load More"})]}):f?P.jsxs("div",{className:"initial-loading",children:[P.jsx(Dy,{className:"spinner",size:24}),P.jsx("span",{children:"Loading bookings..."})]}):P.jsx("p",{className:"no-bookings",children:"No bookings found"})]})]})]})},X7=()=>{const[n,e]=ke.useState(!1),[t,r]=ke.useState(!1),[a,l]=ke.useState(!1),[f,p]=ke.useState(null),[v,w]=ke.useState(null),[T,I]=ke.useState(!0),[M,R]=ke.useState(!1),H=async le=>{try{R(!0);const Ce=await Z0(Lu(fl,"users",le));if(Ce.exists()){const De=Ce.data();w({...De,uid:le}),localStorage.setItem("userData",JSON.stringify({uid:le,...De,lastFetched:new Date().getTime()}))}else w(null),localStorage.removeItem("userData")}catch(Ce){console.error("Error fetching user data:",Ce),w(null),localStorage.removeItem("userData")}finally{R(!1)}};ke.useEffect(()=>{const le=Bc(),Ce=x8(le,De=>{if(p(De),De){const Ge=localStorage.getItem("userData");if(Ge)try{const{lastFetched:X,uid:z,...j}=JSON.parse(Ge);!(Date.now()-X>90*24*60*60*1e3)&&z===De.uid?(w({...j,uid:z}),R(!1)):H(De.uid)}catch(X){console.error("Error parsing cached data:",X),localStorage.removeItem("userData"),H(De.uid)}else H(De.uid)}else w(null),localStorage.removeItem("userData");I(!1)});return()=>Ce()},[]),ke.useEffect(()=>{const le=()=>{window.scrollY>50?r(!0):r(!1)};return window.addEventListener("scroll",le),()=>window.removeEventListener("scroll",le)},[]);const q=()=>{e(!n)},J=()=>{f?G():(l(!0),e(!1))},G=async()=>{try{const le=Bc();await W3(le),w(null),localStorage.removeItem("userData"),e(!1)}catch(le){console.error("Error signing out:",le)}},te=le=>{p(le),H(le.uid)};return T?null:P.jsxs(P.Fragment,{children:[P.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:P.jsxs("div",{className:"container navbar-container",children:[P.jsxs(kc,{to:"/",className:"logo",children:[P.jsx("h1",{children:"PLAYO"}),P.jsx("span",{className:"logo-dot"})]}),f&&v&&P.jsx("div",{className:"welcome-message desktop-only",children:M?P.jsxs("div",{className:"welcome-loading",children:[P.jsxs("div",{className:"loading-dots",children:[P.jsx("span",{}),P.jsx("span",{}),P.jsx("span",{})]}),P.jsx("span",{children:"Loading..."})]}):`Welcome, ${v.name}`}),P.jsx("div",{className:`menu-toggle ${n?"active":""}`,onClick:q,children:n?P.jsx(u3,{}):P.jsx(IE,{})}),P.jsxs("div",{className:`nav-menu ${n?"active":""}`,children:[f&&v&&P.jsx("div",{className:"welcome-message mobile-only",children:M?P.jsxs("div",{className:"welcome-loading",children:[P.jsxs("div",{className:"loading-dots",children:[P.jsx("span",{}),P.jsx("span",{}),P.jsx("span",{})]}),P.jsx("span",{children:"Loading..."})]}):`Welcome, ${v.name}`}),P.jsxs("div",{className:"nav-links",children:[P.jsxs(kc,{to:"/venues",className:"nav-link",children:[P.jsx(c3,{className:"nav-icon"}),P.jsx("span",{children:"Book"})]}),P.jsxs(kc,{to:"/trainers",className:"nav-link",children:[P.jsx(wE,{className:"nav-icon"}),P.jsx("span",{children:"Train"})]}),P.jsxs(kc,{to:"/rehabilitation",className:"nav-link",children:[P.jsx(bE,{className:"nav-icon"}),P.jsx("span",{children:"Rehabilitation"})]})]}),P.jsxs("div",{className:"nav-buttons",children:[!f&&P.jsxs("button",{className:"btn btn-secondary login-btn",onClick:J,children:[P.jsx(Ug,{className:"btn-icon"}),P.jsx("span",{children:"Login / Signup"})]}),f&&v&&P.jsx(Y7,{userData:v,onLogout:G})]})]})]})}),P.jsx(j4,{isOpen:a,onClose:()=>l(!1),onAuthSuccess:te})]})};function K7(){const{pathname:n}=$l();return ke.useEffect(()=>{window.scrollTo(0,0)},[n]),null}var Wt;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wt||(Wt={}));var Iw=new Map([[Wt.QR_CODE,"QR_CODE"],[Wt.AZTEC,"AZTEC"],[Wt.CODABAR,"CODABAR"],[Wt.CODE_39,"CODE_39"],[Wt.CODE_93,"CODE_93"],[Wt.CODE_128,"CODE_128"],[Wt.DATA_MATRIX,"DATA_MATRIX"],[Wt.MAXICODE,"MAXICODE"],[Wt.ITF,"ITF"],[Wt.EAN_13,"EAN_13"],[Wt.EAN_8,"EAN_8"],[Wt.PDF_417,"PDF_417"],[Wt.RSS_14,"RSS_14"],[Wt.RSS_EXPANDED,"RSS_EXPANDED"],[Wt.UPC_A,"UPC_A"],[Wt.UPC_E,"UPC_E"],[Wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Nw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Nw||(Nw={}));function Q7(n){return Object.values(Wt).includes(n)}var tu;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(tu||(tu={}));var Uo=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[tu.SCAN_TYPE_CAMERA,tu.SCAN_TYPE_FILE],n}(),ob=function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!Iw.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,Iw.get(e))},n}(),Rw=function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n}(),Sp;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sp||(Sp={}));var lb=function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:Sp.UNKWOWN_ERROR}},n}(),cb=function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n}();function sl(n){return typeof n>"u"||n===null}function Z7(n,e,t){return n>t?t:n<e?e:n}var Nh=function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),jr=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(e){return"Last Match: ".concat(e)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n}(),Lw=function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n}(),ub=function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),f=Object.keys(e),p=0,v=f;p<v.length;p++){var w=v[p];if(l.has(w))return t.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},n}(),$f={exports:{}},J7=$f.exports,Dw;function $7(){return Dw||(Dw=1,function(n,e){(function(t,r){r(e)})(J7,function(t){function r(Z){return Z==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,s){Z.__proto__=s}||function(Z,s){for(var c in s)s.hasOwnProperty(c)&&(Z[c]=s[c])};function l(Z,s){a(Z,s);function c(){this.constructor=Z}Z.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}function f(Z,s){var c=Object.setPrototypeOf;c?c(Z,s):Z.__proto__=s}function p(Z,s){s===void 0&&(s=Z.constructor);var c=Error.captureStackTrace;c&&c(Z,s)}var v=function(Z){l(s,Z);function s(c){var u=this.constructor,d=Z.call(this,c)||this;return Object.defineProperty(d,"name",{value:u.name,enumerable:!1}),f(d,u.prototype),p(d),d}return s}(Error);class w extends v{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}w.kind="Exception";class T extends w{}T.kind="ArgumentException";class I extends w{}I.kind="IllegalArgumentException";class M{constructor(s){if(this.binarizer=s,s===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,c){return this.binarizer.getBlackRow(s,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,c,u,d){const g=this.binarizer.getLuminanceSource().crop(s,c,u,d);return new M(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends w{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class H{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class q{static arraycopy(s,c,u,d,g){for(;g--;)u[d++]=s[c++]}static currentTimeMillis(){return Date.now()}}class J extends w{}J.kind="IndexOutOfBoundsException";class G extends J{constructor(s=void 0,c=void 0){super(c),this.index=s,this.message=c}}G.kind="ArrayIndexOutOfBoundsException";class te{static fill(s,c){for(let u=0,d=s.length;u<d;u++)s[u]=c}static fillWithin(s,c,u,d){te.rangeCheck(s.length,c,u);for(let g=c;g<u;g++)s[g]=d}static rangeCheck(s,c,u){if(c>u)throw new I("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new G(c);if(u>s)throw new G(u)}static asList(...s){return s}static create(s,c,u){return Array.from({length:s}).map(g=>Array.from({length:c}).fill(u))}static createInt32Array(s,c,u){return Array.from({length:s}).map(g=>Int32Array.from({length:c}).fill(u))}static equals(s,c){if(!s||!c||!s.length||!c.length||s.length!==c.length)return!1;for(let u=0,d=s.length;u<d;u++)if(s[u]!==c[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let c=1;for(const u of s)c=31*c+u;return c}static fillUint8Array(s,c){for(let u=0;u!==s.length;u++)s[u]=c}static copyOf(s,c){return s.slice(0,c)}static copyOfUint8Array(s,c){if(s.length<=c){const u=new Uint8Array(c);return u.set(s),u}return s.slice(0,c)}static copyOfRange(s,c,u){const d=u-c,g=new Int32Array(d);return q.arraycopy(s,c,g,0,d),g}static binarySearch(s,c,u){u===void 0&&(u=te.numberComparator);let d=0,g=s.length-1;for(;d<=g;){const y=g+d>>1,A=u(c,s[y]);if(A>0)d=y+1;else if(A<0)g=y-1;else return y}return-d-1}static numberComparator(s,c){return s-c}}class le{static numberOfTrailingZeros(s){let c;if(s===0)return 32;let u=31;return c=s<<16,c!==0&&(u-=16,s=c),c=s<<8,c!==0&&(u-=8,s=c),c=s<<4,c!==0&&(u-=4,s=c),c=s<<2,c!==0&&(u-=2,s=c),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let c=1;return s>>>16||(c+=16,s<<=16),s>>>24||(c+=8,s<<=8),s>>>28||(c+=4,s<<=4),s>>>30||(c+=2,s<<=2),c-=s>>>31,c}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,c){return Math.trunc(s/c)}static parseInt(s,c=void 0){return parseInt(s,c)}}le.MIN_VALUE_32_BITS=-2147483648,le.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(s,c){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,c==null?this.bits=Ce.makeArray(s):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const c=Ce.makeArray(s);q.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const c=this.size;if(s>=c)return c;const u=this.bits;let d=Math.floor(s/32),g=u[d];g&=~((1<<(s&31))-1);const y=u.length;for(;g===0;){if(++d===y)return c;g=u[d]}const A=d*32+le.numberOfTrailingZeros(g);return A>c?c:A}getNextUnset(s){const c=this.size;if(s>=c)return c;const u=this.bits;let d=Math.floor(s/32),g=~u[d];g&=~((1<<(s&31))-1);const y=u.length;for(;g===0;){if(++d===y)return c;g=~u[d]}const A=d*32+le.numberOfTrailingZeros(g);return A>c?c:A}setBulk(s,c){this.bits[Math.floor(s/32)]=c}setRange(s,c){if(c<s||s<0||c>this.size)throw new I;if(c===s)return;c--;const u=Math.floor(s/32),d=Math.floor(c/32),g=this.bits;for(let y=u;y<=d;y++){const A=y>u?0:s&31,L=(2<<(y<d?31:c&31))-(1<<A);g[y]|=L}}clear(){const s=this.bits.length,c=this.bits;for(let u=0;u<s;u++)c[u]=0}isRange(s,c,u){if(c<s||s<0||c>this.size)throw new I;if(c===s)return!0;c--;const d=Math.floor(s/32),g=Math.floor(c/32),y=this.bits;for(let A=d;A<=g;A++){const S=A>d?0:s&31,B=(2<<(A<g?31:c&31))-(1<<S)&4294967295;if((y[A]&B)!==(u?B:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,c){if(c<0||c>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const c=s.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new I("Sizes don't match");const c=this.bits;for(let u=0,d=c.length;u<d;u++)c[u]^=s.bits[u]}toBytes(s,c,u,d){for(let g=0;g<d;g++){let y=0;for(let A=0;A<8;A++)this.get(s)&&(y|=1<<7-A),s++;c[u+g]=y}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,d=this.bits;for(let g=0;g<u;g++){let y=d[g];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,s[c-g]=y}if(this.size!==u*32){const g=u*32-this.size;let y=s[0]>>>g;for(let A=1;A<u;A++){const S=s[A];y|=S<<32-g,s[A-1]=y,y=S>>>g}s[u-1]=y}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof Ce))return!1;const c=s;return this.size===c.size&&te.equals(this.bits,c.bits)}hashCode(){return 31*this.size+te.hashCode(this.bits)}toString(){let s="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(s+=" "),s+=this.get(c)?"X":".";return s}clone(){return new Ce(this.size,this.bits.slice())}}var De;(function(Z){Z[Z.OTHER=0]="OTHER",Z[Z.PURE_BARCODE=1]="PURE_BARCODE",Z[Z.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Z[Z.TRY_HARDER=3]="TRY_HARDER",Z[Z.CHARACTER_SET=4]="CHARACTER_SET",Z[Z.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Z[Z.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Z[Z.ASSUME_GS1=7]="ASSUME_GS1",Z[Z.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Z[Z.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Z[Z.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(De||(De={}));var Ge=De;class X extends w{static getFormatInstance(){return new X}}X.kind="FormatException";var z;(function(Z){Z[Z.Cp437=0]="Cp437",Z[Z.ISO8859_1=1]="ISO8859_1",Z[Z.ISO8859_2=2]="ISO8859_2",Z[Z.ISO8859_3=3]="ISO8859_3",Z[Z.ISO8859_4=4]="ISO8859_4",Z[Z.ISO8859_5=5]="ISO8859_5",Z[Z.ISO8859_6=6]="ISO8859_6",Z[Z.ISO8859_7=7]="ISO8859_7",Z[Z.ISO8859_8=8]="ISO8859_8",Z[Z.ISO8859_9=9]="ISO8859_9",Z[Z.ISO8859_10=10]="ISO8859_10",Z[Z.ISO8859_11=11]="ISO8859_11",Z[Z.ISO8859_13=12]="ISO8859_13",Z[Z.ISO8859_14=13]="ISO8859_14",Z[Z.ISO8859_15=14]="ISO8859_15",Z[Z.ISO8859_16=15]="ISO8859_16",Z[Z.SJIS=16]="SJIS",Z[Z.Cp1250=17]="Cp1250",Z[Z.Cp1251=18]="Cp1251",Z[Z.Cp1252=19]="Cp1252",Z[Z.Cp1256=20]="Cp1256",Z[Z.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Z[Z.UTF8=22]="UTF8",Z[Z.ASCII=23]="ASCII",Z[Z.Big5=24]="Big5",Z[Z.GB18030=25]="GB18030",Z[Z.EUC_KR=26]="EUC_KR"})(z||(z={}));class j{constructor(s,c,u,...d){this.valueIdentifier=s,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=d,j.VALUE_IDENTIFIER_TO_ECI.set(s,this),j.NAME_TO_ECI.set(u,this);const g=this.values;for(let y=0,A=g.length;y!==A;y++){const S=g[y];j.VALUES_TO_ECI.set(S,this)}for(const y of d)j.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new X("incorect value");const c=j.VALUES_TO_ECI.get(s);if(c===void 0)throw new X("incorect value");return c}static getCharacterSetECIByName(s){const c=j.NAME_TO_ECI.get(s);if(c===void 0)throw new X("incorect value");return c}equals(s){if(!(s instanceof j))return!1;const c=s;return this.getName()===c.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(z.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(z.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(z.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(z.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(z.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(z.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(z.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(z.Big5,28,"Big5"),j.GB18030=new j(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(z.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends w{}ae.kind="UnsupportedOperationException";class V{static decode(s,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!V.isBrowser()&&s==="ISO-8859-1"}static encode(s,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof j?s:j.getCharacterSetECIByName(s)}static decodeFallback(s,c){const u=this.encodingCharacterSet(c);if(V.isDecodeFallbackSupported(u)){let d="";for(let g=0,y=s.length;g<y;g++){let A=s[g].toString(16);A.length<2&&(A="0"+A),d+="%"+A}return decodeURIComponent(d)}if(u.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ae(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(j.UTF8)||s.equals(j.ISO8859_1)||s.equals(j.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),d=[];for(let g=0;g<u.length;g++)d.push(u[g].charCodeAt(0));return new Uint8Array(d)}}class F{static castAsNonUtf8Char(s,c=null){const u=c?c.getName():this.ISO88591;return V.decode(new Uint8Array([s]),u)}static guessEncoding(s,c){if(c!=null&&c.get(Ge.CHARACTER_SET)!==void 0)return c.get(Ge.CHARACTER_SET).toString();const u=s.length;let d=!0,g=!0,y=!0,A=0,S=0,L=0,B=0,Q=0,re=0,me=0,Re=0,Oe=0,He=0,rt=0;const vt=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let At=0;At<u&&(d||g||y);At++){const _t=s[At]&255;y&&(A>0?(_t&128)===0?y=!1:A--:(_t&128)!==0&&((_t&64)===0?y=!1:(A++,(_t&32)===0?S++:(A++,(_t&16)===0?L++:(A++,(_t&8)===0?B++:y=!1))))),d&&(_t>127&&_t<160?d=!1:_t>159&&(_t<192||_t===215||_t===247)&&rt++),g&&(Q>0?_t<64||_t===127||_t>252?g=!1:Q--:_t===128||_t===160||_t>239?g=!1:_t>160&&_t<224?(re++,Re=0,me++,me>Oe&&(Oe=me)):_t>127?(Q++,me=0,Re++,Re>He&&(He=Re)):(me=0,Re=0))}return y&&A>0&&(y=!1),g&&Q>0&&(g=!1),y&&(vt||S+L+B>0)?F.UTF8:g&&(F.ASSUME_SHIFT_JIS||Oe>=3||He>=3)?F.SHIFT_JIS:d&&g?Oe===2&&re===2||rt*10>=u?F.SHIFT_JIS:F.ISO88591:d?F.ISO88591:g?F.SHIFT_JIS:y?F.UTF8:F.PLATFORM_DEFAULT_ENCODING}static format(s,...c){let u=-1;function d(y,A,S,L,B,Q){if(y==="%%")return"%";if(c[++u]===void 0)return;y=L?parseInt(L.substr(1)):void 0;let re=B?parseInt(B.substr(1)):void 0,me;switch(Q){case"s":me=c[u];break;case"c":me=c[u][0];break;case"f":me=parseFloat(c[u]).toFixed(y);break;case"p":me=parseFloat(c[u]).toPrecision(y);break;case"e":me=parseFloat(c[u]).toExponential(y);break;case"x":me=parseInt(c[u]).toString(re||16);break;case"d":me=parseFloat(parseInt(c[u],re||10).toPrecision(y)).toFixed(0);break}me=typeof me=="object"?JSON.stringify(me):(+me).toString(re);let Re=parseInt(S),Oe=S&&S[0]+""=="0"?"0":" ";for(;me.length<Re;)me=A!==void 0?me+Oe:Oe+me;return me}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,d)}static getBytes(s,c){return V.encode(s,c)}static getCharCode(s,c=0){return s.charCodeAt(c)}static getCharAt(s){return String.fromCharCode(s)}}F.SHIFT_JIS=j.SJIS.getName(),F.GB2312="GB2312",F.ISO88591=j.ISO8859_1.getName(),F.EUC_JP="EUC_JP",F.UTF8=j.UTF8.getName(),F.PLATFORM_DEFAULT_ENCODING=F.UTF8,F.ASSUME_SHIFT_JIS=!1;class Y{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=F.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,c,u){for(let d=c;c<c+u;d++)this.append(s[d]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+1)}substring(s,c){return this.value.substring(s,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+c.length)}}class xe{constructor(s,c,u,d){if(this.width=s,this.height=c,this.rowSize=u,this.bits=d,c==null&&(c=s),this.height=c,s<1||c<1)throw new I("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const c=s.length,u=s[0].length,d=new xe(u,c);for(let g=0;g<c;g++){const y=s[g];for(let A=0;A<u;A++)y[A]&&d.set(A,g)}return d}static parseFromString(s,c,u){if(s===null)throw new I("stringRepresentation cannot be null");const d=new Array(s.length);let g=0,y=0,A=-1,S=0,L=0;for(;L<s.length;)if(s.charAt(L)===`
`||s.charAt(L)==="\r"){if(g>y){if(A===-1)A=g-y;else if(g-y!==A)throw new I("row lengths do not match");y=g,S++}L++}else if(s.substring(L,L+c.length)===c)L+=c.length,d[g]=!0,g++;else if(s.substring(L,L+u.length)===u)L+=u.length,d[g]=!1,g++;else throw new I("illegal character encountered: "+s.substring(L));if(g>y){if(A===-1)A=g-y;else if(g-y!==A)throw new I("row lengths do not match");S++}const B=new xe(A,S);for(let Q=0;Q<g;Q++)d[Q]&&B.set(Math.floor(Q%A),Math.floor(Q/A));return B}get(s,c){const u=c*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new I("input matrix dimensions do not match");const c=new Ce(Math.floor(this.width/32)+1),u=this.rowSize,d=this.bits;for(let g=0,y=this.height;g<y;g++){const A=g*u,S=s.getRow(g,c).getBitArray();for(let L=0;L<u;L++)d[A+L]^=S[L]}}clear(){const s=this.bits,c=s.length;for(let u=0;u<c;u++)s[u]=0}setRegion(s,c,u,d){if(c<0||s<0)throw new I("Left and top must be nonnegative");if(d<1||u<1)throw new I("Height and width must be at least 1");const g=s+u,y=c+d;if(y>this.height||g>this.width)throw new I("The region must fit inside the matrix");const A=this.rowSize,S=this.bits;for(let L=c;L<y;L++){const B=L*A;for(let Q=s;Q<g;Q++)S[B+Math.floor(Q/32)]|=1<<(Q&31)&4294967295}}getRow(s,c){c==null||c.getSize()<this.width?c=new Ce(this.width):c.clear();const u=this.rowSize,d=this.bits,g=s*u;for(let y=0;y<u;y++)c.setBulk(y*32,d[g+y]);return c}setRow(s,c){q.arraycopy(c.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),c=this.getHeight();let u=new Ce(s),d=new Ce(s);for(let g=0,y=Math.floor((c+1)/2);g<y;g++)u=this.getRow(g,u),d=this.getRow(c-1-g,d),u.reverse(),d.reverse(),this.setRow(g,d),this.setRow(c-1-g,u)}getEnclosingRectangle(){const s=this.width,c=this.height,u=this.rowSize,d=this.bits;let g=s,y=c,A=-1,S=-1;for(let L=0;L<c;L++)for(let B=0;B<u;B++){const Q=d[L*u+B];if(Q!==0){if(L<y&&(y=L),L>S&&(S=L),B*32<g){let re=0;for(;(Q<<31-re&4294967295)===0;)re++;B*32+re<g&&(g=B*32+re)}if(B*32+31>A){let re=31;for(;!(Q>>>re);)re--;B*32+re>A&&(A=B*32+re)}}}return A<g||S<y?null:Int32Array.from([g,y,A-g+1,S-y+1])}getTopLeftOnBit(){const s=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const d=u/s;let g=u%s*32;const y=c[u];let A=0;for(;(y<<31-A&4294967295)===0;)A++;return g+=A,Int32Array.from([g,d])}getBottomRightOnBit(){const s=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const d=Math.floor(u/s);let g=Math.floor(u%s)*32;const y=c[u];let A=31;for(;!(y>>>A);)A--;return g+=A,Int32Array.from([g,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof xe))return!1;const c=s;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&te.equals(this.bits,c.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+te.hashCode(this.bits),s}toString(s="X ",c="  ",u=`
`){return this.buildToString(s,c,u)}buildToString(s,c,u){let d=new Y;for(let g=0,y=this.height;g<y;g++){for(let A=0,S=this.width;A<S;A++)d.append(this.get(A,g)?s:c);d.append(u)}return d.toString()}clone(){return new xe(this.width,this.height,this.rowSize,this.bits.slice())}}class we extends w{static getNotFoundInstance(){return new we}}we.kind="NotFoundException";class Se extends H{constructor(s){super(s),this.luminances=Se.EMPTY,this.buckets=new Int32Array(Se.LUMINANCE_BUCKETS)}getBlackRow(s,c){const u=this.getLuminanceSource(),d=u.getWidth();c==null||c.getSize()<d?c=new Ce(d):c.clear(),this.initArrays(d);const g=u.getRow(s,this.luminances),y=this.buckets;for(let S=0;S<d;S++)y[(g[S]&255)>>Se.LUMINANCE_SHIFT]++;const A=Se.estimateBlackPoint(y);if(d<3)for(let S=0;S<d;S++)(g[S]&255)<A&&c.set(S);else{let S=g[0]&255,L=g[1]&255;for(let B=1;B<d-1;B++){const Q=g[B+1]&255;(L*4-S-Q)/2<A&&c.set(B),S=L,L=Q}}return c}getBlackMatrix(){const s=this.getLuminanceSource(),c=s.getWidth(),u=s.getHeight(),d=new xe(c,u);this.initArrays(c);const g=this.buckets;for(let S=1;S<5;S++){const L=Math.floor(u*S/5),B=s.getRow(L,this.luminances),Q=Math.floor(c*4/5);for(let re=Math.floor(c/5);re<Q;re++){const me=B[re]&255;g[me>>Se.LUMINANCE_SHIFT]++}}const y=Se.estimateBlackPoint(g),A=s.getMatrix();for(let S=0;S<u;S++){const L=S*c;for(let B=0;B<c;B++)(A[L+B]&255)<y&&d.set(B,S)}return d}createBinarizer(s){return new Se(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const c=this.buckets;for(let u=0;u<Se.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(s){const c=s.length;let u=0,d=0,g=0;for(let B=0;B<c;B++)s[B]>g&&(d=B,g=s[B]),s[B]>u&&(u=s[B]);let y=0,A=0;for(let B=0;B<c;B++){const Q=B-d,re=s[B]*Q*Q;re>A&&(y=B,A=re)}if(d>y){const B=d;d=y,y=B}if(y-d<=c/16)throw new we;let S=y-1,L=-1;for(let B=y-1;B>d;B--){const Q=B-d,re=Q*Q*(y-B)*(u-s[B]);re>L&&(S=B,L=re)}return S<<Se.LUMINANCE_SHIFT}}Se.LUMINANCE_BITS=5,Se.LUMINANCE_SHIFT=8-Se.LUMINANCE_BITS,Se.LUMINANCE_BUCKETS=1<<Se.LUMINANCE_BITS,Se.EMPTY=Uint8ClampedArray.from([0]);class Ie extends Se{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),c=s.getWidth(),u=s.getHeight();if(c>=Ie.MINIMUM_DIMENSION&&u>=Ie.MINIMUM_DIMENSION){const d=s.getMatrix();let g=c>>Ie.BLOCK_SIZE_POWER;(c&Ie.BLOCK_SIZE_MASK)!==0&&g++;let y=u>>Ie.BLOCK_SIZE_POWER;(u&Ie.BLOCK_SIZE_MASK)!==0&&y++;const A=Ie.calculateBlackPoints(d,g,y,c,u),S=new xe(c,u);Ie.calculateThresholdForBlock(d,g,y,c,u,A,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ie(s)}static calculateThresholdForBlock(s,c,u,d,g,y,A){const S=g-Ie.BLOCK_SIZE,L=d-Ie.BLOCK_SIZE;for(let B=0;B<u;B++){let Q=B<<Ie.BLOCK_SIZE_POWER;Q>S&&(Q=S);const re=Ie.cap(B,2,u-3);for(let me=0;me<c;me++){let Re=me<<Ie.BLOCK_SIZE_POWER;Re>L&&(Re=L);const Oe=Ie.cap(me,2,c-3);let He=0;for(let vt=-2;vt<=2;vt++){const At=y[re+vt];He+=At[Oe-2]+At[Oe-1]+At[Oe]+At[Oe+1]+At[Oe+2]}const rt=He/25;Ie.thresholdBlock(s,Re,Q,rt,d,A)}}}static cap(s,c,u){return s<c?c:s>u?u:s}static thresholdBlock(s,c,u,d,g,y){for(let A=0,S=u*g+c;A<Ie.BLOCK_SIZE;A++,S+=g)for(let L=0;L<Ie.BLOCK_SIZE;L++)(s[S+L]&255)<=d&&y.set(c+L,u+A)}static calculateBlackPoints(s,c,u,d,g){const y=g-Ie.BLOCK_SIZE,A=d-Ie.BLOCK_SIZE,S=new Array(u);for(let L=0;L<u;L++){S[L]=new Int32Array(c);let B=L<<Ie.BLOCK_SIZE_POWER;B>y&&(B=y);for(let Q=0;Q<c;Q++){let re=Q<<Ie.BLOCK_SIZE_POWER;re>A&&(re=A);let me=0,Re=255,Oe=0;for(let rt=0,vt=B*d+re;rt<Ie.BLOCK_SIZE;rt++,vt+=d){for(let At=0;At<Ie.BLOCK_SIZE;At++){const _t=s[vt+At]&255;me+=_t,_t<Re&&(Re=_t),_t>Oe&&(Oe=_t)}if(Oe-Re>Ie.MIN_DYNAMIC_RANGE)for(rt++,vt+=d;rt<Ie.BLOCK_SIZE;rt++,vt+=d)for(let At=0;At<Ie.BLOCK_SIZE;At++)me+=s[vt+At]&255}let He=me>>Ie.BLOCK_SIZE_POWER*2;if(Oe-Re<=Ie.MIN_DYNAMIC_RANGE&&(He=Re/2,L>0&&Q>0)){const rt=(S[L-1][Q]+2*S[L][Q-1]+S[L-1][Q-1])/4;Re<rt&&(He=rt)}S[L][Q]=He}}return S}}Ie.BLOCK_SIZE_POWER=3,Ie.BLOCK_SIZE=1<<Ie.BLOCK_SIZE_POWER,Ie.BLOCK_SIZE_MASK=Ie.BLOCK_SIZE-1,Ie.MINIMUM_DIMENSION=Ie.BLOCK_SIZE*5,Ie.MIN_DYNAMIC_RANGE=24;class _e{constructor(s,c){this.width=s,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,c,u,d){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let c=new Y;for(let u=0;u<this.height;u++){const d=this.getRow(u,s);for(let g=0;g<this.width;g++){const y=d[g]&255;let A;y<64?A="#":y<128?A="+":y<192?A=".":A=" ",c.append(A)}c.append(`
`)}return c.toString()}}class Te extends _e{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,c){const u=this.delegate.getRow(s,c),d=this.getWidth();for(let g=0;g<d;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let d=0;d<c;d++)u[d]=255-(s[d]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,c,u,d){return new Te(this.delegate.crop(s,c,u,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Te(this.delegate.rotateCounterClockwise45())}}class se extends _e{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=se.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const c=s.getContext("2d").getImageData(0,0,s.width,s.height);return se.toGrayscaleBuffer(c.data,s.width,s.height)}static toGrayscaleBuffer(s,c,u){const d=new Uint8ClampedArray(c*u);for(let g=0,y=0,A=s.length;g<A;g+=4,y++){let S;if(s[g+3]===0)S=255;else{const B=s[g],Q=s[g+1],re=s[g+2];S=306*B+601*Q+117*re+512>>10}d[y]=S}return d}getRow(s,c){if(s<0||s>=this.getHeight())throw new I("Requested row is outside the image: "+s);const u=this.getWidth(),d=s*u;return c===null?c=this.buffer.slice(d,d+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(d,d+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,c,u,d){return super.crop(s,c,u,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const c=this.getTempCanvasElement(),u=c.getContext("2d"),d=s*se.DEGREE_TO_RADIANS,g=this.canvas.width,y=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(d))*g+Math.abs(Math.sin(d))*y),S=Math.ceil(Math.abs(Math.sin(d))*g+Math.abs(Math.cos(d))*y);return c.width=A,c.height=S,u.translate(A/2,S/2),u.rotate(d),u.drawImage(this.canvas,g/-2,y/-2),this.buffer=se.makeBufferFromCanvasImageData(c),this}invert(){return new Te(this)}}se.DEGREE_TO_RADIANS=Math.PI/180;class Be{constructor(s,c,u){this.deviceId=s,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var W=(globalThis||T1||self||window||void 0)&&(globalThis||T1||self||window||void 0).__awaiter||function(Z,s,c,u){function d(g){return g instanceof c?g:new c(function(y){y(g)})}return new(c||(c=Promise))(function(g,y){function A(B){try{L(u.next(B))}catch(Q){y(Q)}}function S(B){try{L(u.throw(B))}catch(Q){y(Q)}}function L(B){B.done?g(B.value):d(B.value).then(A,S)}L((u=u.apply(Z,s||[])).next())})};class ce{constructor(s,c=500,u){this.reader=s,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return W(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of s){const d=u.kind==="video"?"videoinput":u.kind;if(d!=="videoinput")continue;const g=u.deviceId||u.id,y=u.label||`Video device ${c.length+1}`,A=u.groupId,S={deviceId:g,label:y,kind:d,groupId:A};c.push(S)}return c})}getVideoInputDevices(){return W(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new Be(c.deviceId,c.label))})}findDeviceById(s){return W(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,c){return W(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,c)})}decodeOnceFromVideoDevice(s,c){return W(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeOnceFromConstraints(d,c)})}decodeOnceFromConstraints(s,c){return W(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(s,c){return W(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,c,u){return W(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,c,u)})}decodeFromVideoDevice(s,c,u){return W(this,void 0,void 0,function*(){let d;s?d={deviceId:{exact:s}}:d={facingMode:"environment"};const g={video:d};return yield this.decodeFromConstraints(g,c,u)})}decodeFromConstraints(s,c,u){return W(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(d,c,u)})}decodeFromStream(s,c,u){return W(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(s,c);return yield this.decodeContinuously(d,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,c){return W(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((c,u)=>this.playVideoOnLoad(s,()=>c()))}playVideoOnLoad(s,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",c),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return W(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,c){const u=document.getElementById(s);if(!u)throw new T(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new T(`element with id '${s}' must be an ${c} element`);return u}decodeFromImage(s,c){if(!s&&!c)throw new T("either imageElement with a src set or an url must be provided");return c&&!s?this.decodeFromImageUrl(c):this.decodeFromImageElement(s)}decodeFromVideo(s,c){if(!s&&!c)throw new T("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,c,u){if(s===void 0&&c===void 0)throw new T("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new T("An image element must be provided.");this.reset();const c=this.prepareImageElement(s);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(s){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(s,c){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(s){if(!s)throw new T("A video element must be provided.");this.reset();const c=this.prepareVideoElement(s);return this.videoElement=c,c}decodeFromImageUrl(s){if(!s)throw new T("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=s,u}decodeFromVideoUrl(s){if(!s)throw new T("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=s,u}decodeFromVideoUrlContinuously(s,c){if(!s)throw new T("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(u,c);return u.src=s,d}_decodeOnLoadImage(s){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(c,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return W(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,c){return W(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,c)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let c;return typeof s>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(c=s),c}prepareVideoElement(s){let c;return!s&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(c=s),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(s,c=!0,u=!0){this._stopAsyncDecode=!1;const d=(g,y)=>{if(this._stopAsyncDecode){y(new we("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const A=this.decode(s);g(A)}catch(A){const S=c&&A instanceof we,B=(A instanceof R||A instanceof X)&&u;if(S||B)return setTimeout(d,this._timeBetweenDecodingAttempts,g,y);y(A)}};return new Promise((g,y)=>d(g,y))}decodeContinuously(s,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(s);c(d,null),setTimeout(u,this.timeBetweenScansMillis)}catch(d){c(null,d);const g=d instanceof R||d instanceof X,y=d instanceof we;(g||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const c=this.createBinaryBitmap(s);return this.decodeBitmap(c)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,c,u){c||(c={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(s,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const c=this.getCaptureCanvas(s),u=new se(c),d=new Ie(u);return new M(d)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const c=this.createCaptureCanvas(s);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,d;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,d=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,d=s.naturalHeight||s.height)),c.style.width=u+"px",c.style.height=d+"px",c.width=u,c.height=d,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,c){try{s.srcObject=c}catch{s.src=URL.createObjectURL(c)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class fe{constructor(s,c,u=c==null?0:8*c.length,d,g,y=q.currentTimeMillis()){this.text=s,this.rawBytes=c,this.numBits=u,this.resultPoints=d,this.format=g,this.timestamp=y,this.text=s,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=d,this.format=g,this.resultMetadata=null,y==null?this.timestamp=q.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,c)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const c=this.resultPoints;if(c===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(c.length+s.length);q.arraycopy(c,0,u,0,c.length),q.arraycopy(s,0,u,c.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var be;(function(Z){Z[Z.AZTEC=0]="AZTEC",Z[Z.CODABAR=1]="CODABAR",Z[Z.CODE_39=2]="CODE_39",Z[Z.CODE_93=3]="CODE_93",Z[Z.CODE_128=4]="CODE_128",Z[Z.DATA_MATRIX=5]="DATA_MATRIX",Z[Z.EAN_8=6]="EAN_8",Z[Z.EAN_13=7]="EAN_13",Z[Z.ITF=8]="ITF",Z[Z.MAXICODE=9]="MAXICODE",Z[Z.PDF_417=10]="PDF_417",Z[Z.QR_CODE=11]="QR_CODE",Z[Z.RSS_14=12]="RSS_14",Z[Z.RSS_EXPANDED=13]="RSS_EXPANDED",Z[Z.UPC_A=14]="UPC_A",Z[Z.UPC_E=15]="UPC_E",Z[Z.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var ve=be,We;(function(Z){Z[Z.OTHER=0]="OTHER",Z[Z.ORIENTATION=1]="ORIENTATION",Z[Z.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Z[Z.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Z[Z.ISSUE_NUMBER=4]="ISSUE_NUMBER",Z[Z.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Z[Z.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Z[Z.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Z[Z.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Z[Z.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Z[Z.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(We||(We={}));var Pe=We;class Ye{constructor(s,c,u,d,g=-1,y=-1){this.rawBytes=s,this.text=c,this.byteSegments=u,this.ecLevel=d,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=y,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ct{exp(s){return this.expTable[s]}log(s){if(s===0)throw new I;return this.logTable[s]}static addOrSubtract(s,c){return s^c}}class ut{constructor(s,c){if(c.length===0)throw new I;this.field=s;const u=c.length;if(u>1&&c[0]===0){let d=1;for(;d<u&&c[d]===0;)d++;d===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-d),q.arraycopy(c,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(s===1){u=0;for(let y=0,A=c.length;y!==A;y++){const S=c[y];u=ct.addOrSubtract(u,S)}return u}u=c[0];const d=c.length,g=this.field;for(let y=1;y<d;y++)u=ct.addOrSubtract(g.multiply(s,u),c[y]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,u=s.coefficients;if(c.length>u.length){const y=c;c=u,u=y}let d=new Int32Array(u.length);const g=u.length-c.length;q.arraycopy(u,0,d,0,g);for(let y=g;y<u.length;y++)d[y]=ct.addOrSubtract(c[y-g],u[y]);return new ut(this.field,d)}multiply(s){if(!this.field.equals(s.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,d=s.coefficients,g=d.length,y=new Int32Array(u+g-1),A=this.field;for(let S=0;S<u;S++){const L=c[S];for(let B=0;B<g;B++)y[S+B]=ct.addOrSubtract(y[S+B],A.multiply(L,d[B]))}return new ut(A,y)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const c=this.coefficients.length,u=this.field,d=new Int32Array(c),g=this.coefficients;for(let y=0;y<c;y++)d[y]=u.multiply(g[y],s);return new ut(u,d)}multiplyByMonomial(s,c){if(s<0)throw new I;if(c===0)return this.field.getZero();const u=this.coefficients,d=u.length,g=new Int32Array(d+s),y=this.field;for(let A=0;A<d;A++)g[A]=y.multiply(u[A],c);return new ut(y,g)}divide(s){if(!this.field.equals(s.field))throw new I("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new I("Divide by 0");const c=this.field;let u=c.getZero(),d=this;const g=s.getCoefficient(s.getDegree()),y=c.inverse(g);for(;d.getDegree()>=s.getDegree()&&!d.isZero();){const A=d.getDegree()-s.getDegree(),S=c.multiply(d.getCoefficient(d.getDegree()),y),L=s.multiplyByMonomial(A,S),B=c.buildMonomial(A,S);u=u.addOrSubtract(B),d=d.addOrSubtract(L)}return[u,d]}toString(){let s="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),c===0||u!==1){const d=this.field.log(u);d===0?s+="1":d===1?s+="a":(s+="a^",s+=d)}c!==0&&(c===1?s+="x":(s+="x^",s+=c))}}return s}}class Lt extends w{}Lt.kind="ArithmeticException";class gt extends ct{constructor(s,c,u){super(),this.primitive=s,this.size=c,this.generatorBase=u;const d=new Int32Array(c);let g=1;for(let A=0;A<c;A++)d[A]=g,g*=2,g>=c&&(g^=s,g&=c-1);this.expTable=d;const y=new Int32Array(c);for(let A=0;A<c-1;A++)y[d[A]]=A;this.logTable=y,this.zero=new ut(this,Int32Array.from([0])),this.one=new ut(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new I;if(c===0)return this.zero;const u=new Int32Array(s+1);return u[0]=c,new ut(this,u)}inverse(s){if(s===0)throw new Lt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+le.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class Yt extends w{}Yt.kind="ReedSolomonException";class st extends w{}st.kind="IllegalStateException";class Ae{constructor(s){this.field=s}decode(s,c){const u=this.field,d=new ut(u,s),g=new Int32Array(c);let y=!0;for(let me=0;me<c;me++){const Re=d.evaluateAt(u.exp(me+u.getGeneratorBase()));g[g.length-1-me]=Re,Re!==0&&(y=!1)}if(y)return;const A=new ut(u,g),S=this.runEuclideanAlgorithm(u.buildMonomial(c,1),A,c),L=S[0],B=S[1],Q=this.findErrorLocations(L),re=this.findErrorMagnitudes(B,Q);for(let me=0;me<Q.length;me++){const Re=s.length-1-u.log(Q[me]);if(Re<0)throw new Yt("Bad error location");s[Re]=gt.addOrSubtract(s[Re],re[me])}}runEuclideanAlgorithm(s,c,u){if(s.getDegree()<c.getDegree()){const me=s;s=c,c=me}const d=this.field;let g=s,y=c,A=d.getZero(),S=d.getOne();for(;y.getDegree()>=(u/2|0);){let me=g,Re=A;if(g=y,A=S,g.isZero())throw new Yt("r_{i-1} was zero");y=me;let Oe=d.getZero();const He=g.getCoefficient(g.getDegree()),rt=d.inverse(He);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){const vt=y.getDegree()-g.getDegree(),At=d.multiply(y.getCoefficient(y.getDegree()),rt);Oe=Oe.addOrSubtract(d.buildMonomial(vt,At)),y=y.addOrSubtract(g.multiplyByMonomial(vt,At))}if(S=Oe.multiply(A).addOrSubtract(Re),y.getDegree()>=g.getDegree())throw new st("Division algorithm failed to reduce polynomial?")}const L=S.getCoefficient(0);if(L===0)throw new Yt("sigmaTilde(0) was zero");const B=d.inverse(L),Q=S.multiplyScalar(B),re=y.multiplyScalar(B);return[Q,re]}findErrorLocations(s){const c=s.getDegree();if(c===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(c);let d=0;const g=this.field;for(let y=1;y<g.getSize()&&d<c;y++)s.evaluateAt(y)===0&&(u[d]=g.inverse(y),d++);if(d!==c)throw new Yt("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,c){const u=c.length,d=new Int32Array(u),g=this.field;for(let y=0;y<u;y++){const A=g.inverse(c[y]);let S=1;for(let L=0;L<u;L++)if(y!==L){const B=g.multiply(c[L],A),Q=(B&1)===0?B|1:B&-2;S=g.multiply(S,Q)}d[y]=g.multiply(s.evaluateAt(A),g.inverse(S)),g.getGeneratorBase()!==0&&(d[y]=g.multiply(d[y],A))}return d}}var Gt;(function(Z){Z[Z.UPPER=0]="UPPER",Z[Z.LOWER=1]="LOWER",Z[Z.MIXED=2]="MIXED",Z[Z.DIGIT=3]="DIGIT",Z[Z.PUNCT=4]="PUNCT",Z[Z.BINARY=5]="BINARY"})(Gt||(Gt={}));class Nt{decode(s){this.ddata=s;let c=s.getBits(),u=this.extractBits(c),d=this.correctBits(u),g=Nt.convertBoolArrayToByteArray(d),y=Nt.getEncodedData(d),A=new Ye(g,y,null,null);return A.setNumBits(d.length),A}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let c=s.length,u=Gt.UPPER,d=Gt.UPPER,g="",y=0;for(;y<c;)if(d===Gt.BINARY){if(c-y<5)break;let A=Nt.readCode(s,y,5);if(y+=5,A===0){if(c-y<11)break;A=Nt.readCode(s,y,11)+31,y+=11}for(let S=0;S<A;S++){if(c-y<8){y=c;break}const L=Nt.readCode(s,y,8);g+=F.castAsNonUtf8Char(L),y+=8}d=u}else{let A=d===Gt.DIGIT?4:5;if(c-y<A)break;let S=Nt.readCode(s,y,A);y+=A;let L=Nt.getCharacter(d,S);L.startsWith("CTRL_")?(u=d,d=Nt.getTable(L.charAt(5)),L.charAt(6)==="L"&&(u=d)):(g+=L,d=u)}return g}static getTable(s){switch(s){case"L":return Gt.LOWER;case"P":return Gt.PUNCT;case"M":return Gt.MIXED;case"D":return Gt.DIGIT;case"B":return Gt.BINARY;case"U":default:return Gt.UPPER}}static getCharacter(s,c){switch(s){case Gt.UPPER:return Nt.UPPER_TABLE[c];case Gt.LOWER:return Nt.LOWER_TABLE[c];case Gt.MIXED:return Nt.MIXED_TABLE[c];case Gt.PUNCT:return Nt.PUNCT_TABLE[c];case Gt.DIGIT:return Nt.DIGIT_TABLE[c];default:throw new st("Bad table")}}correctBits(s){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=gt.AZTEC_DATA_10):(u=12,c=gt.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),g=s.length/u;if(g<d)throw new X;let y=s.length%u,A=new Int32Array(g);for(let re=0;re<g;re++,y+=u)A[re]=Nt.readCode(s,y,u);try{new Ae(c).decode(A,g-d)}catch(re){throw new X(re)}let S=(1<<u)-1,L=0;for(let re=0;re<d;re++){let me=A[re];if(me===0||me===S)throw new X;(me===1||me===S-1)&&L++}let B=new Array(d*u-L),Q=0;for(let re=0;re<d;re++){let me=A[re];if(me===1||me===S-1)B.fill(me>1,Q,Q+u-1),Q+=u-1;else for(let Re=u-1;Re>=0;--Re)B[Q++]=(me&1<<Re)!==0}return B}extractBits(s){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(c?11:14)+u*4,g=new Int32Array(d),y=new Array(this.totalBitsInLayer(u,c));if(c)for(let A=0;A<g.length;A++)g[A]=A;else{let A=d+1+2*le.truncDivision(le.truncDivision(d,2)-1,15),S=d/2,L=le.truncDivision(A,2);for(let B=0;B<S;B++){let Q=B+le.truncDivision(B,15);g[S-B-1]=L-Q-1,g[S+B]=L+Q+1}}for(let A=0,S=0;A<u;A++){let L=(u-A)*4+(c?9:12),B=A*2,Q=d-1-B;for(let re=0;re<L;re++){let me=re*2;for(let Re=0;Re<2;Re++)y[S+me+Re]=s.get(g[B+Re],g[B+re]),y[S+2*L+me+Re]=s.get(g[B+re],g[Q-Re]),y[S+4*L+me+Re]=s.get(g[Q-Re],g[Q-re]),y[S+6*L+me+Re]=s.get(g[Q-re],g[B+Re])}S+=L*8}return y}static readCode(s,c,u){let d=0;for(let g=c;g<c+u;g++)d<<=1,s[g]&&(d|=1);return d}static readByte(s,c){let u=s.length-c;return u>=8?Nt.readCode(s,c,8):Nt.readCode(s,c,u)<<8-u}static convertBoolArrayToByteArray(s){let c=new Uint8Array((s.length+7)/8);for(let u=0;u<c.length;u++)c[u]=Nt.readByte(s,8*u);return c}totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,c,u,d){const g=s-u,y=c-d;return Math.sqrt(g*g+y*y)}static sum(s){let c=0;for(let u=0,d=s.length;u!==d;u++){const g=s[u];c+=g}return c}}class Dt{static floatToIntBits(s){return s}}Dt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class at{constructor(s,c){this.x=s,this.y=c}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof at){const c=s;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Dt.floatToIntBits(this.x)+Dt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const c=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),d=this.distance(s[0],s[2]);let g,y,A;if(u>=c&&u>=d?(y=s[0],g=s[1],A=s[2]):d>=u&&d>=c?(y=s[1],g=s[0],A=s[2]):(y=s[2],g=s[0],A=s[1]),this.crossProductZ(g,y,A)<0){const S=g;g=A,A=S}s[0]=g,s[1]=y,s[2]=A}static distance(s,c){return lt.distance(s.x,s.y,c.x,c.y)}static crossProductZ(s,c,u){const d=c.x,g=c.y;return(u.x-d)*(s.y-g)-(u.y-g)*(s.x-d)}}class kt{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Qt extends kt{constructor(s,c,u,d,g){super(s,c),this.compact=u,this.nbDatablocks=d,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class zt{constructor(s,c,u,d){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),c==null&&(c=zt.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),d==null&&(d=s.getHeight()/2|0);const g=c/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=d-g,this.downInit=d+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new we}detect(){let s=this.leftInit,c=this.rightInit,u=this.upInit,d=this.downInit,g=!1,y=!0,A=!1,S=!1,L=!1,B=!1,Q=!1;const re=this.width,me=this.height;for(;y;){y=!1;let Re=!0;for(;(Re||!S)&&c<re;)Re=this.containsBlackPoint(u,d,c,!1),Re?(c++,y=!0,S=!0):S||c++;if(c>=re){g=!0;break}let Oe=!0;for(;(Oe||!L)&&d<me;)Oe=this.containsBlackPoint(s,c,d,!0),Oe?(d++,y=!0,L=!0):L||d++;if(d>=me){g=!0;break}let He=!0;for(;(He||!B)&&s>=0;)He=this.containsBlackPoint(u,d,s,!1),He?(s--,y=!0,B=!0):B||s--;if(s<0){g=!0;break}let rt=!0;for(;(rt||!Q)&&u>=0;)rt=this.containsBlackPoint(s,c,u,!0),rt?(u--,y=!0,Q=!0):Q||u--;if(u<0){g=!0;break}y&&(A=!0)}if(!g&&A){const Re=c-s;let Oe=null;for(let At=1;Oe===null&&At<Re;At++)Oe=this.getBlackPointOnSegment(s,d-At,s+At,d);if(Oe==null)throw new we;let He=null;for(let At=1;He===null&&At<Re;At++)He=this.getBlackPointOnSegment(s,u+At,s+At,u);if(He==null)throw new we;let rt=null;for(let At=1;rt===null&&At<Re;At++)rt=this.getBlackPointOnSegment(c,u+At,c-At,u);if(rt==null)throw new we;let vt=null;for(let At=1;vt===null&&At<Re;At++)vt=this.getBlackPointOnSegment(c,d-At,c-At,d);if(vt==null)throw new we;return this.centerEdges(vt,Oe,rt,He)}else throw new we}getBlackPointOnSegment(s,c,u,d){const g=lt.round(lt.distance(s,c,u,d)),y=(u-s)/g,A=(d-c)/g,S=this.image;for(let L=0;L<g;L++){const B=lt.round(s+L*y),Q=lt.round(c+L*A);if(S.get(B,Q))return new at(B,Q)}return null}centerEdges(s,c,u,d){const g=s.getX(),y=s.getY(),A=c.getX(),S=c.getY(),L=u.getX(),B=u.getY(),Q=d.getX(),re=d.getY(),me=zt.CORR;return g<this.width/2?[new at(Q-me,re+me),new at(A+me,S+me),new at(L-me,B-me),new at(g+me,y-me)]:[new at(Q+me,re+me),new at(A+me,S-me),new at(L-me,B+me),new at(g-me,y-me)]}containsBlackPoint(s,c,u,d){const g=this.image;if(d){for(let y=s;y<=c;y++)if(g.get(y,u))return!0}else for(let y=s;y<=c;y++)if(g.get(u,y))return!0;return!1}}zt.INIT_SIZE=10,zt.CORR=1;class mn{static checkAndNudgePoints(s,c){const u=s.getWidth(),d=s.getHeight();let g=!0;for(let y=0;y<c.length&&g;y+=2){const A=Math.floor(c[y]),S=Math.floor(c[y+1]);if(A<-1||A>u||S<-1||S>d)throw new we;g=!1,A===-1?(c[y]=0,g=!0):A===u&&(c[y]=u-1,g=!0),S===-1?(c[y+1]=0,g=!0):S===d&&(c[y+1]=d-1,g=!0)}g=!0;for(let y=c.length-2;y>=0&&g;y-=2){const A=Math.floor(c[y]),S=Math.floor(c[y+1]);if(A<-1||A>u||S<-1||S>d)throw new we;g=!1,A===-1?(c[y]=0,g=!0):A===u&&(c[y]=u-1,g=!0),S===-1?(c[y+1]=0,g=!0):S===d&&(c[y+1]=d-1,g=!0)}}}class Vt{constructor(s,c,u,d,g,y,A,S,L){this.a11=s,this.a21=c,this.a31=u,this.a12=d,this.a22=g,this.a32=y,this.a13=A,this.a23=S,this.a33=L}static quadrilateralToQuadrilateral(s,c,u,d,g,y,A,S,L,B,Q,re,me,Re,Oe,He){const rt=Vt.quadrilateralToSquare(s,c,u,d,g,y,A,S);return Vt.squareToQuadrilateral(L,B,Q,re,me,Re,Oe,He).times(rt)}transformPoints(s){const c=s.length,u=this.a11,d=this.a12,g=this.a13,y=this.a21,A=this.a22,S=this.a23,L=this.a31,B=this.a32,Q=this.a33;for(let re=0;re<c;re+=2){const me=s[re],Re=s[re+1],Oe=g*me+S*Re+Q;s[re]=(u*me+y*Re+L)/Oe,s[re+1]=(d*me+A*Re+B)/Oe}}transformPointsWithValues(s,c){const u=this.a11,d=this.a12,g=this.a13,y=this.a21,A=this.a22,S=this.a23,L=this.a31,B=this.a32,Q=this.a33,re=s.length;for(let me=0;me<re;me++){const Re=s[me],Oe=c[me],He=g*Re+S*Oe+Q;s[me]=(u*Re+y*Oe+L)/He,c[me]=(d*Re+A*Oe+B)/He}}static squareToQuadrilateral(s,c,u,d,g,y,A,S){const L=s-u+g-A,B=c-d+y-S;if(L===0&&B===0)return new Vt(u-s,g-u,s,d-c,y-d,c,0,0,1);{const Q=u-g,re=A-g,me=d-y,Re=S-y,Oe=Q*Re-re*me,He=(L*Re-re*B)/Oe,rt=(Q*B-L*me)/Oe;return new Vt(u-s+He*u,A-s+rt*A,s,d-c+He*d,S-c+rt*S,c,He,rt,1)}}static quadrilateralToSquare(s,c,u,d,g,y,A,S){return Vt.squareToQuadrilateral(s,c,u,d,g,y,A,S).buildAdjoint()}buildAdjoint(){return new Vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Vt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class ln extends mn{sampleGrid(s,c,u,d,g,y,A,S,L,B,Q,re,me,Re,Oe,He,rt,vt,At){const _t=Vt.quadrilateralToQuadrilateral(d,g,y,A,S,L,B,Q,re,me,Re,Oe,He,rt,vt,At);return this.sampleGridWithTransform(s,c,u,_t)}sampleGridWithTransform(s,c,u,d){if(c<=0||u<=0)throw new we;const g=new xe(c,u),y=new Float32Array(2*c);for(let A=0;A<u;A++){const S=y.length,L=A+.5;for(let B=0;B<S;B+=2)y[B]=B/2+.5,y[B+1]=L;d.transformPoints(y),mn.checkAndNudgePoints(s,y);try{for(let B=0;B<S;B+=2)s.get(Math.floor(y[B]),Math.floor(y[B+1]))&&g.set(B/2,A)}catch{throw new we}}return g}}class Sn{static setGridSampler(s){Sn.gridSampler=s}static getInstance(){return Sn.gridSampler}}Sn.gridSampler=new ln;class Ht{constructor(s,c){this.x=s,this.y=c}toResultPoint(){return new at(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Cn{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(s){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let d=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new Qt(d,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new we;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],c),this.sampleLine(s[1],s[2],c),this.sampleLine(s[2],s[3],c),this.sampleLine(s[3],s[0],c)]);this.shift=this.getRotation(u,c);let d=0;for(let y=0;y<4;y++){let A=u[(this.shift+y)%4];this.compact?(d<<=7,d+=A>>1&127):(d<<=10,d+=(A>>2&992)+(A>>1&31))}let g=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(s,c){let u=0;s.forEach((d,g,y)=>{let A=(d>>c-2<<1)+(d&1);u=(u<<3)+A}),u=((u&1)<<11)+(u>>1);for(let d=0;d<4;d++)if(le.bitCount(u^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new we}getCorrectedParameterData(s,c){let u,d;c?(u=7,d=2):(u=10,d=4);let g=u-d,y=new Int32Array(u);for(let S=u-1;S>=0;--S)y[S]=s&15,s>>=4;try{new Ae(gt.AZTEC_PARAM).decode(y,g)}catch{throw new we}let A=0;for(let S=0;S<d;S++)A=(A<<4)+y[S];return A}getBullsEyeCorners(s){let c=s,u=s,d=s,g=s,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Q=this.getFirstDifferent(c,y,1,-1),re=this.getFirstDifferent(u,y,1,1),me=this.getFirstDifferent(d,y,-1,1),Re=this.getFirstDifferent(g,y,-1,-1);if(this.nbCenterLayers>2){let Oe=this.distancePoint(Re,Q)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(Oe<.75||Oe>1.25||!this.isWhiteOrBlackRectangle(Q,re,me,Re))break}c=Q,u=re,d=me,g=Re,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new we;this.compact=this.nbCenterLayers===5;let A=new at(c.getX()+.5,c.getY()-.5),S=new at(u.getX()+.5,u.getY()+.5),L=new at(d.getX()-.5,d.getY()+.5),B=new at(g.getX()-.5,g.getY()-.5);return this.expandSquare([A,S,L,B],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,c,u,d;try{let A=new zt(this.image).detect();s=A[0],c=A[1],u=A[2],d=A[3]}catch{let S=this.image.getWidth()/2,L=this.image.getHeight()/2;s=this.getFirstDifferent(new Ht(S+7,L-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Ht(S+7,L+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Ht(S-7,L+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Ht(S-7,L-7),!1,-1,-1).toResultPoint()}let g=lt.round((s.getX()+d.getX()+c.getX()+u.getX())/4),y=lt.round((s.getY()+d.getY()+c.getY()+u.getY())/4);try{let A=new zt(this.image,15,g,y).detect();s=A[0],c=A[1],u=A[2],d=A[3]}catch{s=this.getFirstDifferent(new Ht(g+7,y-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Ht(g+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Ht(g-7,y+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Ht(g-7,y-7),!1,-1,-1).toResultPoint()}return g=lt.round((s.getX()+d.getX()+c.getX()+u.getX())/4),y=lt.round((s.getY()+d.getY()+c.getY()+u.getY())/4),new Ht(g,y)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,c,u,d,g){let y=Sn.getInstance(),A=this.getDimension(),S=A/2-this.nbCenterLayers,L=A/2+this.nbCenterLayers;return y.sampleGrid(s,A,A,S,S,L,S,L,L,S,L,c.getX(),c.getY(),u.getX(),u.getY(),d.getX(),d.getY(),g.getX(),g.getY())}sampleLine(s,c,u){let d=0,g=this.distanceResultPoint(s,c),y=g/u,A=s.getX(),S=s.getY(),L=y*(c.getX()-s.getX())/g,B=y*(c.getY()-s.getY())/g;for(let Q=0;Q<u;Q++)this.image.get(lt.round(A+Q*L),lt.round(S+Q*B))&&(d|=1<<u-Q-1);return d}isWhiteOrBlackRectangle(s,c,u,d){let g=3;s=new Ht(s.getX()-g,s.getY()+g),c=new Ht(c.getX()-g,c.getY()-g),u=new Ht(u.getX()+g,u.getY()-g),d=new Ht(d.getX()+g,d.getY()+g);let y=this.getColor(d,s);if(y===0)return!1;let A=this.getColor(s,c);return A!==y||(A=this.getColor(c,u),A!==y)?!1:(A=this.getColor(u,d),A===y)}getColor(s,c){let u=this.distancePoint(s,c),d=(c.getX()-s.getX())/u,g=(c.getY()-s.getY())/u,y=0,A=s.getX(),S=s.getY(),L=this.image.get(s.getX(),s.getY()),B=Math.ceil(u);for(let re=0;re<B;re++)A+=d,S+=g,this.image.get(lt.round(A),lt.round(S))!==L&&y++;let Q=y/u;return Q>.1&&Q<.9?0:Q<=.1===L?1:-1}getFirstDifferent(s,c,u,d){let g=s.getX()+u,y=s.getY()+d;for(;this.isValid(g,y)&&this.image.get(g,y)===c;)g+=u,y+=d;for(g-=u,y-=d;this.isValid(g,y)&&this.image.get(g,y)===c;)g+=u;for(g-=u;this.isValid(g,y)&&this.image.get(g,y)===c;)y+=d;return y-=d,new Ht(g,y)}expandSquare(s,c,u){let d=u/(2*c),g=s[0].getX()-s[2].getX(),y=s[0].getY()-s[2].getY(),A=(s[0].getX()+s[2].getX())/2,S=(s[0].getY()+s[2].getY())/2,L=new at(A+d*g,S+d*y),B=new at(A-d*g,S-d*y);g=s[1].getX()-s[3].getX(),y=s[1].getY()-s[3].getY(),A=(s[1].getX()+s[3].getX())/2,S=(s[1].getY()+s[3].getY())/2;let Q=new at(A+d*g,S+d*y),re=new at(A-d*g,S-d*y);return[L,Q,B,re]}isValid(s,c){return s>=0&&s<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(s){let c=lt.round(s.getX()),u=lt.round(s.getY());return this.isValid(c,u)}distancePoint(s,c){return lt.distance(s.getX(),s.getY(),c.getX(),c.getY())}distanceResultPoint(s,c){return lt.distance(s.getX(),s.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(le.truncDivision(this.nbLayers-4,8)+1)+15}}class Ft{decode(s,c=null){let u=null,d=new Cn(s.getBlackMatrix()),g=null,y=null;try{let B=d.detectMirror(!1);g=B.getPoints(),this.reportFoundResultPoints(c,g),y=new Nt().decode(B)}catch(B){u=B}if(y==null)try{let B=d.detectMirror(!0);g=B.getPoints(),this.reportFoundResultPoints(c,g),y=new Nt().decode(B)}catch(B){throw u??B}let A=new fe(y.getText(),y.getRawBytes(),y.getNumBits(),g,ve.AZTEC,q.currentTimeMillis()),S=y.getByteSegments();S!=null&&A.putMetadata(Pe.BYTE_SEGMENTS,S);let L=y.getECLevel();return L!=null&&A.putMetadata(Pe.ERROR_CORRECTION_LEVEL,L),A}reportFoundResultPoints(s,c){if(s!=null){let u=s.get(Ge.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((d,g,y)=>{u.foundPossibleResultPoint(d)})}}reset(){}}class ei extends ce{constructor(s=500){super(new Ft,s)}}class en{decode(s,c){try{return this.doDecode(s,c)}catch{if(c&&c.get(Ge.TRY_HARDER)===!0&&s.isRotateSupported()){const g=s.rotateCounterClockwise(),y=this.doDecode(g,c),A=y.getResultMetadata();let S=270;A!==null&&A.get(Pe.ORIENTATION)===!0&&(S=S+A.get(Pe.ORIENTATION)%360),y.putMetadata(Pe.ORIENTATION,S);const L=y.getResultPoints();if(L!==null){const B=g.getHeight();for(let Q=0;Q<L.length;Q++)L[Q]=new at(B-L[Q].getY()-1,L[Q].getX())}return y}else throw new we}}reset(){}doDecode(s,c){const u=s.getWidth(),d=s.getHeight();let g=new Ce(u);const y=c&&c.get(Ge.TRY_HARDER)===!0,A=Math.max(1,d>>(y?8:5));let S;y?S=d:S=15;const L=Math.trunc(d/2);for(let B=0;B<S;B++){const Q=Math.trunc((B+1)/2),re=(B&1)===0,me=L+A*(re?Q:-Q);if(me<0||me>=d)break;try{g=s.getBlackRow(me,g)}catch{continue}for(let Re=0;Re<2;Re++){if(Re===1&&(g.reverse(),c&&c.get(Ge.NEED_RESULT_POINT_CALLBACK)===!0)){const Oe=new Map;c.forEach((He,rt)=>Oe.set(rt,He)),Oe.delete(Ge.NEED_RESULT_POINT_CALLBACK),c=Oe}try{const Oe=this.decodeRow(me,g,c);if(Re===1){Oe.putMetadata(Pe.ORIENTATION,180);const He=Oe.getResultPoints();He!==null&&(He[0]=new at(u-He[0].getX()-1,He[0].getY()),He[1]=new at(u-He[1].getX()-1,He[1].getY()))}return Oe}catch{}}}throw new we}static recordPattern(s,c,u){const d=u.length;for(let L=0;L<d;L++)u[L]=0;const g=s.getSize();if(c>=g)throw new we;let y=!s.get(c),A=0,S=c;for(;S<g;){if(s.get(S)!==y)u[A]++;else{if(++A===d)break;u[A]=1,y=!y}S++}if(!(A===d||A===d-1&&S===g))throw new we}static recordPatternInReverse(s,c,u){let d=u.length,g=s.get(c);for(;c>0&&d>=0;)s.get(--c)!==g&&(d--,g=!g);if(d>=0)throw new we;en.recordPattern(s,c+1,u)}static patternMatchVariance(s,c,u){const d=s.length;let g=0,y=0;for(let L=0;L<d;L++)g+=s[L],y+=c[L];if(g<y)return Number.POSITIVE_INFINITY;const A=g/y;u*=A;let S=0;for(let L=0;L<d;L++){const B=s[L],Q=c[L]*A,re=B>Q?B-Q:Q-B;if(re>u)return Number.POSITIVE_INFINITY;S+=re}return S/g}}class Et extends en{static findStartPattern(s){const c=s.getSize(),u=s.getNextSet(0);let d=0,g=Int32Array.from([0,0,0,0,0,0]),y=u,A=!1;const S=6;for(let L=u;L<c;L++)if(s.get(L)!==A)g[d]++;else{if(d===S-1){let B=Et.MAX_AVG_VARIANCE,Q=-1;for(let re=Et.CODE_START_A;re<=Et.CODE_START_C;re++){const me=en.patternMatchVariance(g,Et.CODE_PATTERNS[re],Et.MAX_INDIVIDUAL_VARIANCE);me<B&&(B=me,Q=re)}if(Q>=0&&s.isRange(Math.max(0,y-(L-y)/2),y,!1))return Int32Array.from([y,L,Q]);y+=g[0]+g[1],g=g.slice(2,g.length-1),g[d-1]=0,g[d]=0,d--}else d++;g[d]=1,A=!A}throw new we}static decodeCode(s,c,u){en.recordPattern(s,u,c);let d=Et.MAX_AVG_VARIANCE,g=-1;for(let y=0;y<Et.CODE_PATTERNS.length;y++){const A=Et.CODE_PATTERNS[y],S=this.patternMatchVariance(c,A,Et.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,g=y)}if(g>=0)return g;throw new we}decodeRow(s,c,u){const d=u&&u.get(Ge.ASSUME_GS1)===!0,g=Et.findStartPattern(c),y=g[2];let A=0;const S=new Uint8Array(20);S[A++]=y;let L;switch(y){case Et.CODE_START_A:L=Et.CODE_CODE_A;break;case Et.CODE_START_B:L=Et.CODE_CODE_B;break;case Et.CODE_START_C:L=Et.CODE_CODE_C;break;default:throw new X}let B=!1,Q=!1,re="",me=g[0],Re=g[1];const Oe=Int32Array.from([0,0,0,0,0,0]);let He=0,rt=0,vt=y,At=0,_t=!0,Ln=!1,an=!1;for(;!B;){const ma=Q;switch(Q=!1,He=rt,rt=Et.decodeCode(c,Oe,Re),S[A++]=rt,rt!==Et.CODE_STOP&&(_t=!0),rt!==Et.CODE_STOP&&(At++,vt+=At*rt),me=Re,Re+=Oe.reduce((Ms,ui)=>Ms+ui,0),rt){case Et.CODE_START_A:case Et.CODE_START_B:case Et.CODE_START_C:throw new X}switch(L){case Et.CODE_CODE_A:if(rt<64)an===Ln?re+=String.fromCharCode(32+rt):re+=String.fromCharCode(32+rt+128),an=!1;else if(rt<96)an===Ln?re+=String.fromCharCode(rt-64):re+=String.fromCharCode(rt+64),an=!1;else switch(rt!==Et.CODE_STOP&&(_t=!1),rt){case Et.CODE_FNC_1:d&&(re.length===0?re+="]C1":re+="");break;case Et.CODE_FNC_2:case Et.CODE_FNC_3:break;case Et.CODE_FNC_4_A:!Ln&&an?(Ln=!0,an=!1):Ln&&an?(Ln=!1,an=!1):an=!0;break;case Et.CODE_SHIFT:Q=!0,L=Et.CODE_CODE_B;break;case Et.CODE_CODE_B:L=Et.CODE_CODE_B;break;case Et.CODE_CODE_C:L=Et.CODE_CODE_C;break;case Et.CODE_STOP:B=!0;break}break;case Et.CODE_CODE_B:if(rt<96)an===Ln?re+=String.fromCharCode(32+rt):re+=String.fromCharCode(32+rt+128),an=!1;else switch(rt!==Et.CODE_STOP&&(_t=!1),rt){case Et.CODE_FNC_1:d&&(re.length===0?re+="]C1":re+="");break;case Et.CODE_FNC_2:case Et.CODE_FNC_3:break;case Et.CODE_FNC_4_B:!Ln&&an?(Ln=!0,an=!1):Ln&&an?(Ln=!1,an=!1):an=!0;break;case Et.CODE_SHIFT:Q=!0,L=Et.CODE_CODE_A;break;case Et.CODE_CODE_A:L=Et.CODE_CODE_A;break;case Et.CODE_CODE_C:L=Et.CODE_CODE_C;break;case Et.CODE_STOP:B=!0;break}break;case Et.CODE_CODE_C:if(rt<100)rt<10&&(re+="0"),re+=rt;else switch(rt!==Et.CODE_STOP&&(_t=!1),rt){case Et.CODE_FNC_1:d&&(re.length===0?re+="]C1":re+="");break;case Et.CODE_CODE_A:L=Et.CODE_CODE_A;break;case Et.CODE_CODE_B:L=Et.CODE_CODE_B;break;case Et.CODE_STOP:B=!0;break}break}ma&&(L=L===Et.CODE_CODE_A?Et.CODE_CODE_B:Et.CODE_CODE_A)}const pi=Re-me;if(Re=c.getNextUnset(Re),!c.isRange(Re,Math.min(c.getSize(),Re+(Re-me)/2),!1))throw new we;if(vt-=At*He,vt%103!==He)throw new R;const Bi=re.length;if(Bi===0)throw new we;Bi>0&&_t&&(L===Et.CODE_CODE_C?re=re.substring(0,Bi-2):re=re.substring(0,Bi-1));const li=(g[1]+g[0])/2,tr=me+pi/2,ci=S.length,Ti=new Uint8Array(ci);for(let ma=0;ma<ci;ma++)Ti[ma]=S[ma];const _s=[new at(li,s),new at(tr,s)];return new fe(re,Ti,0,_s,ve.CODE_128,new Date().getTime())}}Et.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Et.MAX_AVG_VARIANCE=.25,Et.MAX_INDIVIDUAL_VARIANCE=.7,Et.CODE_SHIFT=98,Et.CODE_CODE_C=99,Et.CODE_CODE_B=100,Et.CODE_CODE_A=101,Et.CODE_FNC_1=102,Et.CODE_FNC_2=97,Et.CODE_FNC_3=96,Et.CODE_FNC_4_A=101,Et.CODE_FNC_4_B=100,Et.CODE_START_A=103,Et.CODE_START_B=104,Et.CODE_START_C=105,Et.CODE_STOP=106;class dn extends en{constructor(s=!1,c=!1){super(),this.usingCheckDigit=s,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,c,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let g=dn.findAsteriskPattern(c,d),y=c.getNextSet(g[1]),A=c.getSize(),S,L;do{dn.recordPattern(c,y,d);let Oe=dn.toNarrowWidePattern(d);if(Oe<0)throw new we;S=dn.patternToChar(Oe),this.decodeRowResult+=S,L=y;for(let He of d)y+=He;y=c.getNextSet(y)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let B=0;for(let Oe of d)B+=Oe;let Q=y-L-B;if(y!==A&&Q*2<B)throw new we;if(this.usingCheckDigit){let Oe=this.decodeRowResult.length-1,He=0;for(let rt=0;rt<Oe;rt++)He+=dn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(rt));if(this.decodeRowResult.charAt(Oe)!==dn.ALPHABET_STRING.charAt(He%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,Oe)}if(this.decodeRowResult.length===0)throw new we;let re;this.extendedMode?re=dn.decodeExtended(this.decodeRowResult):re=this.decodeRowResult;let me=(g[1]+g[0])/2,Re=L+B/2;return new fe(re,null,0,[new at(me,s),new at(Re,s)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(s,c){let u=s.getSize(),d=s.getNextSet(0),g=0,y=d,A=!1,S=c.length;for(let L=d;L<u;L++)if(s.get(L)!==A)c[g]++;else{if(g===S-1){if(this.toNarrowWidePattern(c)===dn.ASTERISK_ENCODING&&s.isRange(Math.max(0,y-Math.floor((L-y)/2)),y,!1))return[y,L];y+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,A=!A}throw new we}static toNarrowWidePattern(s){let c=s.length,u=0,d;do{let g=2147483647;for(let S of s)S<g&&S>u&&(g=S);u=g,d=0;let y=0,A=0;for(let S=0;S<c;S++){let L=s[S];L>u&&(A|=1<<c-1-S,d++,y+=L)}if(d===3){for(let S=0;S<c&&d>0;S++){let L=s[S];if(L>u&&(d--,L*2>=y))return-1}return A}}while(d>3);return-1}static patternToChar(s){for(let c=0;c<dn.CHARACTER_ENCODINGS.length;c++)if(dn.CHARACTER_ENCODINGS[c]===s)return dn.ALPHABET_STRING.charAt(c);if(s===dn.ASTERISK_ENCODING)return"*";throw new we}static decodeExtended(s){let c=s.length,u="";for(let d=0;d<c;d++){let g=s.charAt(d);if(g==="+"||g==="$"||g==="%"||g==="/"){let y=s.charAt(d+1),A="\0";switch(g){case"+":if(y>="A"&&y<="Z")A=String.fromCharCode(y.charCodeAt(0)+32);else throw new X;break;case"$":if(y>="A"&&y<="Z")A=String.fromCharCode(y.charCodeAt(0)-64);else throw new X;break;case"%":if(y>="A"&&y<="E")A=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")A=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")A=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")A=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")A="\0";else if(y==="V")A="@";else if(y==="W")A="`";else if(y==="X"||y==="Y"||y==="Z")A="";else throw new X;break;case"/":if(y>="A"&&y<="O")A=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")A=":";else throw new X;break}u+=A,d++}else u+=g}return u}}dn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dn.ASTERISK_ENCODING=148;class $t extends en{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,c,u){let d=this.decodeStart(c),g=this.decodeEnd(c),y=new Y;$t.decodeMiddle(c,d[1],g[0],y);let A=y.toString(),S=null;u!=null&&(S=u.get(Ge.ALLOWED_LENGTHS)),S==null&&(S=$t.DEFAULT_ALLOWED_LENGTHS);let L=A.length,B=!1,Q=0;for(let Re of S){if(L===Re){B=!0;break}Re>Q&&(Q=Re)}if(!B&&L>Q&&(B=!0),!B)throw new X;const re=[new at(d[1],s),new at(g[0],s)];return new fe(A,null,0,re,ve.ITF,new Date().getTime())}static decodeMiddle(s,c,u,d){let g=new Int32Array(10),y=new Int32Array(5),A=new Int32Array(5);for(g.fill(0),y.fill(0),A.fill(0);c<u;){en.recordPattern(s,c,g);for(let L=0;L<5;L++){let B=2*L;y[L]=g[B],A[L]=g[B+1]}let S=$t.decodeDigit(y);d.append(S.toString()),S=this.decodeDigit(A),d.append(S.toString()),g.forEach(function(L){c+=L})}}decodeStart(s){let c=$t.skipWhiteSpace(s),u=$t.findGuardPattern(s,c,$t.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let d=c-1;u>0&&d>=0&&!s.get(d);d--)u--;if(u!==0)throw new we}static skipWhiteSpace(s){const c=s.getSize(),u=s.getNextSet(0);if(u===c)throw new we;return u}decodeEnd(s){s.reverse();try{let c=$t.skipWhiteSpace(s),u;try{u=$t.findGuardPattern(s,c,$t.END_PATTERN_REVERSED[0])}catch(g){g instanceof we&&(u=$t.findGuardPattern(s,c,$t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let d=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-d,u}finally{s.reverse()}}static findGuardPattern(s,c,u){let d=u.length,g=new Int32Array(d),y=s.getSize(),A=!1,S=0,L=c;g.fill(0);for(let B=c;B<y;B++)if(s.get(B)!==A)g[S]++;else{if(S===d-1){if(en.patternMatchVariance(g,u,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return[L,B];L+=g[0]+g[1],q.arraycopy(g,2,g,0,S-1),g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,A=!A}throw new we}static decodeDigit(s){let c=$t.MAX_AVG_VARIANCE,u=-1,d=$t.PATTERNS.length;for(let g=0;g<d;g++){let y=$t.PATTERNS[g],A=en.patternMatchVariance(s,y,$t.MAX_INDIVIDUAL_VARIANCE);A<c?(c=A,u=g):A===c&&(u=-1)}if(u>=0)return u%10;throw new we}}$t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$t.MAX_AVG_VARIANCE=.38,$t.MAX_INDIVIDUAL_VARIANCE=.5,$t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$t.START_PATTERN=Int32Array.from([1,1,1,1]),$t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xn extends en{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let c=!1,u,d=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),u=xn.findGuardPattern(s,d,!1,this.START_END_PATTERN,g);let y=u[0];d=u[1];let A=y-(d-y);A>=0&&(c=s.isRange(A,y,!1))}return u}static checkChecksum(s){return xn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let u=parseInt(s.charAt(c-1),10);return xn.getStandardUPCEANChecksum(s.substring(0,c-1))===u}static getStandardUPCEANChecksum(s){let c=s.length,u=0;for(let d=c-1;d>=0;d-=2){let g=s.charAt(d).charCodeAt(0)-48;if(g<0||g>9)throw new X;u+=g}u*=3;for(let d=c-2;d>=0;d-=2){let g=s.charAt(d).charCodeAt(0)-48;if(g<0||g>9)throw new X;u+=g}return(1e3-u)%10}static decodeEnd(s,c){return xn.findGuardPattern(s,c,!1,xn.START_END_PATTERN,new Int32Array(xn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,c,u,d){return this.findGuardPattern(s,c,u,d,new Int32Array(d.length))}static findGuardPattern(s,c,u,d,g){let y=s.getSize();c=u?s.getNextUnset(c):s.getNextSet(c);let A=0,S=c,L=d.length,B=u;for(let Q=c;Q<y;Q++)if(s.get(Q)!==B)g[A]++;else{if(A===L-1){if(en.patternMatchVariance(g,d,xn.MAX_INDIVIDUAL_VARIANCE)<xn.MAX_AVG_VARIANCE)return Int32Array.from([S,Q]);S+=g[0]+g[1];let re=g.slice(2,g.length-1);for(let me=0;me<A-1;me++)g[me]=re[me];g[A-1]=0,g[A]=0,A--}else A++;g[A]=1,B=!B}throw new we}static decodeDigit(s,c,u,d){this.recordPattern(s,u,c);let g=this.MAX_AVG_VARIANCE,y=-1,A=d.length;for(let S=0;S<A;S++){let L=d[S],B=en.patternMatchVariance(c,L,xn.MAX_INDIVIDUAL_VARIANCE);B<g&&(g=B,y=S)}if(y>=0)return y;throw new we}}xn.MAX_AVG_VARIANCE=.48,xn.MAX_INDIVIDUAL_VARIANCE=.7,xn.START_END_PATTERN=Int32Array.from([1,1,1]),xn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Pn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,u){let d=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,d),y=d.toString(),A=Pn.parseExtensionString(y),S=[new at((u[0]+u[1])/2,s),new at(g,s)],L=new fe(y,null,0,S,ve.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&L.putAllMetadata(A),L}decodeMiddle(s,c,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let g=s.getSize(),y=c[1],A=0;for(let L=0;L<5&&y<g;L++){let B=xn.decodeDigit(s,d,y,xn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+B%10);for(let Q of d)y+=Q;B>=10&&(A|=1<<4-L),L!==4&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==5)throw new we;let S=this.determineCheckDigit(A);if(Pn.extensionChecksum(u.toString())!==S)throw new we;return y}static extensionChecksum(s){let c=s.length,u=0;for(let d=c-2;d>=0;d-=2)u+=s.charAt(d).charCodeAt(0)-48;u*=3;for(let d=c-1;d>=0;d-=2)u+=s.charAt(d).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let c=0;c<10;c++)if(s===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new we}static parseExtensionString(s){if(s.length!==5)return null;let c=Pn.parseExtension5String(s);return c==null?null:new Map([[Pe.SUGGESTED_PRICE,c]])}static parseExtension5String(s){let c;switch(s.charAt(0)){case"0":c="£";break;case"5":c="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(s.substring(1)),d=(u/100).toString(),g=u%100,y=g<10?"0"+g:g.toString();return c+d+"."+y}}class Hs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,u){let d=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,d),y=d.toString(),A=Hs.parseExtensionString(y),S=[new at((u[0]+u[1])/2,s),new at(g,s)],L=new fe(y,null,0,S,ve.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&L.putAllMetadata(A),L}decodeMiddle(s,c,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let g=s.getSize(),y=c[1],A=0;for(let S=0;S<2&&y<g;S++){let L=xn.decodeDigit(s,d,y,xn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let B of d)y+=B;L>=10&&(A|=1<<1-S),S!==1&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==2)throw new we;if(parseInt(u.toString())%4!==A)throw new we;return y}static parseExtensionString(s){return s.length!==2?null:new Map([[Pe.ISSUE_NUMBER,parseInt(s)]])}}class Or{static decodeRow(s,c,u){let d=xn.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Pn().decodeRow(s,c,d)}catch{return new Hs().decodeRow(s,c,d)}}}Or.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class un extends xn{constructor(){super(),this.decodeRowStringBuffer="",un.L_AND_G_PATTERNS=un.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let c=un.L_PATTERNS[s-10],u=new Int32Array(c.length);for(let d=0;d<c.length;d++)u[d]=c[c.length-d-1];un.L_AND_G_PATTERNS[s]=u}}decodeRow(s,c,u){let d=un.findStartGuardPattern(c),g=u==null?null:u.get(Ge.NEED_RESULT_POINT_CALLBACK);if(g!=null){const _t=new at((d[0]+d[1])/2,s);g.foundPossibleResultPoint(_t)}let y=this.decodeMiddle(c,d,this.decodeRowStringBuffer),A=y.rowOffset,S=y.resultString;if(g!=null){const _t=new at(A,s);g.foundPossibleResultPoint(_t)}let L=this.decodeEnd(c,A);if(g!=null){const _t=new at((L[0]+L[1])/2,s);g.foundPossibleResultPoint(_t)}let B=L[1],Q=B+(B-L[0]);if(Q>=c.getSize()||!c.isRange(B,Q,!1))throw new we;let re=S.toString();if(re.length<8)throw new X;if(!un.checkChecksum(re))throw new R;let me=(d[1]+d[0])/2,Re=(L[1]+L[0])/2,Oe=this.getBarcodeFormat(),He=[new at(me,s),new at(Re,s)],rt=new fe(re,null,0,He,Oe,new Date().getTime()),vt=0;try{let _t=Or.decodeRow(s,c,L[1]);rt.putMetadata(Pe.UPC_EAN_EXTENSION,_t.getText()),rt.putAllMetadata(_t.getResultMetadata()),rt.addResultPoints(_t.getResultPoints()),vt=_t.getText().length}catch{}let At=u==null?null:u.get(Ge.ALLOWED_EAN_EXTENSIONS);if(At!=null){let _t=!1;for(let Ln in At)if(vt.toString()===Ln){_t=!0;break}if(!_t)throw new we}return rt}decodeEnd(s,c){return un.findGuardPattern(s,c,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return un.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let u=parseInt(s.charAt(c-1),10);return un.getStandardUPCEANChecksum(s.substring(0,c-1))===u}static getStandardUPCEANChecksum(s){let c=s.length,u=0;for(let d=c-1;d>=0;d-=2){let g=s.charAt(d).charCodeAt(0)-48;if(g<0||g>9)throw new X;u+=g}u*=3;for(let d=c-2;d>=0;d-=2){let g=s.charAt(d).charCodeAt(0)-48;if(g<0||g>9)throw new X;u+=g}return(1e3-u)%10}}class ti extends un{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let g=s.getSize(),y=c[1],A=0;for(let L=0;L<6&&y<g;L++){let B=un.decodeDigit(s,d,y,un.L_AND_G_PATTERNS);u+=String.fromCharCode(48+B%10);for(let Q of d)y+=Q;B>=10&&(A|=1<<5-L)}u=ti.determineFirstDigit(u,A),y=un.findGuardPattern(s,y,!0,un.MIDDLE_PATTERN,new Int32Array(un.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&y<g;L++){let B=un.decodeDigit(s,d,y,un.L_PATTERNS);u+=String.fromCharCode(48+B);for(let Q of d)y+=Q}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(s,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new we}}ti.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class er extends un{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,u){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let g=s.getSize(),y=c[1];for(let S=0;S<4&&y<g;S++){let L=un.decodeDigit(s,d,y,un.L_PATTERNS);u+=String.fromCharCode(48+L);for(let B of d)y+=B}y=un.findGuardPattern(s,y,!0,un.MIDDLE_PATTERN,new Int32Array(un.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&y<g;S++){let L=un.decodeDigit(s,d,y,un.L_PATTERNS);u+=String.fromCharCode(48+L);for(let B of d)y+=B}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return ve.EAN_8}}class nn extends un{constructor(){super(...arguments),this.ean13Reader=new ti}getBarcodeFormat(){return ve.UPC_A}decode(s,c){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,c,u))}decodeMiddle(s,c,u){return this.ean13Reader.decodeMiddle(s,c,u)}maybeReturnResult(s){let c=s.getText();if(c.charAt(0)==="0"){let u=new fe(c.substring(1),null,null,s.getResultPoints(),ve.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new we}reset(){this.ean13Reader.reset()}}class pn extends un{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,c,u){const d=this.decodeMiddleCounters.map(L=>L);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const g=s.getSize();let y=c[1],A=0;for(let L=0;L<6&&y<g;L++){const B=pn.decodeDigit(s,d,y,pn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+B%10);for(let Q of d)y+=Q;B>=10&&(A|=1<<5-L)}let S=pn.determineNumSysAndCheckDigit(u,A);return{rowOffset:y,resultString:S}}decodeEnd(s,c){return pn.findGuardPatternWithoutCounters(s,c,!0,pn.MIDDLE_END_PATTERN)}checkChecksum(s){return un.checkChecksum(pn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,c){for(let u=0;u<=1;u++)for(let d=0;d<10;d++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][d]){let g=String.fromCharCode(48+u),y=String.fromCharCode(48+d);return g+s+y}throw we.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(s){const c=s.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new Y;u.append(s.charAt(0));let d=c[5];switch(d){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(d),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(d);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class gs extends en{constructor(s){super();let c=s==null?null:s.get(Ge.POSSIBLE_FORMATS),u=[];r(c)?(u.push(new ti),u.push(new nn),u.push(new er),u.push(new pn)):(c.indexOf(ve.EAN_13)>-1&&u.push(new ti),c.indexOf(ve.UPC_A)>-1&&u.push(new nn),c.indexOf(ve.EAN_8)>-1&&u.push(new er),c.indexOf(ve.UPC_E)>-1&&u.push(new pn)),this.readers=u}decodeRow(s,c,u){for(let d of this.readers)try{const g=d.decodeRow(s,c,u),y=g.getBarcodeFormat()===ve.EAN_13&&g.getText().charAt(0)==="0",A=u==null?null:u.get(Ge.POSSIBLE_FORMATS),S=A==null||A.includes(ve.UPC_A);if(y&&S){const L=g.getRawBytes(),B=new fe(g.getText().substring(1),L,L?L.length:null,g.getResultPoints(),ve.UPC_A);return B.putAllMetadata(g.getResultMetadata()),B}return g}catch{}throw new we}reset(){for(let s of this.readers)s.reset()}}class Gn extends en{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,c){for(let u=0;u<c.length;u++)if(en.patternMatchVariance(s,c[u],Gn.MAX_INDIVIDUAL_VARIANCE)<Gn.MAX_AVG_VARIANCE)return u;throw new we}static count(s){return lt.sum(new Int32Array(s))}static increment(s,c){let u=0,d=c[0];for(let g=1;g<s.length;g++)c[g]>d&&(d=c[g],u=g);s[u]++}static decrement(s,c){let u=0,d=c[0];for(let g=1;g<s.length;g++)c[g]<d&&(d=c[g],u=g);s[u]--}static isFinderPattern(s){let c=s[0]+s[1],u=c+s[2]+s[3],d=c/u;if(d>=Gn.MIN_FINDER_PATTERN_RATIO&&d<=Gn.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let A of s)A>y&&(y=A),A<g&&(g=A);return y<10*g}return!1}}Gn.MAX_AVG_VARIANCE=.2,Gn.MAX_INDIVIDUAL_VARIANCE=.45,Gn.MIN_FINDER_PATTERN_RATIO=9.5/12,Gn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ni{constructor(s,c){this.value=s,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof ni))return!1;const c=s;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Di{constructor(s,c,u,d,g){this.value=s,this.startEnd=c,this.value=s,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new at(u,g)),this.resultPoints.push(new at(d,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Di))return!1;const c=s;return this.value===c.value}hashCode(){return this.value}}class Bt{constructor(){}static getRSSvalue(s,c,u){let d=0;for(let S of s)d+=S;let g=0,y=0,A=s.length;for(let S=0;S<A-1;S++){let L;for(L=1,y|=1<<S;L<s[S];L++,y&=~(1<<S)){let B=Bt.combins(d-L-1,A-S-2);if(u&&y===0&&d-L-(A-S-1)>=A-S-1&&(B-=Bt.combins(d-L-(A-S),A-S-2)),A-S-1>1){let Q=0;for(let re=d-L-(A-S-2);re>c;re--)Q+=Bt.combins(d-L-re-1,A-S-3);B-=Q*(A-1-S)}else d-L>c&&B--;g+=B}d-=L}return g}static combins(s,c){let u,d;s-c>c?(d=c,u=s-c):(d=s-c,u=c);let g=1,y=1;for(let A=s;A>u;A--)g*=A,y<=d&&(g/=y,y++);for(;y<=d;)g/=y,y++;return g}}class ps{static buildBitArray(s){let c=s.length*2-1;s[s.length-1].getRightChar()==null&&(c-=1);let u=12*c,d=new Ce(u),g=0,A=s[0].getRightChar().getValue();for(let S=11;S>=0;--S)(A&1<<S)!=0&&d.set(g),g++;for(let S=1;S<s.length;++S){let L=s[S],B=L.getLeftChar().getValue();for(let Q=11;Q>=0;--Q)(B&1<<Q)!=0&&d.set(g),g++;if(L.getRightChar()!=null){let Q=L.getRightChar().getValue();for(let re=11;re>=0;--re)(Q&1<<re)!=0&&d.set(g),g++}}return d}}class Wr{constructor(s,c){c?this.decodedInformation=null:(this.finished=s,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Yr{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Xn extends Yr{constructor(s,c){super(s),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Xn.FNC1}}Xn.FNC1="$";class Ar extends Yr{constructor(s,c,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class lr extends Yr{constructor(s,c,u){if(super(s),c<0||c>10||u<0||u>10)throw new X;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===lr.FNC1}isSecondDigitFNC1(){return this.secondDigit===lr.FNC1}isAnyFNC1(){return this.firstDigit===lr.FNC1||this.secondDigit===lr.FNC1}}lr.FNC1=10;class Pt{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new we;let c=s.substring(0,2);for(let g of Pt.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(2,g[2],s):Pt.processFixedAI(2,g[1],s);if(s.length<3)throw new we;let u=s.substring(0,3);for(let g of Pt.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(3,g[2],s):Pt.processFixedAI(3,g[1],s);for(let g of Pt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(4,g[2],s):Pt.processFixedAI(4,g[1],s);if(s.length<4)throw new we;let d=s.substring(0,4);for(let g of Pt.FOUR_DIGIT_DATA_LENGTH)if(g[0]===d)return g[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(4,g[2],s):Pt.processFixedAI(4,g[1],s);throw new we}static processFixedAI(s,c,u){if(u.length<s)throw new we;let d=u.substring(0,s);if(u.length<s+c)throw new we;let g=u.substring(s,s+c),y=u.substring(s+c),A="("+d+")"+g,S=Pt.parseFieldsInGeneralPurpose(y);return S==null?A:A+S}static processVariableAI(s,c,u){let d=u.substring(0,s),g;u.length<s+c?g=u.length:g=s+c;let y=u.substring(s,g),A=u.substring(g),S="("+d+")"+y,L=Pt.parseFieldsInGeneralPurpose(A);return L==null?S:S+L}}Pt.VARIABLE_LENGTH=[],Pt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Pt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Pt.VARIABLE_LENGTH,20],["22",Pt.VARIABLE_LENGTH,29],["30",Pt.VARIABLE_LENGTH,8],["37",Pt.VARIABLE_LENGTH,8],["90",Pt.VARIABLE_LENGTH,30],["91",Pt.VARIABLE_LENGTH,30],["92",Pt.VARIABLE_LENGTH,30],["93",Pt.VARIABLE_LENGTH,30],["94",Pt.VARIABLE_LENGTH,30],["95",Pt.VARIABLE_LENGTH,30],["96",Pt.VARIABLE_LENGTH,30],["97",Pt.VARIABLE_LENGTH,3],["98",Pt.VARIABLE_LENGTH,30],["99",Pt.VARIABLE_LENGTH,30]],Pt.THREE_DIGIT_DATA_LENGTH=[["240",Pt.VARIABLE_LENGTH,30],["241",Pt.VARIABLE_LENGTH,30],["242",Pt.VARIABLE_LENGTH,6],["250",Pt.VARIABLE_LENGTH,30],["251",Pt.VARIABLE_LENGTH,30],["253",Pt.VARIABLE_LENGTH,17],["254",Pt.VARIABLE_LENGTH,20],["400",Pt.VARIABLE_LENGTH,30],["401",Pt.VARIABLE_LENGTH,30],["402",17],["403",Pt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Pt.VARIABLE_LENGTH,20],["421",Pt.VARIABLE_LENGTH,15],["422",3],["423",Pt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Pt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Pt.VARIABLE_LENGTH,15],["391",Pt.VARIABLE_LENGTH,18],["392",Pt.VARIABLE_LENGTH,15],["393",Pt.VARIABLE_LENGTH,18],["703",Pt.VARIABLE_LENGTH,30]],Pt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Pt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Pt.VARIABLE_LENGTH,20],["8003",Pt.VARIABLE_LENGTH,30],["8004",Pt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Pt.VARIABLE_LENGTH,30],["8008",Pt.VARIABLE_LENGTH,12],["8018",18],["8020",Pt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Pt.VARIABLE_LENGTH,70],["8200",Pt.VARIABLE_LENGTH,70]];class cr{constructor(s){this.buffer=new Y,this.information=s}decodeAllCodes(s,c){let u=c,d=null;do{let g=this.decodeGeneralPurposeField(u,d),y=Pt.parseFieldsInGeneralPurpose(g.getNewString());if(y!=null&&s.append(y),g.isRemaining()?d=""+g.getRemainingValue():d=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let c=s;c<s+3;++c)if(this.information.get(c))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(s,4);return g===0?new lr(this.information.getSize(),lr.FNC1,lr.FNC1):new lr(this.information.getSize(),g-1,lr.FNC1)}let c=this.extractNumericValueFromBitArray(s,7),u=(c-8)/11,d=(c-8)%11;return new lr(s+7,u,d)}extractNumericValueFromBitArray(s,c){return cr.extractNumericValueFromBitArray(this.information,s,c)}static extractNumericValueFromBitArray(s,c,u){let d=0;for(let g=0;g<u;++g)s.get(c+g)&&(d|=1<<u-g-1);return d}decodeGeneralPurposeField(s,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Ar(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Ar(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),s=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),s=c.isFinished()):(c=this.parseNumericBlock(),s=c.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let c;return s.isSecondDigitFNC1()?c=new Ar(this.current.getPosition(),this.buffer.toString()):c=new Ar(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Wr(!0,c)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let c=new Ar(this.current.getPosition(),this.buffer.toString());return new Wr(!0,c)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new Ar(this.current.getPosition(),this.buffer.toString());return new Wr(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new Ar(this.current.getPosition(),this.buffer.toString());return new Wr(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wr(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,8);return d>=232&&d<253}decodeIsoIec646(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new Xn(s+5,Xn.FNC1);if(c>=5&&c<15)return new Xn(s+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new Xn(s+7,""+(u+1));if(u>=90&&u<116)return new Xn(s+7,""+(u+7));let d=this.extractNumericValueFromBitArray(s,8),g;switch(d){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new X}return new Xn(s+8,g)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new Xn(s+5,Xn.FNC1);if(c>=5&&c<15)return new Xn(s+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new Xn(s+6,""+(u+33));let d;switch(u){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new st("Decoding invalid alphanumeric value: "+u)}return new Xn(s+6,d)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<5&&c+s<this.information.getSize();++c)if(c===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+c))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let c=s;c<s+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<4&&c+s<this.information.getSize();++c)if(this.information.get(s+c))return!1;return!0}}class ur{constructor(s){this.information=s,this.generalDecoder=new cr(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rr extends ur{constructor(s){super(s)}encodeCompressedGtin(s,c){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,c,u)}encodeCompressedGtinWithoutAI(s,c,u){for(let d=0;d<4;++d){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*d,10);g/100===0&&s.append("0"),g/10===0&&s.append("0"),s.append(g)}rr.appendCheckDigit(s,u)}static appendCheckDigit(s,c){let u=0;for(let d=0;d<13;d++){let g=s.charAt(d+c).charCodeAt(0)-48;u+=(d&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),s.append(u)}}rr.GTIN_SIZE=40;class ri extends rr{constructor(s){super(s)}parseInformation(){let s=new Y;s.append("(01)");let c=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(ri.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,ri.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(s,ri.HEADER_SIZE+44)}}ri.HEADER_SIZE=4;class Oi extends ur{constructor(s){super(s)}parseInformation(){let s=new Y;return this.getGeneralDecoder().decodeAllCodes(s,Oi.HEADER_SIZE)}}Oi.HEADER_SIZE=5;class Vr extends rr{constructor(s){super(s)}encodeCompressedWeight(s,c,u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(s,d);let g=this.checkWeight(d),y=1e5;for(let A=0;A<5;++A)g/y===0&&s.append("0"),y/=10;s.append(g)}}class Xr extends Vr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Xr.HEADER_SIZE+Vr.GTIN_SIZE+Xr.WEIGHT_SIZE)throw new we;let s=new Y;return this.encodeCompressedGtin(s,Xr.HEADER_SIZE),this.encodeCompressedWeight(s,Xr.HEADER_SIZE+Vr.GTIN_SIZE,Xr.WEIGHT_SIZE),s.toString()}}Xr.HEADER_SIZE=5,Xr.WEIGHT_SIZE=15;class ms extends Xr{constructor(s){super(s)}addWeightCode(s,c){s.append("(3103)")}checkWeight(s){return s}}class qs extends Xr{constructor(s){super(s)}addWeightCode(s,c){c<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class kr extends rr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<kr.HEADER_SIZE+rr.GTIN_SIZE)throw new we;let s=new Y;this.encodeCompressedGtin(s,kr.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(kr.HEADER_SIZE+rr.GTIN_SIZE,kr.LAST_DIGIT_SIZE);s.append("(392"),s.append(c),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(kr.HEADER_SIZE+rr.GTIN_SIZE+kr.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}kr.HEADER_SIZE=8,kr.LAST_DIGIT_SIZE=2;class Tr extends rr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+rr.GTIN_SIZE)throw new we;let s=new Y;this.encodeCompressedGtin(s,Tr.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+rr.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);s.append("(393"),s.append(c),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+rr.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,Tr.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+rr.GTIN_SIZE+Tr.LAST_DIGIT_SIZE+Tr.FIRST_THREE_DIGITS_SIZE,null);return s.append(d.getNewString()),s.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2,Tr.FIRST_THREE_DIGITS_SIZE=10;class Wn extends Vr{constructor(s,c,u){super(s),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=Wn.HEADER_SIZE+Wn.GTIN_SIZE+Wn.WEIGHT_SIZE+Wn.DATE_SIZE)throw new we;let s=new Y;return this.encodeCompressedGtin(s,Wn.HEADER_SIZE),this.encodeCompressedWeight(s,Wn.HEADER_SIZE+Wn.GTIN_SIZE,Wn.WEIGHT_SIZE),this.encodeCompressedDate(s,Wn.HEADER_SIZE+Wn.GTIN_SIZE+Wn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,Wn.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let d=u%32;u/=32;let g=u%12+1;u/=12;let y=u;y/10==0&&s.append("0"),s.append(y),g/10==0&&s.append("0"),s.append(g),d/10==0&&s.append("0"),s.append(d)}addWeightCode(s,c){s.append("("),s.append(this.firstAIdigits),s.append(c/1e5),s.append(")")}checkWeight(s){return s%1e5}}Wn.HEADER_SIZE=8,Wn.WEIGHT_SIZE=20,Wn.DATE_SIZE=16;function Gs(Z){try{if(Z.get(1))return new ri(Z);if(!Z.get(2))return new Oi(Z);switch(cr.extractNumericValueFromBitArray(Z,1,4)){case 4:return new ms(Z);case 5:return new qs(Z)}switch(cr.extractNumericValueFromBitArray(Z,1,5)){case 12:return new kr(Z);case 13:return new Tr(Z)}switch(cr.extractNumericValueFromBitArray(Z,1,7)){case 56:return new Wn(Z,"310","11");case 57:return new Wn(Z,"320","11");case 58:return new Wn(Z,"310","13");case 59:return new Wn(Z,"320","13");case 60:return new Wn(Z,"310","15");case 61:return new Wn(Z,"320","15");case 62:return new Wn(Z,"310","17");case 63:return new Wn(Z,"320","17")}}catch(s){throw console.log(s),new st("unknown decoder: "+Z)}}class ir{constructor(s,c,u,d){this.leftchar=s,this.rightchar=c,this.finderpattern=u,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,c){return s instanceof ir?ir.equalsOrNull(s.leftchar,c.leftchar)&&ir.equalsOrNull(s.rightchar,c.rightchar)&&ir.equalsOrNull(s.finderpattern,c.finderpattern):!1}static equalsOrNull(s,c){return s===null?c===null:ir.equals(s,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ba{constructor(s,c,u){this.pairs=s,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,c){return s instanceof Ba?this.checkEqualitity(s,c)&&s.wasReversed===c.wasReversed:!1}checkEqualitity(s,c){if(!s||!c)return;let u;return s.forEach((d,g)=>{c.forEach(y=>{d.getLeftChar().getValue()===y.getLeftChar().getValue()&&d.getRightChar().getValue()===y.getRightChar().getValue()&&d.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class pt extends Gn{constructor(s){super(...arguments),this.pairs=new Array(pt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,c,u){this.pairs.length=0,this.startFromEven=!1;try{return pt.constructResult(this.decodeRow2pairs(s,c))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,pt.constructResult(this.decodeRow2pairs(s,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,s))}catch(g){if(g instanceof we){if(!this.pairs.length)throw new we;u=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(s,!1),d){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new we}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),c}checkRows(s,c){for(let u=c;u<this.rows.length;u++){let d=this.rows[u];this.pairs.length=0;for(let y of s)this.pairs.push(y.getPairs());if(this.pairs.push(d.getPairs()),!pt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(s);g.push(d);try{return this.checkRows(g,u+1)}catch(y){this.verbose&&console.log(y)}}throw new we}static isValidSequence(s){for(let c of pt.FINDER_PATTERN_SEQUENCES){if(s.length>c.length)continue;let u=!0;for(let d=0;d<s.length;d++)if(s[d].getFinderPattern().getValue()!=c[d]){u=!1;break}if(u)return!0}return!1}storeRow(s,c){let u=0,d=!1,g=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>s){g=y.isEquivalent(this.pairs);break}d=y.isEquivalent(this.pairs),u++}g||d||pt.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Ba(this.pairs,s,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,c){for(let u of c)if(u.getPairs().length!==s.length){for(let d of u.getPairs())for(let g of s)if(ir.equals(d,g))break}}static isPartialRow(s,c){for(let u of c){let d=!0;for(let g of s){let y=!1;for(let A of u.getPairs())if(g.equals(A)){y=!0;break}if(!y){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(s){let c=ps.buildBitArray(s),d=Gs(c).parseInformation(),g=s[0].getFinderPattern().getResultPoints(),y=s[s.length-1].getFinderPattern().getResultPoints(),A=[g[0],g[1],y[0],y[1]];return new fe(d,null,null,A,ve.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),c=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let d=u.getChecksumPortion(),g=2;for(let A=1;A<this.pairs.size();++A){let S=this.pairs.get(A);d+=S.getLeftChar().getChecksumPortion(),g++;let L=S.getRightChar();L!=null&&(d+=L.getChecksumPortion(),g++)}return d%=211,211*(g-4)+d==c.getValue()}static getNextSecondBar(s,c){let u;return s.get(c)?(u=s.getNextUnset(c),u=s.getNextSet(u)):(u=s.getNextSet(c),u=s.getNextUnset(u)),u}retrieveNextPair(s,c,u){let d=c.length%2==0;this.startFromEven&&(d=!d);let g,y=!0,A=-1;do this.findNextPair(s,c,A),g=this.parseFoundFinderPattern(s,u,d),g==null?A=pt.getNextSecondBar(s,this.startEnd[0]):y=!1;while(y);let S=this.decodeDataCharacter(s,g,d,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new we;let L;try{L=this.decodeDataCharacter(s,g,d,!1)}catch(B){L=null,this.verbose&&console.log(B)}return new ir(S,L,g,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,c,u){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let g=s.getSize(),y;u>=0?y=u:this.isEmptyPair(c)?y=0:y=c[c.length-1].getFinderPattern().getStartEnd()[1];let A=c.length%2!=0;this.startFromEven&&(A=!A);let S=!1;for(;y<g&&(S=!s.get(y),!!S);)y++;let L=0,B=y;for(let Q=y;Q<g;Q++)if(s.get(Q)!=S)d[L]++;else{if(L==3){if(A&&pt.reverseCounters(d),pt.isFinderPattern(d)){this.startEnd[0]=B,this.startEnd[1]=Q;return}A&&pt.reverseCounters(d),B+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,L--}else L++;d[L]=1,S=!S}throw new we}static reverseCounters(s){let c=s.length;for(let u=0;u<c/2;++u){let d=s[u];s[u]=s[c-u-1],s[c-u-1]=d}}parseFoundFinderPattern(s,c,u){let d,g,y;if(u){let L=this.startEnd[0]-1;for(;L>=0&&!s.get(L);)L--;L++,d=this.startEnd[0]-L,g=L,y=this.startEnd[1]}else g=this.startEnd[0],y=s.getNextUnset(this.startEnd[1]+1),d=y-this.startEnd[1];let A=this.getDecodeFinderCounters();q.arraycopy(A,0,A,1,A.length-1),A[0]=d;let S;try{S=this.parseFinderValue(A,pt.FINDER_PATTERNS)}catch{return null}return new Di(S,[g,y],g,y,c)}decodeDataCharacter(s,c,u,d){let g=this.getDataCharacterCounters();for(let tr=0;tr<g.length;tr++)g[tr]=0;if(d)pt.recordPatternInReverse(s,c.getStartEnd()[0],g);else{pt.recordPattern(s,c.getStartEnd()[1],g);for(let tr=0,ci=g.length-1;tr<ci;tr++,ci--){let Ti=g[tr];g[tr]=g[ci],g[ci]=Ti}}let y=17,A=lt.sum(new Int32Array(g))/y,S=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(A-S)/S>.3)throw new we;let L=this.getOddCounts(),B=this.getEvenCounts(),Q=this.getOddRoundingErrors(),re=this.getEvenRoundingErrors();for(let tr=0;tr<g.length;tr++){let ci=1*g[tr]/A,Ti=ci+.5;if(Ti<1){if(ci<.3)throw new we;Ti=1}else if(Ti>8){if(ci>8.7)throw new we;Ti=8}let _s=tr/2;(tr&1)==0?(L[_s]=Ti,Q[_s]=ci-Ti):(B[_s]=Ti,re[_s]=ci-Ti)}this.adjustOddEvenCounts(y);let me=4*c.getValue()+(u?0:2)+(d?0:1)-1,Re=0,Oe=0;for(let tr=L.length-1;tr>=0;tr--){if(pt.isNotA1left(c,u,d)){let ci=pt.WEIGHTS[me][2*tr];Oe+=L[tr]*ci}Re+=L[tr]}let He=0;for(let tr=B.length-1;tr>=0;tr--)if(pt.isNotA1left(c,u,d)){let ci=pt.WEIGHTS[me][2*tr+1];He+=B[tr]*ci}let rt=Oe+He;if((Re&1)!=0||Re>13||Re<4)throw new we;let vt=(13-Re)/2,At=pt.SYMBOL_WIDEST[vt],_t=9-At,Ln=Bt.getRSSvalue(L,At,!0),an=Bt.getRSSvalue(B,_t,!1),pi=pt.EVEN_TOTAL_SUBSET[vt],Bi=pt.GSUM[vt],li=Ln*pi+an+Bi;return new ni(li,rt)}static isNotA1left(s,c,u){return!(s.getValue()==0&&c&&u)}adjustOddEvenCounts(s){let c=lt.sum(new Int32Array(this.getOddCounts())),u=lt.sum(new Int32Array(this.getEvenCounts())),d=!1,g=!1;c>13?g=!0:c<4&&(d=!0);let y=!1,A=!1;u>13?A=!0:u<4&&(y=!0);let S=c+u-s,L=(c&1)==1,B=(u&1)==0;if(S==1)if(L){if(B)throw new we;g=!0}else{if(!B)throw new we;A=!0}else if(S==-1)if(L){if(B)throw new we;d=!0}else{if(!B)throw new we;y=!0}else if(S==0){if(L){if(!B)throw new we;c<u?(d=!0,A=!0):(g=!0,y=!0)}else if(B)throw new we}else throw new we;if(d){if(g)throw new we;pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(A)throw new we;pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pt.SYMBOL_WIDEST=[7,5,4,3,1],pt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],pt.GSUM=[0,348,1388,2948,3988],pt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],pt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],pt.FINDER_PAT_A=0,pt.FINDER_PAT_B=1,pt.FINDER_PAT_C=2,pt.FINDER_PAT_D=3,pt.FINDER_PAT_E=4,pt.FINDER_PAT_F=5,pt.FINDER_PATTERN_SEQUENCES=[[pt.FINDER_PAT_A,pt.FINDER_PAT_A],[pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B],[pt.FINDER_PAT_A,pt.FINDER_PAT_C,pt.FINDER_PAT_B,pt.FINDER_PAT_D],[pt.FINDER_PAT_A,pt.FINDER_PAT_E,pt.FINDER_PAT_B,pt.FINDER_PAT_D,pt.FINDER_PAT_C],[pt.FINDER_PAT_A,pt.FINDER_PAT_E,pt.FINDER_PAT_B,pt.FINDER_PAT_D,pt.FINDER_PAT_D,pt.FINDER_PAT_F],[pt.FINDER_PAT_A,pt.FINDER_PAT_E,pt.FINDER_PAT_B,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_F,pt.FINDER_PAT_F],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_D],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_E],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_F,pt.FINDER_PAT_F],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_E,pt.FINDER_PAT_F,pt.FINDER_PAT_F]],pt.MAX_PAIRS=11;class $i extends ni{constructor(s,c,u){super(s,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bn extends Gn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,c,u){const d=this.decodePair(c,!1,s,u);Bn.addOrTally(this.possibleLeftPairs,d),c.reverse();let g=this.decodePair(c,!0,s,u);Bn.addOrTally(this.possibleRightPairs,g),c.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let A of this.possibleRightPairs)if(A.getCount()>1&&Bn.checkChecksum(y,A))return Bn.constructResult(y,A)}throw new we}static addOrTally(s,c){if(c==null)return;let u=!1;for(let d of s)if(d.getValue()===c.getValue()){d.incrementCount(),u=!0;break}u||s.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,c){let u=4537077*s.getValue()+c.getValue(),d=new String(u).toString(),g=new Y;for(let L=13-d.length;L>0;L--)g.append("0");g.append(d);let y=0;for(let L=0;L<13;L++){let B=g.charAt(L).charCodeAt(0)-48;y+=(L&1)===0?3*B:B}y=10-y%10,y===10&&(y=0),g.append(y.toString());let A=s.getFinderPattern().getResultPoints(),S=c.getFinderPattern().getResultPoints();return new fe(g.toString(),null,0,[A[0],A[1],S[0],S[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(s,c){let u=(s.getChecksumPortion()+16*c.getChecksumPortion())%79,d=9*s.getFinderPattern().getValue()+c.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,u===d}decodePair(s,c,u,d){try{let g=this.findFinderPattern(s,c),y=this.parseFoundFinderPattern(s,u,c,g),A=d==null?null:d.get(Ge.NEED_RESULT_POINT_CALLBACK);if(A!=null){let B=(g[0]+g[1])/2;c&&(B=s.getSize()-1-B),A.foundPossibleResultPoint(new at(B,u))}let S=this.decodeDataCharacter(s,y,!0),L=this.decodeDataCharacter(s,y,!1);return new $i(1597*S.getValue()+L.getValue(),S.getChecksumPortion()+4*L.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(s,c,u){let d=this.getDataCharacterCounters();for(let He=0;He<d.length;He++)d[He]=0;if(u)en.recordPatternInReverse(s,c.getStartEnd()[0],d);else{en.recordPattern(s,c.getStartEnd()[1]+1,d);for(let He=0,rt=d.length-1;He<rt;He++,rt--){let vt=d[He];d[He]=d[rt],d[rt]=vt}}let g=u?16:15,y=lt.sum(new Int32Array(d))/g,A=this.getOddCounts(),S=this.getEvenCounts(),L=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let He=0;He<d.length;He++){let rt=d[He]/y,vt=Math.floor(rt+.5);vt<1?vt=1:vt>8&&(vt=8);let At=Math.floor(He/2);(He&1)===0?(A[At]=vt,L[At]=rt-vt):(S[At]=vt,B[At]=rt-vt)}this.adjustOddEvenCounts(u,g);let Q=0,re=0;for(let He=A.length-1;He>=0;He--)re*=9,re+=A[He],Q+=A[He];let me=0,Re=0;for(let He=S.length-1;He>=0;He--)me*=9,me+=S[He],Re+=S[He];let Oe=re+3*me;if(u){if((Q&1)!==0||Q>12||Q<4)throw new we;let He=(12-Q)/2,rt=Bn.OUTSIDE_ODD_WIDEST[He],vt=9-rt,At=Bt.getRSSvalue(A,rt,!1),_t=Bt.getRSSvalue(S,vt,!0),Ln=Bn.OUTSIDE_EVEN_TOTAL_SUBSET[He],an=Bn.OUTSIDE_GSUM[He];return new ni(At*Ln+_t+an,Oe)}else{if((Re&1)!==0||Re>10||Re<4)throw new we;let He=(10-Re)/2,rt=Bn.INSIDE_ODD_WIDEST[He],vt=9-rt,At=Bt.getRSSvalue(A,rt,!0),_t=Bt.getRSSvalue(S,vt,!1),Ln=Bn.INSIDE_ODD_TOTAL_SUBSET[He],an=Bn.INSIDE_GSUM[He];return new ni(_t*Ln+At+an,Oe)}}findFinderPattern(s,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),g=!1,y=0;for(;y<d&&(g=!s.get(y),c!==g);)y++;let A=0,S=y;for(let L=y;L<d;L++)if(s.get(L)!==g)u[A]++;else{if(A===3){if(Gn.isFinderPattern(u))return[S,L];S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,A--}else A++;u[A]=1,g=!g}throw new we}parseFoundFinderPattern(s,c,u,d){let g=s.get(d[0]),y=d[0]-1;for(;y>=0&&g!==s.get(y);)y--;y++;const A=d[0]-y,S=this.getDecodeFinderCounters(),L=new Int32Array(S.length);q.arraycopy(S,0,L,1,S.length-1),L[0]=A;const B=this.parseFinderValue(L,Bn.FINDER_PATTERNS);let Q=y,re=d[1];return u&&(Q=s.getSize()-1-Q,re=s.getSize()-1-re),new Di(B,[y,d[1]],Q,re,c)}adjustOddEvenCounts(s,c){let u=lt.sum(new Int32Array(this.getOddCounts())),d=lt.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1,A=!1,S=!1;s?(u>12?y=!0:u<4&&(g=!0),d>12?S=!0:d<4&&(A=!0)):(u>11?y=!0:u<5&&(g=!0),d>10?S=!0:d<4&&(A=!0));let L=u+d-c,B=(u&1)===(s?1:0),Q=(d&1)===1;if(L===1)if(B){if(Q)throw new we;y=!0}else{if(!Q)throw new we;S=!0}else if(L===-1)if(B){if(Q)throw new we;g=!0}else{if(!Q)throw new we;A=!0}else if(L===0){if(B){if(!Q)throw new we;u<d?(g=!0,S=!0):(y=!0,A=!0)}else if(Q)throw new we}else throw new we;if(g){if(y)throw new we;Gn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Gn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(S)throw new we;Gn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Gn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bn.OUTSIDE_GSUM=[0,161,961,2015,2715],Bn.INSIDE_GSUM=[0,336,1036,1516],Bn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bn.INSIDE_ODD_WIDEST=[2,4,6,8],Bn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ii extends en{constructor(s,c){super(),this.readers=[],this.verbose=c===!0;const u=s?s.get(Ge.POSSIBLE_FORMATS):null,d=s&&s.get(Ge.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(ve.EAN_13)||u.includes(ve.UPC_A)||u.includes(ve.EAN_8)||u.includes(ve.UPC_E))&&this.readers.push(new gs(s)),u.includes(ve.CODE_39)&&this.readers.push(new dn(d)),u.includes(ve.CODE_128)&&this.readers.push(new Et),u.includes(ve.ITF)&&this.readers.push(new $t),u.includes(ve.RSS_14)&&this.readers.push(new Bn),u.includes(ve.RSS_EXPANDED)&&this.readers.push(new pt(this.verbose))):(this.readers.push(new gs(s)),this.readers.push(new dn),this.readers.push(new gs(s)),this.readers.push(new Et),this.readers.push(new $t),this.readers.push(new Bn),this.readers.push(new pt(this.verbose)))}decodeRow(s,c,u){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(s,c,u)}catch{}throw new we}reset(){this.readers.forEach(s=>s.reset())}}class vl extends ce{constructor(s=500,c){super(new ii(c),s,c)}}class Fn{constructor(s,c,u){this.ecCodewords=s,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class jn{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tn{constructor(s,c,u,d,g,y){this.versionNumber=s,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=g,this.ecBlocks=y;let A=0;const S=y.getECCodewords(),L=y.getECBlocks();for(let B of L)A+=B.getCount()*(B.getDataCodewords()+S);this.totalCodewords=A}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,c){if((s&1)!==0||(c&1)!==0)throw new X;for(let u of Tn.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===c)return u;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new Tn(1,10,10,8,8,new Fn(5,new jn(1,3))),new Tn(2,12,12,10,10,new Fn(7,new jn(1,5))),new Tn(3,14,14,12,12,new Fn(10,new jn(1,8))),new Tn(4,16,16,14,14,new Fn(12,new jn(1,12))),new Tn(5,18,18,16,16,new Fn(14,new jn(1,18))),new Tn(6,20,20,18,18,new Fn(18,new jn(1,22))),new Tn(7,22,22,20,20,new Fn(20,new jn(1,30))),new Tn(8,24,24,22,22,new Fn(24,new jn(1,36))),new Tn(9,26,26,24,24,new Fn(28,new jn(1,44))),new Tn(10,32,32,14,14,new Fn(36,new jn(1,62))),new Tn(11,36,36,16,16,new Fn(42,new jn(1,86))),new Tn(12,40,40,18,18,new Fn(48,new jn(1,114))),new Tn(13,44,44,20,20,new Fn(56,new jn(1,144))),new Tn(14,48,48,22,22,new Fn(68,new jn(1,174))),new Tn(15,52,52,24,24,new Fn(42,new jn(2,102))),new Tn(16,64,64,14,14,new Fn(56,new jn(2,140))),new Tn(17,72,72,16,16,new Fn(36,new jn(4,92))),new Tn(18,80,80,18,18,new Fn(48,new jn(4,114))),new Tn(19,88,88,20,20,new Fn(56,new jn(4,144))),new Tn(20,96,96,22,22,new Fn(68,new jn(4,174))),new Tn(21,104,104,24,24,new Fn(56,new jn(6,136))),new Tn(22,120,120,18,18,new Fn(68,new jn(6,175))),new Tn(23,132,132,20,20,new Fn(62,new jn(8,163))),new Tn(24,144,144,22,22,new Fn(62,new jn(8,156),new jn(2,155))),new Tn(25,8,18,6,16,new Fn(7,new jn(1,5))),new Tn(26,8,32,6,14,new Fn(11,new jn(1,10))),new Tn(27,12,26,10,24,new Fn(14,new jn(1,16))),new Tn(28,12,36,10,16,new Fn(18,new jn(1,22))),new Tn(29,16,36,14,16,new Fn(24,new jn(1,32))),new Tn(30,16,48,14,22,new Fn(28,new jn(1,49)))]}}Tn.VERSIONS=Tn.buildVersions();class Ws{constructor(s){const c=s.getHeight();if(c<8||c>144||(c&1)!==0)throw new X;this.version=Ws.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new xe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const c=s.getHeight(),u=s.getWidth();return Tn.getVersionForDimensions(c,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,d=0;const g=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let A=!1,S=!1,L=!1,B=!1;do if(u===g&&d===0&&!A)s[c++]=this.readCorner1(g,y)&255,u-=2,d+=2,A=!0;else if(u===g-2&&d===0&&(y&3)!==0&&!S)s[c++]=this.readCorner2(g,y)&255,u-=2,d+=2,S=!0;else if(u===g+4&&d===2&&(y&7)===0&&!L)s[c++]=this.readCorner3(g,y)&255,u-=2,d+=2,L=!0;else if(u===g-2&&d===0&&(y&7)===4&&!B)s[c++]=this.readCorner4(g,y)&255,u-=2,d+=2,B=!0;else{do u<g&&d>=0&&!this.readMappingMatrix.get(d,u)&&(s[c++]=this.readUtah(u,d,g,y)&255),u-=2,d+=2;while(u>=0&&d<y);u+=1,d+=3;do u>=0&&d<y&&!this.readMappingMatrix.get(d,u)&&(s[c++]=this.readUtah(u,d,g,y)&255),u+=2,d-=2;while(u<g&&d>=0);u+=3,d+=1}while(u<g||d<y);if(c!==this.version.getTotalCodewords())throw new X;return s}readModule(s,c,u,d){return s<0&&(s+=u,c+=4-(u+4&7)),c<0&&(c+=d,s+=4-(d+4&7)),this.readMappingMatrix.set(c,s),this.mappingBitMatrix.get(c,s)}readUtah(s,c,u,d){let g=0;return this.readModule(s-2,c-2,u,d)&&(g|=1),g<<=1,this.readModule(s-2,c-1,u,d)&&(g|=1),g<<=1,this.readModule(s-1,c-2,u,d)&&(g|=1),g<<=1,this.readModule(s-1,c-1,u,d)&&(g|=1),g<<=1,this.readModule(s-1,c,u,d)&&(g|=1),g<<=1,this.readModule(s,c-2,u,d)&&(g|=1),g<<=1,this.readModule(s,c-1,u,d)&&(g|=1),g<<=1,this.readModule(s,c,u,d)&&(g|=1),g}readCorner1(s,c){let u=0;return this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,1,s,c)&&(u|=1),u<<=1,this.readModule(s-1,2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(2,c-1,s,c)&&(u|=1),u<<=1,this.readModule(3,c-1,s,c)&&(u|=1),u}readCorner2(s,c){let u=0;return this.readModule(s-3,0,s,c)&&(u|=1),u<<=1,this.readModule(s-2,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(0,c-4,s,c)&&(u|=1),u<<=1,this.readModule(0,c-3,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u}readCorner3(s,c){let u=0;return this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(0,c-3,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-3,s,c)&&(u|=1),u<<=1,this.readModule(1,c-2,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u}readCorner4(s,c){let u=0;return this.readModule(s-3,0,s,c)&&(u|=1),u<<=1,this.readModule(s-2,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(2,c-1,s,c)&&(u|=1),u<<=1,this.readModule(3,c-1,s,c)&&(u|=1),u}extractDataRegion(s){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==c)throw new I("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),y=c/d|0,A=u/g|0,S=y*d,L=A*g,B=new xe(L,S);for(let Q=0;Q<y;++Q){const re=Q*d;for(let me=0;me<A;++me){const Re=me*g;for(let Oe=0;Oe<d;++Oe){const He=Q*(d+2)+1+Oe,rt=re+Oe;for(let vt=0;vt<g;++vt){const At=me*(g+2)+1+vt;if(s.get(At,He)){const _t=Re+vt;B.set(_t,rt)}}}}}return B}}class yr{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c){const u=c.getECBlocks();let d=0;const g=u.getECBlocks();for(let Oe of g)d+=Oe.getCount();const y=new Array(d);let A=0;for(let Oe of g)for(let He=0;He<Oe.getCount();He++){const rt=Oe.getDataCodewords(),vt=u.getECCodewords()+rt;y[A++]=new yr(rt,new Uint8Array(vt))}const L=y[0].codewords.length-u.getECCodewords(),B=L-1;let Q=0;for(let Oe=0;Oe<B;Oe++)for(let He=0;He<A;He++)y[He].codewords[Oe]=s[Q++];const re=c.getVersionNumber()===24,me=re?8:A;for(let Oe=0;Oe<me;Oe++)y[Oe].codewords[L-1]=s[Q++];const Re=y[0].codewords.length;for(let Oe=L;Oe<Re;Oe++)for(let He=0;He<A;He++){const rt=re?(He+8)%A:He,vt=re&&rt>7?Oe-1:Oe;y[rt].codewords[vt]=s[Q++]}if(Q!==s.length)throw new I;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qi{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new I(""+s);let c=0,u=this.bitOffset,d=this.byteOffset;const g=this.bytes;if(u>0){const y=8-u,A=s<y?s:y,S=y-A,L=255>>8-A<<S;c=(g[d]&L)>>S,s-=A,u+=A,u===8&&(u=0,d++)}if(s>0){for(;s>=8;)c=c<<8|g[d]&255,d++,s-=8;if(s>0){const y=8-s,A=255>>y<<y;c=c<<s|(g[d]&A)>>y,u+=s}}return this.bitOffset=u,this.byteOffset=d,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Yn;(function(Z){Z[Z.PAD_ENCODE=0]="PAD_ENCODE",Z[Z.ASCII_ENCODE=1]="ASCII_ENCODE",Z[Z.C40_ENCODE=2]="C40_ENCODE",Z[Z.TEXT_ENCODE=3]="TEXT_ENCODE",Z[Z.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Z[Z.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Z[Z.BASE256_ENCODE=6]="BASE256_ENCODE"})(Yn||(Yn={}));class ys{static decode(s){const c=new qi(s),u=new Y,d=new Y,g=new Array;let y=Yn.ASCII_ENCODE;do if(y===Yn.ASCII_ENCODE)y=this.decodeAsciiSegment(c,u,d);else{switch(y){case Yn.C40_ENCODE:this.decodeC40Segment(c,u);break;case Yn.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case Yn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case Yn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case Yn.BASE256_ENCODE:this.decodeBase256Segment(c,u,g);break;default:throw new X}y=Yn.ASCII_ENCODE}while(y!==Yn.PAD_ENCODE&&c.available()>0);return d.length()>0&&u.append(d.toString()),new Ye(s,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(s,c,u){let d=!1;do{let g=s.readBits(8);if(g===0)throw new X;if(g<=128)return d&&(g+=128),c.append(String.fromCharCode(g-1)),Yn.ASCII_ENCODE;if(g===129)return Yn.PAD_ENCODE;if(g<=229){const y=g-130;y<10&&c.append("0"),c.append(""+y)}else switch(g){case 230:return Yn.C40_ENCODE;case 231:return Yn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return Yn.ANSIX12_ENCODE;case 239:return Yn.TEXT_ENCODE;case 240:return Yn.EDIFACT_ENCODE;case 241:break;default:if(g!==254||s.available()!==0)throw new X;break}}while(s.available()>0);return Yn.ASCII_ENCODE}static decodeC40Segment(s,c){let u=!1;const d=[];let g=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),d);for(let A=0;A<3;A++){const S=d[A];switch(g){case 0:if(S<3)g=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[S];u?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),u=!1):c.append(L)}else throw new X;break;case 1:u?(c.append(String.fromCharCode(S+128)),u=!1):c.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[S];u?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),u=!1):c.append(L)}else switch(S){case 27:c.append("");break;case 30:u=!0;break;default:throw new X}g=0;break;case 3:u?(c.append(String.fromCharCode(S+224)),u=!1):c.append(String.fromCharCode(S+96)),g=0;break;default:throw new X}}}while(s.available()>0)}static decodeTextSegment(s,c){let u=!1,d=[],g=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),d);for(let A=0;A<3;A++){const S=d[A];switch(g){case 0:if(S<3)g=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[S];u?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),u=!1):c.append(L)}else throw new X;break;case 1:u?(c.append(String.fromCharCode(S+128)),u=!1):c.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[S];u?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),u=!1):c.append(L)}else switch(S){case 27:c.append("");break;case 30:u=!0;break;default:throw new X}g=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[S];u?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),u=!1):c.append(L),g=0}else throw new X;break;default:throw new X}}}while(s.available()>0)}static decodeAnsiX12Segment(s,c){const u=[];do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(y){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(y<14)c.append(String.fromCharCode(y+44));else if(y<40)c.append(String.fromCharCode(y+51));else throw new X;break}}}while(s.available()>0)}static parseTwoBytes(s,c,u){let d=(s<<8)+c-1,g=Math.floor(d/1600);u[0]=g,d-=g*1600,g=Math.floor(d/40),u[1]=g,u[2]=d-g*40}static decodeEdifactSegment(s,c){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let d=s.readBits(6);if(d===31){const g=8-s.getBitOffset();g!==8&&s.readBits(g);return}(d&32)===0&&(d|=64),c.append(String.fromCharCode(d))}}while(s.available()>0)}static decodeBase256Segment(s,c,u){let d=1+s.getByteOffset();const g=this.unrandomize255State(s.readBits(8),d++);let y;if(g===0?y=s.available()/8|0:g<250?y=g:y=250*(g-249)+this.unrandomize255State(s.readBits(8),d++),y<0)throw new X;const A=new Uint8Array(y);for(let S=0;S<y;S++){if(s.available()<8)throw new X;A[S]=this.unrandomize255State(s.readBits(8),d++)}u.push(A);try{c.append(V.decode(A,F.ISO88591))}catch(S){throw new st("Platform does not support required encoding: "+S.message)}}static unrandomize255State(s,c){const u=149*c%255+1,d=s-u;return d>=0?d:d+256}}ys.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ys.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ys.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ys.TEXT_SHIFT2_SET_CHARS=ys.C40_SHIFT2_SET_CHARS,ys.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ao{constructor(){this.rsDecoder=new Ae(gt.DATA_MATRIX_FIELD_256)}decode(s){const c=new Ws(s),u=c.getVersion(),d=c.readCodewords(),g=yr.getDataBlocks(d,u);let y=0;for(let L of g)y+=L.getNumDataCodewords();const A=new Uint8Array(y),S=g.length;for(let L=0;L<S;L++){const B=g[L],Q=B.getCodewords(),re=B.getNumDataCodewords();this.correctErrors(Q,re);for(let me=0;me<re;me++)A[me*S+L]=Q[me]}return ys.decode(A)}correctErrors(s,c){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-c)}catch{throw new R}for(let d=0;d<c;d++)s[d]=u[d]}}class _r{constructor(s){this.image=s,this.rectangleDetector=new zt(this.image)}detect(){const s=this.rectangleDetector.detect();let c=this.detectSolid1(s);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new we;c=this.shiftToModuleCenter(c);const u=c[0],d=c[1],g=c[2],y=c[3];let A=this.transitionsBetween(u,y)+1,S=this.transitionsBetween(g,y)+1;(A&1)===1&&(A+=1),(S&1)===1&&(S+=1),4*A<7*S&&4*S<7*A&&(A=S=Math.max(A,S));let L=_r.sampleGrid(this.image,u,d,g,y,A,S);return new kt(L,[u,d,g,y])}static shiftPoint(s,c,u){let d=(c.getX()-s.getX())/(u+1),g=(c.getY()-s.getY())/(u+1);return new at(s.getX()+d,s.getY()+g)}static moveAway(s,c,u){let d=s.getX(),g=s.getY();return d<c?d-=1:d+=1,g<u?g-=1:g+=1,new at(d,g)}detectSolid1(s){let c=s[0],u=s[1],d=s[3],g=s[2],y=this.transitionsBetween(c,u),A=this.transitionsBetween(u,d),S=this.transitionsBetween(d,g),L=this.transitionsBetween(g,c),B=y,Q=[g,c,u,d];return B>A&&(B=A,Q[0]=c,Q[1]=u,Q[2]=d,Q[3]=g),B>S&&(B=S,Q[0]=u,Q[1]=d,Q[2]=g,Q[3]=c),B>L&&(Q[0]=d,Q[1]=g,Q[2]=c,Q[3]=u),Q}detectSolid2(s){let c=s[0],u=s[1],d=s[2],g=s[3],y=this.transitionsBetween(c,g),A=_r.shiftPoint(u,d,(y+1)*4),S=_r.shiftPoint(d,u,(y+1)*4),L=this.transitionsBetween(A,c),B=this.transitionsBetween(S,g);return L<B?(s[0]=c,s[1]=u,s[2]=d,s[3]=g):(s[0]=u,s[1]=d,s[2]=g,s[3]=c),s}correctTopRight(s){let c=s[0],u=s[1],d=s[2],g=s[3],y=this.transitionsBetween(c,g),A=this.transitionsBetween(u,g),S=_r.shiftPoint(c,u,(A+1)*4),L=_r.shiftPoint(d,u,(y+1)*4);y=this.transitionsBetween(S,g),A=this.transitionsBetween(L,g);let B=new at(g.getX()+(d.getX()-u.getX())/(y+1),g.getY()+(d.getY()-u.getY())/(y+1)),Q=new at(g.getX()+(c.getX()-u.getX())/(A+1),g.getY()+(c.getY()-u.getY())/(A+1));if(!this.isValid(B))return this.isValid(Q)?Q:null;if(!this.isValid(Q))return B;let re=this.transitionsBetween(S,B)+this.transitionsBetween(L,B),me=this.transitionsBetween(S,Q)+this.transitionsBetween(L,Q);return re>me?B:Q}shiftToModuleCenter(s){let c=s[0],u=s[1],d=s[2],g=s[3],y=this.transitionsBetween(c,g)+1,A=this.transitionsBetween(d,g)+1,S=_r.shiftPoint(c,u,A*4),L=_r.shiftPoint(d,u,y*4);y=this.transitionsBetween(S,g)+1,A=this.transitionsBetween(L,g)+1,(y&1)===1&&(y+=1),(A&1)===1&&(A+=1);let B=(c.getX()+u.getX()+d.getX()+g.getX())/4,Q=(c.getY()+u.getY()+d.getY()+g.getY())/4;c=_r.moveAway(c,B,Q),u=_r.moveAway(u,B,Q),d=_r.moveAway(d,B,Q),g=_r.moveAway(g,B,Q);let re,me;return S=_r.shiftPoint(c,u,A*4),S=_r.shiftPoint(S,g,y*4),re=_r.shiftPoint(u,c,A*4),re=_r.shiftPoint(re,d,y*4),L=_r.shiftPoint(d,g,A*4),L=_r.shiftPoint(L,u,y*4),me=_r.shiftPoint(g,d,A*4),me=_r.shiftPoint(me,c,y*4),[S,re,L,me]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,c,u,d,g,y,A){return Sn.getInstance().sampleGrid(s,y,A,.5,.5,y-.5,.5,y-.5,A-.5,.5,A-.5,c.getX(),c.getY(),g.getX(),g.getY(),d.getX(),d.getY(),u.getX(),u.getY())}transitionsBetween(s,c){let u=Math.trunc(s.getX()),d=Math.trunc(s.getY()),g=Math.trunc(c.getX()),y=Math.trunc(c.getY()),A=Math.abs(y-d)>Math.abs(g-u);if(A){let Oe=u;u=d,d=Oe,Oe=g,g=y,y=Oe}let S=Math.abs(g-u),L=Math.abs(y-d),B=-S/2,Q=d<y?1:-1,re=u<g?1:-1,me=0,Re=this.image.get(A?d:u,A?u:d);for(let Oe=u,He=d;Oe!==g;Oe+=re){let rt=this.image.get(A?He:Oe,A?Oe:He);if(rt!==Re&&(me++,Re=rt),B+=L,B>0){if(He===y)break;He+=Q,B-=S}}return me}}class si{constructor(){this.decoder=new Ao}decode(s,c=null){let u,d;if(c!=null&&c.has(Ge.PURE_BARCODE)){const L=si.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(L),d=si.NO_POINTS}else{const L=new _r(s.getBlackMatrix()).detect();u=this.decoder.decode(L.getBits()),d=L.getPoints()}const g=u.getRawBytes(),y=new fe(u.getText(),g,8*g.length,d,ve.DATA_MATRIX,q.currentTimeMillis()),A=u.getByteSegments();A!=null&&y.putMetadata(Pe.BYTE_SEGMENTS,A);const S=u.getECLevel();return S!=null&&y.putMetadata(Pe.ERROR_CORRECTION_LEVEL,S),y}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(c==null||u==null)throw new we;const d=this.moduleSize(c,s);let g=c[1];const y=u[1];let A=c[0];const L=(u[0]-A+1)/d,B=(y-g+1)/d;if(L<=0||B<=0)throw new we;const Q=d/2;g+=Q,A+=Q;const re=new xe(L,B);for(let me=0;me<B;me++){const Re=g+me*d;for(let Oe=0;Oe<L;Oe++)s.get(A+Oe*d,Re)&&re.set(Oe,me)}return re}static moduleSize(s,c){const u=c.getWidth();let d=s[0];const g=s[1];for(;d<u&&c.get(d,g);)d++;if(d===u)throw new we;const y=d-s[0];if(y===0)throw new we;return y}}si.NO_POINTS=[];class da extends ce{constructor(s=500){super(new si,s)}}var Lr;(function(Z){Z[Z.L=0]="L",Z[Z.M=1]="M",Z[Z.Q=2]="Q",Z[Z.H=3]="H"})(Lr||(Lr={}));class cn{constructor(s,c,u){this.value=s,this.stringValue=c,this.bits=u,cn.FOR_BITS.set(u,this),cn.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return cn.L;case"M":return cn.M;case"Q":return cn.Q;case"H":return cn.H;default:throw new T(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof cn))return!1;const c=s;return this.value===c.value}static forBits(s){if(s<0||s>=cn.FOR_BITS.size)throw new I;return cn.FOR_BITS.get(s)}}cn.FOR_BITS=new Map,cn.FOR_VALUE=new Map,cn.L=new cn(Lr.L,"L",1),cn.M=new cn(Lr.M,"M",0),cn.Q=new cn(Lr.Q,"Q",3),cn.H=new cn(Lr.H,"H",2);class Mr{constructor(s){this.errorCorrectionLevel=cn.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,c){return le.bitCount(s^c)}static decodeFormatInformation(s,c){const u=Mr.doDecodeFormatInformation(s,c);return u!==null?u:Mr.doDecodeFormatInformation(s^Mr.FORMAT_INFO_MASK_QR,c^Mr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,c){let u=Number.MAX_SAFE_INTEGER,d=0;for(const g of Mr.FORMAT_INFO_DECODE_LOOKUP){const y=g[0];if(y===s||y===c)return new Mr(g[1]);let A=Mr.numBitsDiffering(s,y);A<u&&(d=g[1],u=A),s!==c&&(A=Mr.numBitsDiffering(c,y),A<u&&(d=g[1],u=A))}return u<=3?new Mr(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Mr))return!1;const c=s;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}Mr.FORMAT_INFO_MASK_QR=21522,Mr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Xe{constructor(s,...c){this.ecCodewordsPerBlock=s,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const c=this.ecBlocks;for(const u of c)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ge{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Rt{constructor(s,c,...u){this.versionNumber=s,this.alignmentPatternCenters=c,this.ecBlocks=u;let d=0;const g=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const A of y)d+=A.getCount()*(A.getDataCodewords()+g);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new X;try{return this.getVersionForNumber((s-17)/4)}catch{throw new X}}static getVersionForNumber(s){if(s<1||s>40)throw new I;return Rt.VERSIONS[s-1]}static decodeVersionInformation(s){let c=Number.MAX_SAFE_INTEGER,u=0;for(let d=0;d<Rt.VERSION_DECODE_INFO.length;d++){const g=Rt.VERSION_DECODE_INFO[d];if(g===s)return Rt.getVersionForNumber(d+7);const y=Mr.numBitsDiffering(s,g);y<c&&(u=d+7,c=y)}return c<=3?Rt.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),c=new xe(s);c.setRegion(0,0,9,9),c.setRegion(s-8,0,8,9),c.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let d=0;d<u;d++){const g=this.alignmentPatternCenters[d]-2;for(let y=0;y<u;y++)d===0&&(y===0||y===u-1)||d===u-1&&y===0||c.setRegion(this.alignmentPatternCenters[y]-2,g,5,5)}return c.setRegion(6,9,1,s-17),c.setRegion(9,6,s-17,1),this.versionNumber>6&&(c.setRegion(s-11,0,3,6),c.setRegion(0,s-11,6,3)),c}toString(){return""+this.versionNumber}}Rt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Rt.VERSIONS=[new Rt(1,new Int32Array(0),new Xe(7,new ge(1,19)),new Xe(10,new ge(1,16)),new Xe(13,new ge(1,13)),new Xe(17,new ge(1,9))),new Rt(2,Int32Array.from([6,18]),new Xe(10,new ge(1,34)),new Xe(16,new ge(1,28)),new Xe(22,new ge(1,22)),new Xe(28,new ge(1,16))),new Rt(3,Int32Array.from([6,22]),new Xe(15,new ge(1,55)),new Xe(26,new ge(1,44)),new Xe(18,new ge(2,17)),new Xe(22,new ge(2,13))),new Rt(4,Int32Array.from([6,26]),new Xe(20,new ge(1,80)),new Xe(18,new ge(2,32)),new Xe(26,new ge(2,24)),new Xe(16,new ge(4,9))),new Rt(5,Int32Array.from([6,30]),new Xe(26,new ge(1,108)),new Xe(24,new ge(2,43)),new Xe(18,new ge(2,15),new ge(2,16)),new Xe(22,new ge(2,11),new ge(2,12))),new Rt(6,Int32Array.from([6,34]),new Xe(18,new ge(2,68)),new Xe(16,new ge(4,27)),new Xe(24,new ge(4,19)),new Xe(28,new ge(4,15))),new Rt(7,Int32Array.from([6,22,38]),new Xe(20,new ge(2,78)),new Xe(18,new ge(4,31)),new Xe(18,new ge(2,14),new ge(4,15)),new Xe(26,new ge(4,13),new ge(1,14))),new Rt(8,Int32Array.from([6,24,42]),new Xe(24,new ge(2,97)),new Xe(22,new ge(2,38),new ge(2,39)),new Xe(22,new ge(4,18),new ge(2,19)),new Xe(26,new ge(4,14),new ge(2,15))),new Rt(9,Int32Array.from([6,26,46]),new Xe(30,new ge(2,116)),new Xe(22,new ge(3,36),new ge(2,37)),new Xe(20,new ge(4,16),new ge(4,17)),new Xe(24,new ge(4,12),new ge(4,13))),new Rt(10,Int32Array.from([6,28,50]),new Xe(18,new ge(2,68),new ge(2,69)),new Xe(26,new ge(4,43),new ge(1,44)),new Xe(24,new ge(6,19),new ge(2,20)),new Xe(28,new ge(6,15),new ge(2,16))),new Rt(11,Int32Array.from([6,30,54]),new Xe(20,new ge(4,81)),new Xe(30,new ge(1,50),new ge(4,51)),new Xe(28,new ge(4,22),new ge(4,23)),new Xe(24,new ge(3,12),new ge(8,13))),new Rt(12,Int32Array.from([6,32,58]),new Xe(24,new ge(2,92),new ge(2,93)),new Xe(22,new ge(6,36),new ge(2,37)),new Xe(26,new ge(4,20),new ge(6,21)),new Xe(28,new ge(7,14),new ge(4,15))),new Rt(13,Int32Array.from([6,34,62]),new Xe(26,new ge(4,107)),new Xe(22,new ge(8,37),new ge(1,38)),new Xe(24,new ge(8,20),new ge(4,21)),new Xe(22,new ge(12,11),new ge(4,12))),new Rt(14,Int32Array.from([6,26,46,66]),new Xe(30,new ge(3,115),new ge(1,116)),new Xe(24,new ge(4,40),new ge(5,41)),new Xe(20,new ge(11,16),new ge(5,17)),new Xe(24,new ge(11,12),new ge(5,13))),new Rt(15,Int32Array.from([6,26,48,70]),new Xe(22,new ge(5,87),new ge(1,88)),new Xe(24,new ge(5,41),new ge(5,42)),new Xe(30,new ge(5,24),new ge(7,25)),new Xe(24,new ge(11,12),new ge(7,13))),new Rt(16,Int32Array.from([6,26,50,74]),new Xe(24,new ge(5,98),new ge(1,99)),new Xe(28,new ge(7,45),new ge(3,46)),new Xe(24,new ge(15,19),new ge(2,20)),new Xe(30,new ge(3,15),new ge(13,16))),new Rt(17,Int32Array.from([6,30,54,78]),new Xe(28,new ge(1,107),new ge(5,108)),new Xe(28,new ge(10,46),new ge(1,47)),new Xe(28,new ge(1,22),new ge(15,23)),new Xe(28,new ge(2,14),new ge(17,15))),new Rt(18,Int32Array.from([6,30,56,82]),new Xe(30,new ge(5,120),new ge(1,121)),new Xe(26,new ge(9,43),new ge(4,44)),new Xe(28,new ge(17,22),new ge(1,23)),new Xe(28,new ge(2,14),new ge(19,15))),new Rt(19,Int32Array.from([6,30,58,86]),new Xe(28,new ge(3,113),new ge(4,114)),new Xe(26,new ge(3,44),new ge(11,45)),new Xe(26,new ge(17,21),new ge(4,22)),new Xe(26,new ge(9,13),new ge(16,14))),new Rt(20,Int32Array.from([6,34,62,90]),new Xe(28,new ge(3,107),new ge(5,108)),new Xe(26,new ge(3,41),new ge(13,42)),new Xe(30,new ge(15,24),new ge(5,25)),new Xe(28,new ge(15,15),new ge(10,16))),new Rt(21,Int32Array.from([6,28,50,72,94]),new Xe(28,new ge(4,116),new ge(4,117)),new Xe(26,new ge(17,42)),new Xe(28,new ge(17,22),new ge(6,23)),new Xe(30,new ge(19,16),new ge(6,17))),new Rt(22,Int32Array.from([6,26,50,74,98]),new Xe(28,new ge(2,111),new ge(7,112)),new Xe(28,new ge(17,46)),new Xe(30,new ge(7,24),new ge(16,25)),new Xe(24,new ge(34,13))),new Rt(23,Int32Array.from([6,30,54,78,102]),new Xe(30,new ge(4,121),new ge(5,122)),new Xe(28,new ge(4,47),new ge(14,48)),new Xe(30,new ge(11,24),new ge(14,25)),new Xe(30,new ge(16,15),new ge(14,16))),new Rt(24,Int32Array.from([6,28,54,80,106]),new Xe(30,new ge(6,117),new ge(4,118)),new Xe(28,new ge(6,45),new ge(14,46)),new Xe(30,new ge(11,24),new ge(16,25)),new Xe(30,new ge(30,16),new ge(2,17))),new Rt(25,Int32Array.from([6,32,58,84,110]),new Xe(26,new ge(8,106),new ge(4,107)),new Xe(28,new ge(8,47),new ge(13,48)),new Xe(30,new ge(7,24),new ge(22,25)),new Xe(30,new ge(22,15),new ge(13,16))),new Rt(26,Int32Array.from([6,30,58,86,114]),new Xe(28,new ge(10,114),new ge(2,115)),new Xe(28,new ge(19,46),new ge(4,47)),new Xe(28,new ge(28,22),new ge(6,23)),new Xe(30,new ge(33,16),new ge(4,17))),new Rt(27,Int32Array.from([6,34,62,90,118]),new Xe(30,new ge(8,122),new ge(4,123)),new Xe(28,new ge(22,45),new ge(3,46)),new Xe(30,new ge(8,23),new ge(26,24)),new Xe(30,new ge(12,15),new ge(28,16))),new Rt(28,Int32Array.from([6,26,50,74,98,122]),new Xe(30,new ge(3,117),new ge(10,118)),new Xe(28,new ge(3,45),new ge(23,46)),new Xe(30,new ge(4,24),new ge(31,25)),new Xe(30,new ge(11,15),new ge(31,16))),new Rt(29,Int32Array.from([6,30,54,78,102,126]),new Xe(30,new ge(7,116),new ge(7,117)),new Xe(28,new ge(21,45),new ge(7,46)),new Xe(30,new ge(1,23),new ge(37,24)),new Xe(30,new ge(19,15),new ge(26,16))),new Rt(30,Int32Array.from([6,26,52,78,104,130]),new Xe(30,new ge(5,115),new ge(10,116)),new Xe(28,new ge(19,47),new ge(10,48)),new Xe(30,new ge(15,24),new ge(25,25)),new Xe(30,new ge(23,15),new ge(25,16))),new Rt(31,Int32Array.from([6,30,56,82,108,134]),new Xe(30,new ge(13,115),new ge(3,116)),new Xe(28,new ge(2,46),new ge(29,47)),new Xe(30,new ge(42,24),new ge(1,25)),new Xe(30,new ge(23,15),new ge(28,16))),new Rt(32,Int32Array.from([6,34,60,86,112,138]),new Xe(30,new ge(17,115)),new Xe(28,new ge(10,46),new ge(23,47)),new Xe(30,new ge(10,24),new ge(35,25)),new Xe(30,new ge(19,15),new ge(35,16))),new Rt(33,Int32Array.from([6,30,58,86,114,142]),new Xe(30,new ge(17,115),new ge(1,116)),new Xe(28,new ge(14,46),new ge(21,47)),new Xe(30,new ge(29,24),new ge(19,25)),new Xe(30,new ge(11,15),new ge(46,16))),new Rt(34,Int32Array.from([6,34,62,90,118,146]),new Xe(30,new ge(13,115),new ge(6,116)),new Xe(28,new ge(14,46),new ge(23,47)),new Xe(30,new ge(44,24),new ge(7,25)),new Xe(30,new ge(59,16),new ge(1,17))),new Rt(35,Int32Array.from([6,30,54,78,102,126,150]),new Xe(30,new ge(12,121),new ge(7,122)),new Xe(28,new ge(12,47),new ge(26,48)),new Xe(30,new ge(39,24),new ge(14,25)),new Xe(30,new ge(22,15),new ge(41,16))),new Rt(36,Int32Array.from([6,24,50,76,102,128,154]),new Xe(30,new ge(6,121),new ge(14,122)),new Xe(28,new ge(6,47),new ge(34,48)),new Xe(30,new ge(46,24),new ge(10,25)),new Xe(30,new ge(2,15),new ge(64,16))),new Rt(37,Int32Array.from([6,28,54,80,106,132,158]),new Xe(30,new ge(17,122),new ge(4,123)),new Xe(28,new ge(29,46),new ge(14,47)),new Xe(30,new ge(49,24),new ge(10,25)),new Xe(30,new ge(24,15),new ge(46,16))),new Rt(38,Int32Array.from([6,32,58,84,110,136,162]),new Xe(30,new ge(4,122),new ge(18,123)),new Xe(28,new ge(13,46),new ge(32,47)),new Xe(30,new ge(48,24),new ge(14,25)),new Xe(30,new ge(42,15),new ge(32,16))),new Rt(39,Int32Array.from([6,26,54,82,110,138,166]),new Xe(30,new ge(20,117),new ge(4,118)),new Xe(28,new ge(40,47),new ge(7,48)),new Xe(30,new ge(43,24),new ge(22,25)),new Xe(30,new ge(10,15),new ge(67,16))),new Rt(40,Int32Array.from([6,30,58,86,114,142,170]),new Xe(30,new ge(19,118),new ge(6,119)),new Xe(28,new ge(18,47),new ge(31,48)),new Xe(30,new ge(34,24),new ge(34,25)),new Xe(30,new ge(20,15),new ge(61,16)))];var Dr;(function(Z){Z[Z.DATA_MASK_000=0]="DATA_MASK_000",Z[Z.DATA_MASK_001=1]="DATA_MASK_001",Z[Z.DATA_MASK_010=2]="DATA_MASK_010",Z[Z.DATA_MASK_011=3]="DATA_MASK_011",Z[Z.DATA_MASK_100=4]="DATA_MASK_100",Z[Z.DATA_MASK_101=5]="DATA_MASK_101",Z[Z.DATA_MASK_110=6]="DATA_MASK_110",Z[Z.DATA_MASK_111=7]="DATA_MASK_111"})(Dr||(Dr={}));class gi{constructor(s,c){this.value=s,this.isMasked=c}unmaskBitMatrix(s,c){for(let u=0;u<c;u++)for(let d=0;d<c;d++)this.isMasked(u,d)&&s.flip(d,u)}}gi.values=new Map([[Dr.DATA_MASK_000,new gi(Dr.DATA_MASK_000,(Z,s)=>(Z+s&1)===0)],[Dr.DATA_MASK_001,new gi(Dr.DATA_MASK_001,(Z,s)=>(Z&1)===0)],[Dr.DATA_MASK_010,new gi(Dr.DATA_MASK_010,(Z,s)=>s%3===0)],[Dr.DATA_MASK_011,new gi(Dr.DATA_MASK_011,(Z,s)=>(Z+s)%3===0)],[Dr.DATA_MASK_100,new gi(Dr.DATA_MASK_100,(Z,s)=>(Math.floor(Z/2)+Math.floor(s/3)&1)===0)],[Dr.DATA_MASK_101,new gi(Dr.DATA_MASK_101,(Z,s)=>Z*s%6===0)],[Dr.DATA_MASK_110,new gi(Dr.DATA_MASK_110,(Z,s)=>Z*s%6<3)],[Dr.DATA_MASK_111,new gi(Dr.DATA_MASK_111,(Z,s)=>(Z+s+Z*s%3&1)===0)]]);class es{constructor(s){const c=s.getHeight();if(c<21||(c&3)!==1)throw new X;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let g=0;g<6;g++)s=this.copyBit(g,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let g=5;g>=0;g--)s=this.copyBit(8,g,s);const c=this.bitMatrix.getHeight();let u=0;const d=c-7;for(let g=c-1;g>=d;g--)u=this.copyBit(8,g,u);for(let g=c-8;g<c;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=Mr.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),c=Math.floor((s-17)/4);if(c<=6)return Rt.getVersionForNumber(c);let u=0;const d=s-11;for(let y=5;y>=0;y--)for(let A=s-9;A>=d;A--)u=this.copyBit(A,y,u);let g=Rt.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;u=0;for(let y=5;y>=0;y--)for(let A=s-9;A>=d;A--)u=this.copyBit(y,A,u);if(g=Rt.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;throw new X}copyBit(s,c,u){return(this.isMirror?this.bitMatrix.get(c,s):this.bitMatrix.get(s,c))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),c=this.readVersion(),u=gi.values.get(s.getDataMask()),d=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,d);const g=c.buildFunctionPattern();let y=!0;const A=new Uint8Array(c.getTotalCodewords());let S=0,L=0,B=0;for(let Q=d-1;Q>0;Q-=2){Q===6&&Q--;for(let re=0;re<d;re++){const me=y?d-1-re:re;for(let Re=0;Re<2;Re++)g.get(Q-Re,me)||(B++,L<<=1,this.bitMatrix.get(Q-Re,me)&&(L|=1),B===8&&(A[S++]=L,B=0,L=0))}y=!y}if(S!==c.getTotalCodewords())throw new X;return A}remask(){if(this.parsedFormatInfo===null)return;const s=gi.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let c=0,u=s.getWidth();c<u;c++)for(let d=c+1,g=s.getHeight();d<g;d++)s.get(c,d)!==s.get(d,c)&&(s.flip(d,c),s.flip(c,d))}}class _o{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c,u){if(s.length!==c.getTotalCodewords())throw new I;const d=c.getECBlocksForLevel(u);let g=0;const y=d.getECBlocks();for(const Re of y)g+=Re.getCount();const A=new Array(g);let S=0;for(const Re of y)for(let Oe=0;Oe<Re.getCount();Oe++){const He=Re.getDataCodewords(),rt=d.getECCodewordsPerBlock()+He;A[S++]=new _o(He,new Uint8Array(rt))}const L=A[0].codewords.length;let B=A.length-1;for(;B>=0&&A[B].codewords.length!==L;)B--;B++;const Q=L-d.getECCodewordsPerBlock();let re=0;for(let Re=0;Re<Q;Re++)for(let Oe=0;Oe<S;Oe++)A[Oe].codewords[Re]=s[re++];for(let Re=B;Re<S;Re++)A[Re].codewords[Q]=s[re++];const me=A[0].codewords.length;for(let Re=Q;Re<me;Re++)for(let Oe=0;Oe<S;Oe++){const He=Oe<B?Re:Re+1;A[Oe].codewords[He]=s[re++]}return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Mi;(function(Z){Z[Z.TERMINATOR=0]="TERMINATOR",Z[Z.NUMERIC=1]="NUMERIC",Z[Z.ALPHANUMERIC=2]="ALPHANUMERIC",Z[Z.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Z[Z.BYTE=4]="BYTE",Z[Z.ECI=5]="ECI",Z[Z.KANJI=6]="KANJI",Z[Z.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Z[Z.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Z[Z.HANZI=9]="HANZI"})(Mi||(Mi={}));class tn{constructor(s,c,u,d){this.value=s,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=d,tn.FOR_BITS.set(d,this),tn.FOR_VALUE.set(s,this)}static forBits(s){const c=tn.FOR_BITS.get(s);if(c===void 0)throw new I;return c}getCharacterCountBits(s){const c=s.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof tn))return!1;const c=s;return this.value===c.value}toString(){return this.stringValue}}tn.FOR_BITS=new Map,tn.FOR_VALUE=new Map,tn.TERMINATOR=new tn(Mi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),tn.NUMERIC=new tn(Mi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),tn.ALPHANUMERIC=new tn(Mi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),tn.STRUCTURED_APPEND=new tn(Mi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),tn.BYTE=new tn(Mi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),tn.ECI=new tn(Mi.ECI,"ECI",Int32Array.from([0,0,0]),7),tn.KANJI=new tn(Mi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),tn.FNC1_FIRST_POSITION=new tn(Mi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),tn.FNC1_SECOND_POSITION=new tn(Mi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),tn.HANZI=new tn(Mi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Kn{static decode(s,c,u,d){const g=new qi(s);let y=new Y;const A=new Array;let S=-1,L=-1;try{let B=null,Q=!1,re;do{if(g.available()<4)re=tn.TERMINATOR;else{const me=g.readBits(4);re=tn.forBits(me)}switch(re){case tn.TERMINATOR:break;case tn.FNC1_FIRST_POSITION:case tn.FNC1_SECOND_POSITION:Q=!0;break;case tn.STRUCTURED_APPEND:if(g.available()<16)throw new X;S=g.readBits(8),L=g.readBits(8);break;case tn.ECI:const me=Kn.parseECIValue(g);if(B=j.getCharacterSetECIByValue(me),B===null)throw new X;break;case tn.HANZI:const Re=g.readBits(4),Oe=g.readBits(re.getCharacterCountBits(c));Re===Kn.GB2312_SUBSET&&Kn.decodeHanziSegment(g,y,Oe);break;default:const He=g.readBits(re.getCharacterCountBits(c));switch(re){case tn.NUMERIC:Kn.decodeNumericSegment(g,y,He);break;case tn.ALPHANUMERIC:Kn.decodeAlphanumericSegment(g,y,He,Q);break;case tn.BYTE:Kn.decodeByteSegment(g,y,He,B,A,d);break;case tn.KANJI:Kn.decodeKanjiSegment(g,y,He);break;default:throw new X}break}}while(re!==tn.TERMINATOR)}catch{throw new X}return new Ye(s,y.toString(),A.length===0?null:A,u===null?null:u.toString(),S,L)}static decodeHanziSegment(s,c,u){if(u*13>s.available())throw new X;const d=new Uint8Array(2*u);let g=0;for(;u>0;){const y=s.readBits(13);let A=y/96<<8&4294967295|y%96;A<959?A+=41377:A+=42657,d[g]=A>>8&255,d[g+1]=A&255,g+=2,u--}try{c.append(V.decode(d,F.GB2312))}catch(y){throw new X(y)}}static decodeKanjiSegment(s,c,u){if(u*13>s.available())throw new X;const d=new Uint8Array(2*u);let g=0;for(;u>0;){const y=s.readBits(13);let A=y/192<<8&4294967295|y%192;A<7936?A+=33088:A+=49472,d[g]=A>>8,d[g+1]=A,g+=2,u--}try{c.append(V.decode(d,F.SHIFT_JIS))}catch(y){throw new X(y)}}static decodeByteSegment(s,c,u,d,g,y){if(8*u>s.available())throw new X;const A=new Uint8Array(u);for(let L=0;L<u;L++)A[L]=s.readBits(8);let S;d===null?S=F.guessEncoding(A,y):S=d.getName();try{c.append(V.decode(A,S))}catch(L){throw new X(L)}g.push(A)}static toAlphaNumericChar(s){if(s>=Kn.ALPHANUMERIC_CHARS.length)throw new X;return Kn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,c,u,d){const g=c.length();for(;u>1;){if(s.available()<11)throw new X;const y=s.readBits(11);c.append(Kn.toAlphaNumericChar(Math.floor(y/45))),c.append(Kn.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(s.available()<6)throw new X;c.append(Kn.toAlphaNumericChar(s.readBits(6)))}if(d)for(let y=g;y<c.length();y++)c.charAt(y)==="%"&&(y<c.length()-1&&c.charAt(y+1)==="%"?c.deleteCharAt(y+1):c.setCharAt(y,""))}static decodeNumericSegment(s,c,u){for(;u>=3;){if(s.available()<10)throw new X;const d=s.readBits(10);if(d>=1e3)throw new X;c.append(Kn.toAlphaNumericChar(Math.floor(d/100))),c.append(Kn.toAlphaNumericChar(Math.floor(d/10)%10)),c.append(Kn.toAlphaNumericChar(d%10)),u-=3}if(u===2){if(s.available()<7)throw new X;const d=s.readBits(7);if(d>=100)throw new X;c.append(Kn.toAlphaNumericChar(Math.floor(d/10))),c.append(Kn.toAlphaNumericChar(d%10))}else if(u===1){if(s.available()<4)throw new X;const d=s.readBits(4);if(d>=10)throw new X;c.append(Kn.toAlphaNumericChar(d))}}static parseECIValue(s){const c=s.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=s.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=s.readBits(16);return(c&31)<<16&4294967295|u}throw new X}}Kn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Kn.GB2312_SUBSET=1;class Fa{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const c=s[0];s[0]=s[2],s[2]=c}}class so{constructor(){this.rsDecoder=new Ae(gt.QR_CODE_FIELD_256)}decodeBooleanArray(s,c){return this.decodeBitMatrix(xe.parseFromBooleanArray(s),c)}decodeBitMatrix(s,c){const u=new es(s);let d=null;try{return this.decodeBitMatrixParser(u,c)}catch(g){d=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,c);return g.setOther(new Fa(!0)),g}catch(g){throw d!==null?d:g}}decodeBitMatrixParser(s,c){const u=s.readVersion(),d=s.readFormatInformation().getErrorCorrectionLevel(),g=s.readCodewords(),y=_o.getDataBlocks(g,u,d);let A=0;for(const B of y)A+=B.getNumDataCodewords();const S=new Uint8Array(A);let L=0;for(const B of y){const Q=B.getCodewords(),re=B.getNumDataCodewords();this.correctErrors(Q,re);for(let me=0;me<re;me++)S[L++]=Q[me]}return Kn.decode(S,u,d,c)}correctErrors(s,c){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-c)}catch{throw new R}for(let d=0;d<c;d++)s[d]=u[d]}}class os extends at{constructor(s,c,u){super(s,c),this.estimatedModuleSize=u}aboutEquals(s,c,u){if(Math.abs(c-this.getY())<=s&&Math.abs(u-this.getX())<=s){const d=Math.abs(s-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(s,c,u){const d=(this.getX()+c)/2,g=(this.getY()+s)/2,y=(this.estimatedModuleSize+u)/2;return new os(d,g,y)}}class vr{constructor(s,c,u,d,g,y,A){this.image=s,this.startX=c,this.startY=u,this.width=d,this.height=g,this.moduleSize=y,this.resultPointCallback=A,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,c=this.height,u=this.width,d=s+u,g=this.startY+c/2,y=new Int32Array(3),A=this.image;for(let S=0;S<c;S++){const L=g+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));y[0]=0,y[1]=0,y[2]=0;let B=s;for(;B<d&&!A.get(B,L);)B++;let Q=0;for(;B<d;){if(A.get(B,L))if(Q===1)y[1]++;else if(Q===2){if(this.foundPatternCross(y)){const re=this.handlePossibleCenter(y,L,B);if(re!==null)return re}y[0]=y[2],y[1]=1,y[2]=0,Q=1}else y[++Q]++;else Q===1&&Q++,y[Q]++;B++}if(this.foundPatternCross(y)){const re=this.handlePossibleCenter(y,L,d);if(re!==null)return re}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new we}static centerFromEnd(s,c){return c-s[2]-s[1]/2}foundPatternCross(s){const c=this.moduleSize,u=c/2;for(let d=0;d<3;d++)if(Math.abs(c-s[d])>=u)return!1;return!0}crossCheckVertical(s,c,u,d){const g=this.image,y=g.getHeight(),A=this.crossCheckStateCount;A[0]=0,A[1]=0,A[2]=0;let S=s;for(;S>=0&&g.get(c,S)&&A[1]<=u;)A[1]++,S--;if(S<0||A[1]>u)return NaN;for(;S>=0&&!g.get(c,S)&&A[0]<=u;)A[0]++,S--;if(A[0]>u)return NaN;for(S=s+1;S<y&&g.get(c,S)&&A[1]<=u;)A[1]++,S++;if(S===y||A[1]>u)return NaN;for(;S<y&&!g.get(c,S)&&A[2]<=u;)A[2]++,S++;if(A[2]>u)return NaN;const L=A[0]+A[1]+A[2];return 5*Math.abs(L-d)>=2*d?NaN:this.foundPatternCross(A)?vr.centerFromEnd(A,S):NaN}handlePossibleCenter(s,c,u){const d=s[0]+s[1]+s[2],g=vr.centerFromEnd(s,u),y=this.crossCheckVertical(c,g,2*s[1],d);if(!isNaN(y)){const A=(s[0]+s[1]+s[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(A,y,g))return L.combineEstimate(y,g,A);const S=new os(g,y,A);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class ba extends at{constructor(s,c,u,d){super(s,c),this.estimatedModuleSize=u,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,c,u){if(Math.abs(c-this.getY())<=s&&Math.abs(u-this.getX())<=s){const d=Math.abs(s-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(s,c,u){const d=this.count+1,g=(this.count*this.getX()+c)/d,y=(this.count*this.getY()+s)/d,A=(this.count*this.estimatedModuleSize+u)/d;return new ba(g,y,A,d)}}class Ys{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ut{constructor(s,c){this.image=s,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const c=s!=null&&s.get(Ge.TRY_HARDER)!==void 0,u=s!=null&&s.get(Ge.PURE_BARCODE)!==void 0,d=this.image,g=d.getHeight(),y=d.getWidth();let A=Math.floor(3*g/(4*Ut.MAX_MODULES));(A<Ut.MIN_SKIP||c)&&(A=Ut.MIN_SKIP);let S=!1;const L=new Int32Array(5);for(let Q=A-1;Q<g&&!S;Q+=A){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let re=0;for(let me=0;me<y;me++)if(d.get(me,Q))(re&1)===1&&re++,L[re]++;else if((re&1)===0)if(re===4)if(Ut.foundPatternCross(L)){if(this.handlePossibleCenter(L,Q,me,u)===!0)if(A=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const Oe=this.findRowSkip();Oe>L[2]&&(Q+=Oe-L[2]-A,me=y-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,re=3;continue}re=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,re=3;else L[++re]++;else L[re]++;Ut.foundPatternCross(L)&&this.handlePossibleCenter(L,Q,y,u)===!0&&(A=L[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return at.orderBestPatterns(B),new Ys(B)}static centerFromEnd(s,c){return c-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let c=0;for(let g=0;g<5;g++){const y=s[g];if(y===0)return!1;c+=y}if(c<7)return!1;const u=c/7,d=u/2;return Math.abs(u-s[0])<d&&Math.abs(u-s[1])<d&&Math.abs(3*u-s[2])<3*d&&Math.abs(u-s[3])<d&&Math.abs(u-s[4])<d}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,c,u,d){const g=this.getCrossCheckStateCount();let y=0;const A=this.image;for(;s>=y&&c>=y&&A.get(c-y,s-y);)g[2]++,y++;if(s<y||c<y)return!1;for(;s>=y&&c>=y&&!A.get(c-y,s-y)&&g[1]<=u;)g[1]++,y++;if(s<y||c<y||g[1]>u)return!1;for(;s>=y&&c>=y&&A.get(c-y,s-y)&&g[0]<=u;)g[0]++,y++;if(g[0]>u)return!1;const S=A.getHeight(),L=A.getWidth();for(y=1;s+y<S&&c+y<L&&A.get(c+y,s+y);)g[2]++,y++;if(s+y>=S||c+y>=L)return!1;for(;s+y<S&&c+y<L&&!A.get(c+y,s+y)&&g[3]<u;)g[3]++,y++;if(s+y>=S||c+y>=L||g[3]>=u)return!1;for(;s+y<S&&c+y<L&&A.get(c+y,s+y)&&g[4]<u;)g[4]++,y++;if(g[4]>=u)return!1;const B=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(B-d)<2*d&&Ut.foundPatternCross(g)}crossCheckVertical(s,c,u,d){const g=this.image,y=g.getHeight(),A=this.getCrossCheckStateCount();let S=s;for(;S>=0&&g.get(c,S);)A[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(c,S)&&A[1]<=u;)A[1]++,S--;if(S<0||A[1]>u)return NaN;for(;S>=0&&g.get(c,S)&&A[0]<=u;)A[0]++,S--;if(A[0]>u)return NaN;for(S=s+1;S<y&&g.get(c,S);)A[2]++,S++;if(S===y)return NaN;for(;S<y&&!g.get(c,S)&&A[3]<u;)A[3]++,S++;if(S===y||A[3]>=u)return NaN;for(;S<y&&g.get(c,S)&&A[4]<u;)A[4]++,S++;if(A[4]>=u)return NaN;const L=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(L-d)>=2*d?NaN:Ut.foundPatternCross(A)?Ut.centerFromEnd(A,S):NaN}crossCheckHorizontal(s,c,u,d){const g=this.image,y=g.getWidth(),A=this.getCrossCheckStateCount();let S=s;for(;S>=0&&g.get(S,c);)A[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(S,c)&&A[1]<=u;)A[1]++,S--;if(S<0||A[1]>u)return NaN;for(;S>=0&&g.get(S,c)&&A[0]<=u;)A[0]++,S--;if(A[0]>u)return NaN;for(S=s+1;S<y&&g.get(S,c);)A[2]++,S++;if(S===y)return NaN;for(;S<y&&!g.get(S,c)&&A[3]<u;)A[3]++,S++;if(S===y||A[3]>=u)return NaN;for(;S<y&&g.get(S,c)&&A[4]<u;)A[4]++,S++;if(A[4]>=u)return NaN;const L=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(L-d)>=d?NaN:Ut.foundPatternCross(A)?Ut.centerFromEnd(A,S):NaN}handlePossibleCenter(s,c,u,d){const g=s[0]+s[1]+s[2]+s[3]+s[4];let y=Ut.centerFromEnd(s,u),A=this.crossCheckVertical(c,Math.floor(y),s[2],g);if(!isNaN(A)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(A),s[2],g),!isNaN(y)&&(!d||this.crossCheckDiagonal(Math.floor(A),Math.floor(y),s[2],g)))){const S=g/7;let L=!1;const B=this.possibleCenters;for(let Q=0,re=B.length;Q<re;Q++){const me=B[Q];if(me.aboutEquals(S,A,y)){B[Q]=me.combineEstimate(A,y,S),L=!0;break}}if(!L){const Q=new ba(y,A,S);B.push(Q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=Ut.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,c=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Ut.CENTER_QUORUM&&(s++,c+=y.getEstimatedModuleSize());if(s<3)return!1;const d=c/u;let g=0;for(const y of this.possibleCenters)g+=Math.abs(y.getEstimatedModuleSize()-d);return g<=.05*c}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new we;const c=this.possibleCenters;let u;if(s>3){let d=0,g=0;for(const S of this.possibleCenters){const L=S.getEstimatedModuleSize();d+=L,g+=L*L}u=d/s;let y=Math.sqrt(g/s-u*u);c.sort((S,L)=>{const B=Math.abs(L.getEstimatedModuleSize()-u),Q=Math.abs(S.getEstimatedModuleSize()-u);return B<Q?-1:B>Q?1:0});const A=Math.max(.2*u,y);for(let S=0;S<c.length&&c.length>3;S++){const L=c[S];Math.abs(L.getEstimatedModuleSize()-u)>A&&(c.splice(S,1),S--)}}if(c.length>3){let d=0;for(const g of c)d+=g.getEstimatedModuleSize();u=d/c.length,c.sort((g,y)=>{if(y.getCount()===g.getCount()){const A=Math.abs(y.getEstimatedModuleSize()-u),S=Math.abs(g.getEstimatedModuleSize()-u);return A<S?1:A>S?-1:0}else return y.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Ut.CENTER_QUORUM=2,Ut.MIN_SKIP=3,Ut.MAX_MODULES=57;class ls{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(Ge.NEED_RESULT_POINT_CALLBACK);const u=new Ut(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const c=s.getTopLeft(),u=s.getTopRight(),d=s.getBottomLeft(),g=this.calculateModuleSize(c,u,d);if(g<1)throw new we("No pattern found in proccess finder.");const y=ls.computeDimension(c,u,d,g),A=Rt.getProvisionalVersionForDimension(y),S=A.getDimensionForVersion()-7;let L=null;if(A.getAlignmentPatternCenters().length>0){const me=u.getX()-c.getX()+d.getX(),Re=u.getY()-c.getY()+d.getY(),Oe=1-3/S,He=Math.floor(c.getX()+Oe*(me-c.getX())),rt=Math.floor(c.getY()+Oe*(Re-c.getY()));for(let vt=4;vt<=16;vt<<=1)try{L=this.findAlignmentInRegion(g,He,rt,vt);break}catch(At){if(!(At instanceof we))throw At}}const B=ls.createTransform(c,u,d,L,y),Q=ls.sampleGrid(this.image,B,y);let re;return L===null?re=[d,c,u]:re=[d,c,u,L],new kt(Q,re)}static createTransform(s,c,u,d,g){const y=g-3.5;let A,S,L,B;return d!==null?(A=d.getX(),S=d.getY(),L=y-3,B=L):(A=c.getX()-s.getX()+u.getX(),S=c.getY()-s.getY()+u.getY(),L=y,B=y),Vt.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,L,B,3.5,y,s.getX(),s.getY(),c.getX(),c.getY(),A,S,u.getX(),u.getY())}static sampleGrid(s,c,u){return Sn.getInstance().sampleGridWithTransform(s,u,u,c)}static computeDimension(s,c,u,d){const g=lt.round(at.distance(s,c)/d),y=lt.round(at.distance(s,u)/d);let A=Math.floor((g+y)/2)+7;switch(A&3){case 0:A++;break;case 2:A--;break;case 3:throw new we("Dimensions could be not found.")}return A}calculateModuleSize(s,c,u){return(this.calculateModuleSizeOneWay(s,c)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(c.getX()),Math.floor(c.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?d/7:isNaN(d)?u/7:(u+d)/14}sizeOfBlackWhiteBlackRunBothWays(s,c,u,d){let g=this.sizeOfBlackWhiteBlackRun(s,c,u,d),y=1,A=s-(u-s);A<0?(y=s/(s-A),A=0):A>=this.image.getWidth()&&(y=(this.image.getWidth()-1-s)/(A-s),A=this.image.getWidth()-1);let S=Math.floor(c-(d-c)*y);return y=1,S<0?(y=c/(c-S),S=0):S>=this.image.getHeight()&&(y=(this.image.getHeight()-1-c)/(S-c),S=this.image.getHeight()-1),A=Math.floor(s+(A-s)*y),g+=this.sizeOfBlackWhiteBlackRun(s,c,A,S),g-1}sizeOfBlackWhiteBlackRun(s,c,u,d){const g=Math.abs(d-c)>Math.abs(u-s);if(g){let me=s;s=c,c=me,me=u,u=d,d=me}const y=Math.abs(u-s),A=Math.abs(d-c);let S=-y/2;const L=s<u?1:-1,B=c<d?1:-1;let Q=0;const re=u+L;for(let me=s,Re=c;me!==re;me+=L){const Oe=g?Re:me,He=g?me:Re;if(Q===1===this.image.get(Oe,He)){if(Q===2)return lt.distance(me,Re,s,c);Q++}if(S+=A,S>0){if(Re===d)break;Re+=B,S-=y}}return Q===2?lt.distance(u+L,d,s,c):NaN}findAlignmentInRegion(s,c,u,d){const g=Math.floor(d*s),y=Math.max(0,c-g),A=Math.min(this.image.getWidth()-1,c+g);if(A-y<s*3)throw new we("Alignment top exceeds estimated module size.");const S=Math.max(0,u-g),L=Math.min(this.image.getHeight()-1,u+g);if(L-S<s*3)throw new we("Alignment bottom exceeds estimated module size.");return new vr(this.image,y,S,A-y,L-S,s,this.resultPointCallback).find()}}class vs{constructor(){this.decoder=new so}getDecoder(){return this.decoder}decode(s,c){let u,d;if(c!=null&&c.get(Ge.PURE_BARCODE)!==void 0){const S=vs.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(S,c),d=vs.NO_POINTS}else{const S=new ls(s.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(S.getBits(),c),d=S.getPoints()}u.getOther()instanceof Fa&&u.getOther().applyMirroredCorrection(d);const g=new fe(u.getText(),u.getRawBytes(),void 0,d,ve.QR_CODE,void 0),y=u.getByteSegments();y!==null&&g.putMetadata(Pe.BYTE_SEGMENTS,y);const A=u.getECLevel();return A!==null&&g.putMetadata(Pe.ERROR_CORRECTION_LEVEL,A),u.hasStructuredAppend()&&(g.putMetadata(Pe.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(Pe.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(c===null||u===null)throw new we;const d=this.moduleSize(c,s);let g=c[1],y=u[1],A=c[0],S=u[0];if(A>=S||g>=y)throw new we;if(y-g!==S-A&&(S=A+(y-g),S>=s.getWidth()))throw new we;const L=Math.round((S-A+1)/d),B=Math.round((y-g+1)/d);if(L<=0||B<=0)throw new we;if(B!==L)throw new we;const Q=Math.floor(d/2);g+=Q,A+=Q;const re=A+Math.floor((L-1)*d)-S;if(re>0){if(re>Q)throw new we;A-=re}const me=g+Math.floor((B-1)*d)-y;if(me>0){if(me>Q)throw new we;g-=me}const Re=new xe(L,B);for(let Oe=0;Oe<B;Oe++){const He=g+Math.floor(Oe*d);for(let rt=0;rt<L;rt++)s.get(A+Math.floor(rt*d),He)&&Re.set(rt,Oe)}return Re}static moduleSize(s,c){const u=c.getHeight(),d=c.getWidth();let g=s[0],y=s[1],A=!0,S=0;for(;g<d&&y<u;){if(A!==c.get(g,y)){if(++S===5)break;A=!A}g++,y++}if(g===d||y===u)throw new we;return(g-s[0])/7}}vs.NO_POINTS=new Array;class Xt{PDF417Common(){}static getBitCountSum(s){return lt.sum(s)}static toIntArray(s){if(s==null||!s.length)return Xt.EMPTY_INT_ARRAY;const c=new Int32Array(s.length);let u=0;for(const d of s)c[u++]=d;return c}static getCodeword(s){const c=te.binarySearch(Xt.SYMBOL_TABLE,s&262143);return c<0?-1:(Xt.CODEWORD_TABLE[c]-1)%Xt.NUMBER_OF_CODEWORDS}}Xt.NUMBER_OF_CODEWORDS=929,Xt.MAX_CODEWORDS_IN_BARCODE=Xt.NUMBER_OF_CODEWORDS-1,Xt.MIN_ROWS_IN_BARCODE=3,Xt.MAX_ROWS_IN_BARCODE=90,Xt.MODULES_IN_CODEWORD=17,Xt.MODULES_IN_STOP_PATTERN=18,Xt.BARS_IN_MODULE=8,Xt.EMPTY_INT_ARRAY=new Int32Array([]),Xt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Xt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Aa{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class sn{static detectMultiple(s,c,u){let d=s.getBlackMatrix(),g=sn.detect(u,d);return g.length||(d=d.clone(),d.rotate180(),g=sn.detect(u,d)),new Aa(d,g)}static detect(s,c){const u=new Array;let d=0,g=0,y=!1;for(;d<c.getHeight();){const A=sn.findVertices(c,d,g);if(A[0]==null&&A[3]==null){if(!y)break;y=!1,g=0;for(const S of u)S[1]!=null&&(d=Math.trunc(Math.max(d,S[1].getY()))),S[3]!=null&&(d=Math.max(d,Math.trunc(S[3].getY())));d+=sn.ROW_STEP;continue}if(y=!0,u.push(A),!s)break;A[2]!=null?(g=Math.trunc(A[2].getX()),d=Math.trunc(A[2].getY())):(g=Math.trunc(A[4].getX()),d=Math.trunc(A[4].getY()))}return u}static findVertices(s,c,u){const d=s.getHeight(),g=s.getWidth(),y=new Array(8);return sn.copyToResult(y,sn.findRowsWithPattern(s,d,g,c,u,sn.START_PATTERN),sn.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),c=Math.trunc(y[4].getY())),sn.copyToResult(y,sn.findRowsWithPattern(s,d,g,c,u,sn.STOP_PATTERN),sn.INDEXES_STOP_PATTERN),y}static copyToResult(s,c,u){for(let d=0;d<u.length;d++)s[u[d]]=c[d]}static findRowsWithPattern(s,c,u,d,g,y){const A=new Array(4);let S=!1;const L=new Int32Array(y.length);for(;d<c;d+=sn.ROW_STEP){let Q=sn.findGuardPattern(s,g,d,u,!1,y,L);if(Q!=null){for(;d>0;){const re=sn.findGuardPattern(s,g,--d,u,!1,y,L);if(re!=null)Q=re;else{d++;break}}A[0]=new at(Q[0],d),A[1]=new at(Q[1],d),S=!0;break}}let B=d+1;if(S){let Q=0,re=Int32Array.from([Math.trunc(A[0].getX()),Math.trunc(A[1].getX())]);for(;B<c;B++){const me=sn.findGuardPattern(s,re[0],B,u,!1,y,L);if(me!=null&&Math.abs(re[0]-me[0])<sn.MAX_PATTERN_DRIFT&&Math.abs(re[1]-me[1])<sn.MAX_PATTERN_DRIFT)re=me,Q=0;else{if(Q>sn.SKIPPED_ROW_COUNT_MAX)break;Q++}}B-=Q+1,A[2]=new at(re[0],B),A[3]=new at(re[1],B)}return B-d<sn.BARCODE_MIN_HEIGHT&&te.fill(A,null),A}static findGuardPattern(s,c,u,d,g,y,A){te.fillWithin(A,0,A.length,0);let S=c,L=0;for(;s.get(S,u)&&S>0&&L++<sn.MAX_PIXEL_DRIFT;)S--;let B=S,Q=0,re=y.length;for(let me=g;B<d;B++)if(s.get(B,u)!==me)A[Q]++;else{if(Q===re-1){if(sn.patternMatchVariance(A,y,sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return new Int32Array([S,B]);S+=A[0]+A[1],q.arraycopy(A,2,A,0,Q-1),A[Q-1]=0,A[Q]=0,Q--}else Q++;A[Q]=1,me=!me}return Q===re-1&&sn.patternMatchVariance(A,y,sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE?new Int32Array([S,B-1]):null}static patternMatchVariance(s,c,u){let d=s.length,g=0,y=0;for(let L=0;L<d;L++)g+=s[L],y+=c[L];if(g<y)return 1/0;let A=g/y;u*=A;let S=0;for(let L=0;L<d;L++){let B=s[L],Q=c[L]*A,re=B>Q?B-Q:Q-B;if(re>u)return 1/0;S+=re}return S/g}}sn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),sn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),sn.MAX_AVG_VARIANCE=.42,sn.MAX_INDIVIDUAL_VARIANCE=.8,sn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),sn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),sn.MAX_PIXEL_DRIFT=3,sn.MAX_PATTERN_DRIFT=5,sn.SKIPPED_ROW_COUNT_MAX=25,sn.ROW_STEP=5,sn.BARCODE_MIN_HEIGHT=10;class Cr{constructor(s,c){if(c.length===0)throw new I;this.field=s;let u=c.length;if(u>1&&c[0]===0){let d=1;for(;d<u&&c[d]===0;)d++;d===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-d),q.arraycopy(c,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let d=0;for(let g of this.coefficients)d=this.field.add(d,g);return d}let c=this.coefficients[0],u=this.coefficients.length;for(let d=1;d<u;d++)c=this.field.add(this.field.multiply(s,c),this.coefficients[d]);return c}add(s){if(!this.field.equals(s.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,u=s.coefficients;if(c.length>u.length){let y=c;c=u,u=y}let d=new Int32Array(u.length),g=u.length-c.length;q.arraycopy(u,0,d,0,g);for(let y=g;y<u.length;y++)d[y]=this.field.add(c[y-g],u[y]);return new Cr(this.field,d)}subtract(s){if(!this.field.equals(s.field))throw new I("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Cr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Cr(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,d=s.coefficients,g=d.length,y=new Int32Array(u+g-1);for(let A=0;A<u;A++){let S=c[A];for(let L=0;L<g;L++)y[A+L]=this.field.add(y[A+L],this.field.multiply(S,d[L]))}return new Cr(this.field,y)}negative(){let s=this.coefficients.length,c=new Int32Array(s);for(let u=0;u<s;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new Cr(this.field,c)}multiplyScalar(s){if(s===0)return new Cr(this.field,new Int32Array([0]));if(s===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let d=0;d<c;d++)u[d]=this.field.multiply(this.coefficients[d],s);return new Cr(this.field,u)}multiplyByMonomial(s,c){if(s<0)throw new I;if(c===0)return new Cr(this.field,new Int32Array([0]));let u=this.coefficients.length,d=new Int32Array(u+s);for(let g=0;g<u;g++)d[g]=this.field.multiply(this.coefficients[g],c);return new Cr(this.field,d)}toString(){let s=new Y;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(c===0||u!==1)&&s.append(u),c!==0&&(c===1?s.append("x"):(s.append("x^"),s.append(c))))}return s.toString()}}class ws{add(s,c){return(s+c)%this.modulus}subtract(s,c){return(this.modulus+s-c)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new I;return this.logTable[s]}inverse(s){if(s===0)throw new Lt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Xs extends ws{constructor(s,c){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let d=0;d<s;d++)this.expTable[d]=u,u=u*c%s;for(let d=0;d<s-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new Cr(this,new Int32Array([0])),this.one=new Cr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new I;if(c===0)return this.zero;let u=new Int32Array(s+1);return u[0]=c,new Cr(this,u)}}Xs.PDF417_GF=new Xs(Xt.NUMBER_OF_CODEWORDS,3);class Ks{constructor(){this.field=Xs.PDF417_GF}decode(s,c,u){let d=new Cr(this.field,s),g=new Int32Array(c),y=!1;for(let Re=c;Re>0;Re--){let Oe=d.evaluateAt(this.field.exp(Re));g[c-Re]=Oe,Oe!==0&&(y=!0)}if(!y)return 0;let A=this.field.getOne();if(u!=null)for(const Re of u){let Oe=this.field.exp(s.length-1-Re),He=new Cr(this.field,new Int32Array([this.field.subtract(0,Oe),1]));A=A.multiply(He)}let S=new Cr(this.field,g),L=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),S,c),B=L[0],Q=L[1],re=this.findErrorLocations(B),me=this.findErrorMagnitudes(Q,B,re);for(let Re=0;Re<re.length;Re++){let Oe=s.length-1-this.field.log(re[Re]);if(Oe<0)throw R.getChecksumInstance();s[Oe]=this.field.subtract(s[Oe],me[Re])}return re.length}runEuclideanAlgorithm(s,c,u){if(s.getDegree()<c.getDegree()){let re=s;s=c,c=re}let d=s,g=c,y=this.field.getZero(),A=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let re=d,me=y;if(d=g,y=A,d.isZero())throw R.getChecksumInstance();g=re;let Re=this.field.getZero(),Oe=d.getCoefficient(d.getDegree()),He=this.field.inverse(Oe);for(;g.getDegree()>=d.getDegree()&&!g.isZero();){let rt=g.getDegree()-d.getDegree(),vt=this.field.multiply(g.getCoefficient(g.getDegree()),He);Re=Re.add(this.field.buildMonomial(rt,vt)),g=g.subtract(d.multiplyByMonomial(rt,vt))}A=Re.multiply(y).subtract(me).negative()}let S=A.getCoefficient(0);if(S===0)throw R.getChecksumInstance();let L=this.field.inverse(S),B=A.multiply(L),Q=g.multiply(L);return[B,Q]}findErrorLocations(s){let c=s.getDegree(),u=new Int32Array(c),d=0;for(let g=1;g<this.field.getSize()&&d<c;g++)s.evaluateAt(g)===0&&(u[d]=this.field.inverse(g),d++);if(d!==c)throw R.getChecksumInstance();return u}findErrorMagnitudes(s,c,u){let d=c.getDegree(),g=new Int32Array(d);for(let L=1;L<=d;L++)g[d-L]=this.field.multiply(L,c.getCoefficient(L));let y=new Cr(this.field,g),A=u.length,S=new Int32Array(A);for(let L=0;L<A;L++){let B=this.field.inverse(u[L]),Q=this.field.subtract(0,s.evaluateAt(B)),re=this.field.inverse(y.evaluateAt(B));S[L]=this.field.multiply(Q,re)}return S}}class Ls{constructor(s,c,u,d,g){s instanceof Ls?this.constructor_2(s):this.constructor_1(s,c,u,d,g)}constructor_1(s,c,u,d,g){const y=c==null||u==null,A=d==null||g==null;if(y&&A)throw new we;y?(c=new at(0,d.getY()),u=new at(0,g.getY())):A&&(d=new at(s.getWidth()-1,c.getY()),g=new at(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=c,this.bottomLeft=u,this.topRight=d,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(d.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),d.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,c){return s==null?c:c==null?s:new Ls(s.image,s.topLeft,s.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(s,c,u){let d=this.topLeft,g=this.bottomLeft,y=this.topRight,A=this.bottomRight;if(s>0){let S=u?this.topLeft:this.topRight,L=Math.trunc(S.getY()-s);L<0&&(L=0);let B=new at(S.getX(),L);u?d=B:y=B}if(c>0){let S=u?this.bottomLeft:this.bottomRight,L=Math.trunc(S.getY()+c);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let B=new at(S.getX(),L);u?g=B:A=B}return new Ls(this.image,d,g,y,A)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class xs{constructor(s,c,u,d){this.columnCount=s,this.errorCorrectionLevel=d,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class bi{constructor(){this.buffer=""}static form(s,c){let u=-1;function d(y,A,S,L,B,Q){if(y==="%%")return"%";if(c[++u]===void 0)return;y=L?parseInt(L.substr(1)):void 0;let re=B?parseInt(B.substr(1)):void 0,me;switch(Q){case"s":me=c[u];break;case"c":me=c[u][0];break;case"f":me=parseFloat(c[u]).toFixed(y);break;case"p":me=parseFloat(c[u]).toPrecision(y);break;case"e":me=parseFloat(c[u]).toExponential(y);break;case"x":me=parseInt(c[u]).toString(re||16);break;case"d":me=parseFloat(parseInt(c[u],re||10).toPrecision(y)).toFixed(0);break}me=typeof me=="object"?JSON.stringify(me):(+me).toString(re);let Re=parseInt(S),Oe=S&&S[0]+""=="0"?"0":" ";for(;me.length<Re;)me=A!==void 0?me+Oe:Oe+me;return me}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,d)}format(s,...c){this.buffer+=bi.form(s,c)}toString(){return this.buffer}}class ts{constructor(s){this.boundingBox=new Ls(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let c=this.getCodeword(s);if(c!=null)return c;for(let u=1;u<ts.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(s)-u;if(d>=0&&(c=this.codewords[d],c!=null)||(d=this.imageRowToCodewordIndex(s)+u,d<this.codewords.length&&(c=this.codewords[d],c!=null)))return c}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,c){this.codewords[this.imageRowToCodewordIndex(s)]=c}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new bi;let c=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",c++);continue}s.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return s.toString()}}ts.MAX_NEARBY_DISTANCE=5;class zr{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let c=this.values.get(s);c==null&&(c=0),c++,this.values.set(s,c)}getValue(){let s=-1,c=new Array;for(const[u,d]of this.values.entries()){const g={getKey:()=>u,getValue:()=>d};g.getValue()>s?(s=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===s&&c.push(g.getKey())}return Xt.toIntArray(c)}getConfidence(s){return this.values.get(s)}}class Un extends ts{constructor(s,c){super(s),this._isLeft=c}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,s);let u=this.getBoundingBox(),d=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(d.getY())),A=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=-1,L=1,B=0;for(let Q=y;Q<A;Q++){if(c[Q]==null)continue;let re=c[Q],me=re.getRowNumber()-S;if(me===0)B++;else if(me===1)L=Math.max(L,B),B=1,S=re.getRowNumber();else if(me<0||re.getRowNumber()>=s.getRowCount()||me>Q)c[Q]=null;else{let Re;L>2?Re=(L-2)*me:Re=me;let Oe=Re>=Q;for(let He=1;He<=Re&&!Oe;He++)Oe=c[Q-He]!=null;Oe?c[Q]=null:(S=re.getRowNumber(),B=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let c=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=c.length)continue;c[d]++}return c}adjustIncompleteIndicatorColumnRowNumbers(s){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),d=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(d.getY())),A=this.getCodewords(),S=-1;for(let L=g;L<y;L++){if(A[L]==null)continue;let B=A[L];B.setRowNumberAsRowIndicatorColumn();let Q=B.getRowNumber()-S;Q===0||(Q===1?S=B.getRowNumber():B.getRowNumber()>=s.getRowCount()?A[L]=null:S=B.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),c=new zr,u=new zr,d=new zr,g=new zr;for(let A of s){if(A==null)continue;A.setRowNumberAsRowIndicatorColumn();let S=A.getValue()%30,L=A.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:u.setValue(S*3+1);break;case 1:g.setValue(S/3),d.setValue(S%3);break;case 2:c.setValue(S+1);break}}if(c.getValue().length===0||u.getValue().length===0||d.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+d.getValue()[0]<Xt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+d.getValue()[0]>Xt.MAX_ROWS_IN_BARCODE)return null;let y=new xs(c.getValue()[0],u.getValue()[0],d.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(s,y),y}removeIncorrectCodewords(s,c){for(let u=0;u<s.length;u++){let d=s[u];if(s[u]==null)continue;let g=d.getValue()%30,y=d.getRowNumber();if(y>c.getRowCount()){s[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(s[u]=null);break;case 2:g+1!==c.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bs{constructor(s,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Xt.MAX_CODEWORDS_IN_BARCODE,c;do c=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let d=0;d<u.length;d++)u[d]!=null&&(u[d].hasValidRowNumber()||this.adjustRowNumbers(c,d,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&c[u]!=null&&s[u].getRowNumber()===c[u].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let g=this.detectionResultColumns[d].getCodewords()[u];g!=null&&(g.setRowNumber(s[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let d=c[u].getRowNumber(),g=0;for(let y=this.barcodeColumnCount+1;y>0&&g<this.ADJUST_ROW_NUMBER_SKIP;y--){let A=this.detectionResultColumns[y].getCodewords()[u];A!=null&&(g=bs.adjustRowNumberIfValid(d,g,A),A.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let d=c[u].getRowNumber(),g=0;for(let y=1;y<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;y++){let A=this.detectionResultColumns[y].getCodewords()[u];A!=null&&(g=bs.adjustRowNumberIfValid(d,g,A),A.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),c=0):++c),c}adjustRowNumbers(s,c,u){if(!this.detectionResultColumns[s-1])return;let d=u[c],g=this.detectionResultColumns[s-1].getCodewords(),y=g;this.detectionResultColumns[s+1]!=null&&(y=this.detectionResultColumns[s+1].getCodewords());let A=new Array(14);A[2]=g[c],A[3]=y[c],c>0&&(A[0]=u[c-1],A[4]=g[c-1],A[5]=y[c-1]),c>1&&(A[8]=u[c-2],A[10]=g[c-2],A[11]=y[c-2]),c<u.length-1&&(A[1]=u[c+1],A[6]=g[c+1],A[7]=y[c+1]),c<u.length-2&&(A[9]=u[c+2],A[12]=g[c+2],A[13]=y[c+2]);for(let S of A)if(bs.adjustRowNumber(d,S))return}static adjustRowNumber(s,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===s.getBucket()?(s.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,c){this.detectionResultColumns[s]=c}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new bi;for(let u=0;u<s.getCodewords().length;u++){c.format("CW %3d:",u);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[d].getCodewords()[u];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class ns{constructor(s,c,u,d){this.rowNumber=ns.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==ns.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}ns.BARCODE_ROW_UNKNOWN=-1;class Ai{static initialize(){for(let s=0;s<Xt.SYMBOL_TABLE.length;s++){let c=Xt.SYMBOL_TABLE[s],u=c&1;for(let d=0;d<Xt.BARS_IN_MODULE;d++){let g=0;for(;(c&1)===u;)g+=1,c>>=1;u=c&1,Ai.RATIOS_TABLE[s]||(Ai.RATIOS_TABLE[s]=new Array(Xt.BARS_IN_MODULE)),Ai.RATIOS_TABLE[s][Xt.BARS_IN_MODULE-d-1]=Math.fround(g/Xt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let c=Ai.getDecodedCodewordValue(Ai.sampleBitCounts(s));return c!==-1?c:Ai.getClosestDecodedValue(s)}static sampleBitCounts(s){let c=lt.sum(s),u=new Int32Array(Xt.BARS_IN_MODULE),d=0,g=0;for(let y=0;y<Xt.MODULES_IN_CODEWORD;y++){let A=c/(2*Xt.MODULES_IN_CODEWORD)+y*c/Xt.MODULES_IN_CODEWORD;g+s[d]<=A&&(g+=s[d],d++),u[d]++}return u}static getDecodedCodewordValue(s){let c=Ai.getBitValue(s);return Xt.getCodeword(c)===-1?-1:c}static getBitValue(s){let c=0;for(let u=0;u<s.length;u++)for(let d=0;d<s[u];d++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(s){let c=lt.sum(s),u=new Array(Xt.BARS_IN_MODULE);if(c>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(s[y]/c);let d=Dt.MAX_VALUE,g=-1;this.bSymbolTableReady||Ai.initialize();for(let y=0;y<Ai.RATIOS_TABLE.length;y++){let A=0,S=Ai.RATIOS_TABLE[y];for(let L=0;L<Xt.BARS_IN_MODULE;L++){let B=Math.fround(S[L]-u[L]);if(A+=Math.fround(B*B),A>=d)break}A<d&&(d=A,g=Xt.SYMBOL_TABLE[y])}return g}}Ai.bSymbolTableReady=!1,Ai.RATIOS_TABLE=new Array(Xt.SYMBOL_TABLE.length).map(Z=>new Array(Xt.BARS_IN_MODULE));class _a{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Ea{static parseLong(s,c=void 0){return parseInt(s,c)}}class As extends w{}As.kind="NullPointerException";class rs{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,c,u){if(s==null)throw new As;if(c<0||c>s.length||u<0||c+u>s.length||c+u<0)throw new J;if(u===0)return;for(let d=0;d<u;d++)this.write(s[c+d])}flush(){}close(){}}class _i extends w{}class Wo extends rs{constructor(s=32){if(super(),this.count=0,s<0)throw new I("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new _i;u=le.MAX_VALUE}this.buf=te.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,c,u){if(c<0||c>s.length||u<0||c+u-s.length>0)throw new J;this.ensureCapacity(this.count+u),q.arraycopy(s,c,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Vn;(function(Z){Z[Z.ALPHA=0]="ALPHA",Z[Z.LOWER=1]="LOWER",Z[Z.MIXED=2]="MIXED",Z[Z.PUNCT=3]="PUNCT",Z[Z.ALPHA_SHIFT=4]="ALPHA_SHIFT",Z[Z.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Vn||(Vn={}));function Pi(){if(typeof window<"u")return window.BigInt||null;if(typeof T1<"u")return T1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ds;function ki(Z){if(typeof Ds>"u"&&(Ds=Pi()),Ds===null)throw new Error("BigInt is not supported!");return Ds(Z)}function ao(){let Z=[];Z[0]=ki(1);let s=ki(900);Z[1]=s;for(let c=2;c<16;c++)Z[c]=Z[c-1]*s;return Z}class tt{static decode(s,c){let u=new Y(""),d=j.ISO8859_1;u.enableDecoding(d);let g=1,y=s[g++],A=new _a;for(;g<s[0];){switch(y){case tt.TEXT_COMPACTION_MODE_LATCH:g=tt.textCompaction(s,g,u);break;case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:g=tt.byteCompaction(y,s,d,g,u);break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[g++]);break;case tt.NUMERIC_COMPACTION_MODE_LATCH:g=tt.numericCompaction(s,g,u);break;case tt.ECI_CHARSET:j.getCharacterSetECIByValue(s[g++]);break;case tt.ECI_GENERAL_PURPOSE:g+=2;break;case tt.ECI_USER_DEFINED:g++;break;case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=tt.decodeMacroBlock(s,g,A);break;case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:throw new X;default:g--,g=tt.textCompaction(s,g,u);break}if(g<s.length)y=s[g++];else throw X.getFormatInstance()}if(u.length()===0)throw X.getFormatInstance();let S=new Ye(null,u.toString(),null,c);return S.setOther(A),S}static decodeMacroBlock(s,c,u){if(c+tt.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw X.getFormatInstance();let d=new Int32Array(tt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let A=0;A<tt.NUMBER_OF_SEQUENCE_CODEWORDS;A++,c++)d[A]=s[c];u.setSegmentIndex(le.parseInt(tt.decodeBase900toBase10(d,tt.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Y;c=tt.textCompaction(s,c,g),u.setFileId(g.toString());let y=-1;for(s[c]===tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=c+1);c<s[0];)switch(s[c]){case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,s[c]){case tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let A=new Y;c=tt.textCompaction(s,c+1,A),u.setFileName(A.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Y;c=tt.textCompaction(s,c+1,S),u.setSender(S.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new Y;c=tt.textCompaction(s,c+1,L),u.setAddressee(L.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let B=new Y;c=tt.numericCompaction(s,c+1,B),u.setSegmentCount(le.parseInt(B.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Q=new Y;c=tt.numericCompaction(s,c+1,Q),u.setTimestamp(Ea.parseLong(Q.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let re=new Y;c=tt.numericCompaction(s,c+1,re),u.setChecksum(le.parseInt(re.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let me=new Y;c=tt.numericCompaction(s,c+1,me),u.setFileSize(Ea.parseLong(me.toString()));break;default:throw X.getFormatInstance()}break;case tt.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(y!==-1){let A=c-y;u.isLastSegment()&&A--,u.setOptionalData(te.copyOfRange(s,y,y+A))}return c}static textCompaction(s,c,u){let d=new Int32Array((s[0]-c)*2),g=new Int32Array((s[0]-c)*2),y=0,A=!1;for(;c<s[0]&&!A;){let S=s[c++];if(S<tt.TEXT_COMPACTION_MODE_LATCH)d[y]=S/30,d[y+1]=S%30,y+=2;else switch(S){case tt.TEXT_COMPACTION_MODE_LATCH:d[y++]=tt.TEXT_COMPACTION_MODE_LATCH;break;case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:c--,A=!0;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[y]=tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=s[c++],g[y]=S,y++;break}}return tt.decodeTextCompaction(d,g,y,u),c}static decodeTextCompaction(s,c,u,d){let g=Vn.ALPHA,y=Vn.ALPHA,A=0;for(;A<u;){let S=s[A],L="";switch(g){case Vn.ALPHA:if(S<26)L=String.fromCharCode(65+S);else switch(S){case 26:L=" ";break;case tt.LL:g=Vn.LOWER;break;case tt.ML:g=Vn.MIXED;break;case tt.PS:y=g,g=Vn.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case tt.TEXT_COMPACTION_MODE_LATCH:g=Vn.ALPHA;break}break;case Vn.LOWER:if(S<26)L=String.fromCharCode(97+S);else switch(S){case 26:L=" ";break;case tt.AS:y=g,g=Vn.ALPHA_SHIFT;break;case tt.ML:g=Vn.MIXED;break;case tt.PS:y=g,g=Vn.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case tt.TEXT_COMPACTION_MODE_LATCH:g=Vn.ALPHA;break}break;case Vn.MIXED:if(S<tt.PL)L=tt.MIXED_CHARS[S];else switch(S){case tt.PL:g=Vn.PUNCT;break;case 26:L=" ";break;case tt.LL:g=Vn.LOWER;break;case tt.AL:g=Vn.ALPHA;break;case tt.PS:y=g,g=Vn.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case tt.TEXT_COMPACTION_MODE_LATCH:g=Vn.ALPHA;break}break;case Vn.PUNCT:if(S<tt.PAL)L=tt.PUNCT_CHARS[S];else switch(S){case tt.PAL:g=Vn.ALPHA;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case tt.TEXT_COMPACTION_MODE_LATCH:g=Vn.ALPHA;break}break;case Vn.ALPHA_SHIFT:if(g=y,S<26)L=String.fromCharCode(65+S);else switch(S){case 26:L=" ";break;case tt.TEXT_COMPACTION_MODE_LATCH:g=Vn.ALPHA;break}break;case Vn.PUNCT_SHIFT:if(g=y,S<tt.PAL)L=tt.PUNCT_CHARS[S];else switch(S){case tt.PAL:g=Vn.ALPHA;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case tt.TEXT_COMPACTION_MODE_LATCH:g=Vn.ALPHA;break}break}L!==""&&d.append(L),A++}}static byteCompaction(s,c,u,d,g){let y=new Wo,A=0,S=0,L=!1;switch(s){case tt.BYTE_COMPACTION_MODE_LATCH:let B=new Int32Array(6),Q=c[d++];for(;d<c[0]&&!L;)switch(B[A++]=Q,S=900*S+Q,Q=c[d++],Q){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:d--,L=!0;break;default:if(A%5===0&&A>0){for(let re=0;re<6;++re)y.write(Number(ki(S)>>ki(8*(5-re))));S=0,A=0}break}d===c[0]&&Q<tt.TEXT_COMPACTION_MODE_LATCH&&(B[A++]=Q);for(let re=0;re<A;re++)y.write(B[re]);break;case tt.BYTE_COMPACTION_MODE_LATCH_6:for(;d<c[0]&&!L;){let re=c[d++];if(re<tt.TEXT_COMPACTION_MODE_LATCH)A++,S=900*S+re;else switch(re){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:d--,L=!0;break}if(A%5===0&&A>0){for(let me=0;me<6;++me)y.write(Number(ki(S)>>ki(8*(5-me))));S=0,A=0}}break}return g.append(V.decode(y.toByteArray(),u)),d}static numericCompaction(s,c,u){let d=0,g=!1,y=new Int32Array(tt.MAX_NUMERIC_CODEWORDS);for(;c<s[0]&&!g;){let A=s[c++];if(c===s[0]&&(g=!0),A<tt.TEXT_COMPACTION_MODE_LATCH)y[d]=A,d++;else switch(A){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(d%tt.MAX_NUMERIC_CODEWORDS===0||A===tt.NUMERIC_COMPACTION_MODE_LATCH||g)&&d>0&&(u.append(tt.decodeBase900toBase10(y,d)),d=0)}return c}static decodeBase900toBase10(s,c){let u=ki(0);for(let g=0;g<c;g++)u+=tt.EXP900[c-g-1]*ki(s[g]);let d=u.toString();if(d.charAt(0)!=="1")throw new X;return d.substring(1)}}tt.TEXT_COMPACTION_MODE_LATCH=900,tt.BYTE_COMPACTION_MODE_LATCH=901,tt.NUMERIC_COMPACTION_MODE_LATCH=902,tt.BYTE_COMPACTION_MODE_LATCH_6=924,tt.ECI_USER_DEFINED=925,tt.ECI_GENERAL_PURPOSE=926,tt.ECI_CHARSET=927,tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,tt.MACRO_PDF417_TERMINATOR=922,tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,tt.MAX_NUMERIC_CODEWORDS=15,tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,tt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,tt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,tt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,tt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,tt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,tt.PL=25,tt.LL=27,tt.AS=27,tt.ML=28,tt.AL=28,tt.PS=29,tt.PAL=29,tt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,tt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",tt.EXP900=Pi()?ao():[],tt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class yn{constructor(){}static decode(s,c,u,d,g,y,A){let S=new Ls(s,c,u,d,g),L=null,B=null,Q;for(let Re=!0;;Re=!1){if(c!=null&&(L=yn.getRowIndicatorColumn(s,S,c,!0,y,A)),d!=null&&(B=yn.getRowIndicatorColumn(s,S,d,!1,y,A)),Q=yn.merge(L,B),Q==null)throw we.getNotFoundInstance();let Oe=Q.getBoundingBox();if(Re&&Oe!=null&&(Oe.getMinY()<S.getMinY()||Oe.getMaxY()>S.getMaxY()))S=Oe;else break}Q.setBoundingBox(S);let re=Q.getBarcodeColumnCount()+1;Q.setDetectionResultColumn(0,L),Q.setDetectionResultColumn(re,B);let me=L!=null;for(let Re=1;Re<=re;Re++){let Oe=me?Re:re-Re;if(Q.getDetectionResultColumn(Oe)!==void 0)continue;let He;Oe===0||Oe===re?He=new Un(S,Oe===0):He=new ts(S),Q.setDetectionResultColumn(Oe,He);let rt=-1,vt=rt;for(let At=S.getMinY();At<=S.getMaxY();At++){if(rt=yn.getStartColumn(Q,Oe,At,me),rt<0||rt>S.getMaxX()){if(vt===-1)continue;rt=vt}let _t=yn.detectCodeword(s,S.getMinX(),S.getMaxX(),me,rt,At,y,A);_t!=null&&(He.setCodeword(At,_t),vt=rt,y=Math.min(y,_t.getWidth()),A=Math.max(A,_t.getWidth()))}}return yn.createDecoderResult(Q)}static merge(s,c){if(s==null&&c==null)return null;let u=yn.getBarcodeMetadata(s,c);if(u==null)return null;let d=Ls.merge(yn.adjustBoundingBox(s),yn.adjustBoundingBox(c));return new bs(u,d)}static adjustBoundingBox(s){if(s==null)return null;let c=s.getRowHeights();if(c==null)return null;let u=yn.getMax(c),d=0;for(let A of c)if(d+=u-A,A>0)break;let g=s.getCodewords();for(let A=0;d>0&&g[A]==null;A++)d--;let y=0;for(let A=c.length-1;A>=0&&(y+=u-c[A],!(c[A]>0));A--);for(let A=g.length-1;y>0&&g[A]==null;A--)y--;return s.getBoundingBox().addMissingRows(d,y,s.isLeft())}static getMax(s){let c=-1;for(let u of s)c=Math.max(c,u);return c}static getBarcodeMetadata(s,c){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let d;return c==null||(d=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==d.getColumnCount()&&u.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&u.getRowCount()!==d.getRowCount()?null:u}static getRowIndicatorColumn(s,c,u,d,g,y){let A=new Un(c,d);for(let S=0;S<2;S++){let L=S===0?1:-1,B=Math.trunc(Math.trunc(u.getX()));for(let Q=Math.trunc(Math.trunc(u.getY()));Q<=c.getMaxY()&&Q>=c.getMinY();Q+=L){let re=yn.detectCodeword(s,0,s.getWidth(),d,B,Q,g,y);re!=null&&(A.setCodeword(Q,re),d?B=re.getStartX():B=re.getEndX())}}return A}static adjustCodewordCount(s,c){let u=c[0][1],d=u.getValue(),g=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-yn.getNumberOfECCodeWords(s.getBarcodeECLevel());if(d.length===0){if(g<1||g>Xt.MAX_CODEWORDS_IN_BARCODE)throw we.getNotFoundInstance();u.setValue(g)}else d[0]!==g&&u.setValue(g)}static createDecoderResult(s){let c=yn.createBarcodeMatrix(s);yn.adjustCodewordCount(s,c);let u=new Array,d=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),g=[],y=new Array;for(let S=0;S<s.getBarcodeRowCount();S++)for(let L=0;L<s.getBarcodeColumnCount();L++){let B=c[S][L+1].getValue(),Q=S*s.getBarcodeColumnCount()+L;B.length===0?u.push(Q):B.length===1?d[Q]=B[0]:(y.push(Q),g.push(B))}let A=new Array(g.length);for(let S=0;S<A.length;S++)A[S]=g[S];return yn.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),d,Xt.toIntArray(u),Xt.toIntArray(y),A)}static createDecoderResultFromAmbiguousValues(s,c,u,d,g){let y=new Int32Array(d.length),A=100;for(;A-- >0;){for(let S=0;S<y.length;S++)c[d[S]]=g[S][y[S]];try{return yn.decodeCodewords(c,s,u)}catch(S){if(!(S instanceof R))throw S}if(y.length===0)throw R.getChecksumInstance();for(let S=0;S<y.length;S++)if(y[S]<g[S].length-1){y[S]++;break}else if(y[S]=0,S===y.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(s){let c=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let d=0;d<c.length;d++)for(let g=0;g<c[d].length;g++)c[d][g]=new zr;let u=0;for(let d of s.getDetectionResultColumns()){if(d!=null){for(let g of d.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=0){if(y>=c.length)continue;c[y][u].setValue(g.getValue())}}}u++}return c}static isValidBarcodeColumn(s,c){return c>=0&&c<=s.getBarcodeColumnCount()+1}static getStartColumn(s,c,u,d){let g=d?1:-1,y=null;if(yn.isValidBarcodeColumn(s,c-g)&&(y=s.getDetectionResultColumn(c-g).getCodeword(u)),y!=null)return d?y.getEndX():y.getStartX();if(y=s.getDetectionResultColumn(c).getCodewordNearby(u),y!=null)return d?y.getStartX():y.getEndX();if(yn.isValidBarcodeColumn(s,c-g)&&(y=s.getDetectionResultColumn(c-g).getCodewordNearby(u)),y!=null)return d?y.getEndX():y.getStartX();let A=0;for(;yn.isValidBarcodeColumn(s,c-g);){c-=g;for(let S of s.getDetectionResultColumn(c).getCodewords())if(S!=null)return(d?S.getEndX():S.getStartX())+g*A*(S.getEndX()-S.getStartX());A++}return d?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,c,u,d,g,y,A,S){g=yn.adjustCodewordStartColumn(s,c,u,d,g,y);let L=yn.getModuleBitCount(s,c,u,d,g,y);if(L==null)return null;let B,Q=lt.sum(L);if(d)B=g+Q;else{for(let Re=0;Re<L.length/2;Re++){let Oe=L[Re];L[Re]=L[L.length-1-Re],L[L.length-1-Re]=Oe}B=g,g=B-Q}if(!yn.checkCodewordSkew(Q,A,S))return null;let re=Ai.getDecodedValue(L),me=Xt.getCodeword(re);return me===-1?null:new ns(g,B,yn.getCodewordBucketNumber(re),me)}static getModuleBitCount(s,c,u,d,g,y){let A=g,S=new Int32Array(8),L=0,B=d?1:-1,Q=d;for(;(d?A<u:A>=c)&&L<S.length;)s.get(A,y)===Q?(S[L]++,A+=B):(L++,Q=!Q);return L===S.length||A===(d?u:c)&&L===S.length-1?S:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,c,u,d,g,y){let A=g,S=d?-1:1;for(let L=0;L<2;L++){for(;(d?A>=c:A<u)&&d===s.get(A,y);){if(Math.abs(g-A)>yn.CODEWORD_SKEW_SIZE)return g;A+=S}S=-S,d=!d}return A}static checkCodewordSkew(s,c,u){return c-yn.CODEWORD_SKEW_SIZE<=s&&s<=u+yn.CODEWORD_SKEW_SIZE}static decodeCodewords(s,c,u){if(s.length===0)throw X.getFormatInstance();let d=1<<c+1,g=yn.correctErrors(s,u,d);yn.verifyCodewordCount(s,d);let y=tt.decode(s,""+c);return y.setErrorsCorrected(g),y.setErasures(u.length),y}static correctErrors(s,c,u){if(c!=null&&c.length>u/2+yn.MAX_ERRORS||u<0||u>yn.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return yn.errorCorrection.decode(s,u,c)}static verifyCodewordCount(s,c){if(s.length<4)throw X.getFormatInstance();let u=s[0];if(u>s.length)throw X.getFormatInstance();if(u===0)if(c<s.length)s[0]=s.length-c;else throw X.getFormatInstance()}static getBitCountForCodeword(s){let c=new Int32Array(8),u=0,d=c.length-1;for(;!((s&1)!==u&&(u=s&1,d--,d<0));)c[d]++,s>>=1;return c}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return yn.getCodewordBucketNumber(yn.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let c=new bi;for(let u=0;u<s.length;u++){c.format("Row %2d: ",u);for(let d=0;d<s[u].length;d++){let g=s[u][d];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}yn.CODEWORD_SKEW_SIZE=2,yn.MAX_ERRORS=3,yn.MAX_EC_CODEWORDS=512,yn.errorCorrection=new Ks;class Kr{decode(s,c=null){let u=Kr.decode(s,c,!1);if(u==null||u.length===0||u[0]==null)throw we.getNotFoundInstance();return u[0]}decodeMultiple(s,c=null){try{return Kr.decode(s,c,!0)}catch(u){throw u instanceof X||u instanceof R?we.getNotFoundInstance():u}}static decode(s,c,u){const d=new Array,g=sn.detectMultiple(s,c,u);for(const y of g.getPoints()){const A=yn.decode(g.getBits(),y[4],y[5],y[6],y[7],Kr.getMinCodewordWidth(y),Kr.getMaxCodewordWidth(y)),S=new fe(A.getText(),A.getRawBytes(),void 0,y,ve.PDF_417);S.putMetadata(Pe.ERROR_CORRECTION_LEVEL,A.getECLevel());const L=A.getOther();L!=null&&S.putMetadata(Pe.PDF417_EXTRA_METADATA,L),d.push(S)}return d.map(y=>y)}static getMaxWidth(s,c){return s==null||c==null?0:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMinWidth(s,c){return s==null||c==null?le.MAX_VALUE:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Kr.getMaxWidth(s[0],s[4]),Kr.getMaxWidth(s[6],s[2])*Xt.MODULES_IN_CODEWORD/Xt.MODULES_IN_STOP_PATTERN),Math.max(Kr.getMaxWidth(s[1],s[5]),Kr.getMaxWidth(s[7],s[3])*Xt.MODULES_IN_CODEWORD/Xt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Kr.getMinWidth(s[0],s[4]),Kr.getMinWidth(s[6],s[2])*Xt.MODULES_IN_CODEWORD/Xt.MODULES_IN_STOP_PATTERN),Math.min(Kr.getMinWidth(s[1],s[5]),Kr.getMinWidth(s[7],s[3])*Xt.MODULES_IN_CODEWORD/Xt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qs extends w{}Qs.kind="ReaderException";class ga{constructor(s,c){this.verbose=s===!0,c&&this.setHints(c)}decode(s,c){return c&&this.setHints(c),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const c=!r(s)&&s.get(Ge.TRY_HARDER)===!0,u=r(s)?null:s.get(Ge.POSSIBLE_FORMATS),d=new Array;if(!r(u)){const g=u.some(y=>y===ve.UPC_A||y===ve.UPC_E||y===ve.EAN_13||y===ve.EAN_8||y===ve.CODABAR||y===ve.CODE_39||y===ve.CODE_93||y===ve.CODE_128||y===ve.ITF||y===ve.RSS_14||y===ve.RSS_EXPANDED);g&&!c&&d.push(new ii(s,this.verbose)),u.includes(ve.QR_CODE)&&d.push(new vs),u.includes(ve.DATA_MATRIX)&&d.push(new si),u.includes(ve.AZTEC)&&d.push(new Ft),u.includes(ve.PDF_417)&&d.push(new Kr),g&&c&&d.push(new ii(s,this.verbose))}d.length===0&&(c||d.push(new ii(s,this.verbose)),d.push(new vs),d.push(new si),d.push(new Ft),d.push(new Kr),c&&d.push(new ii(s,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Qs("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(s,this.hints)}catch(u){if(u instanceof Qs)continue}throw new we("No MultiFormat Readers were able to detect the code.")}}class ja extends ce{constructor(s=null,c=500){const u=new ga;u.setHints(s),super(u,c)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class oo extends ce{constructor(s=500){super(new Kr,s)}}class Ua extends ce{constructor(s=500){super(new vs,s)}}var Zs;(function(Z){Z[Z.ERROR_CORRECTION=0]="ERROR_CORRECTION",Z[Z.CHARACTER_SET=1]="CHARACTER_SET",Z[Z.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Z[Z.MIN_SIZE=3]="MIN_SIZE",Z[Z.MAX_SIZE=4]="MAX_SIZE",Z[Z.MARGIN=5]="MARGIN",Z[Z.PDF417_COMPACT=6]="PDF417_COMPACT",Z[Z.PDF417_COMPACTION=7]="PDF417_COMPACTION",Z[Z.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Z[Z.AZTEC_LAYERS=9]="AZTEC_LAYERS",Z[Z.QR_VERSION=10]="QR_VERSION"})(Zs||(Zs={}));var Hr=Zs;class Os{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ut(s,Int32Array.from([1])))}buildGenerator(s){const c=this.cachedGenerators;if(s>=c.length){let u=c[c.length-1];const d=this.field;for(let g=c.length;g<=s;g++){const y=u.multiply(new ut(d,Int32Array.from([1,d.exp(g-1+d.getGeneratorBase())])));c.push(y),u=y}}return c[s]}encode(s,c){if(c===0)throw new I("No error correction bytes");const u=s.length-c;if(u<=0)throw new I("No data bytes provided");const d=this.buildGenerator(c),g=new Int32Array(u);q.arraycopy(s,0,g,0,u);let y=new ut(this.field,g);y=y.multiplyByMonomial(c,1);const S=y.divide(d)[1].getCoefficients(),L=c-S.length;for(let B=0;B<L;B++)s[u+B]=0;q.arraycopy(S,0,s,u+L,S.length)}}class hr{constructor(){}static applyMaskPenaltyRule1(s){return hr.applyMaskPenaltyRule1Internal(s,!0)+hr.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let c=0;const u=s.getArray(),d=s.getWidth(),g=s.getHeight();for(let y=0;y<g-1;y++){const A=u[y];for(let S=0;S<d-1;S++){const L=A[S];L===A[S+1]&&L===u[y+1][S]&&L===u[y+1][S+1]&&c++}}return hr.N2*c}static applyMaskPenaltyRule3(s){let c=0;const u=s.getArray(),d=s.getWidth(),g=s.getHeight();for(let y=0;y<g;y++)for(let A=0;A<d;A++){const S=u[y];A+6<d&&S[A]===1&&S[A+1]===0&&S[A+2]===1&&S[A+3]===1&&S[A+4]===1&&S[A+5]===0&&S[A+6]===1&&(hr.isWhiteHorizontal(S,A-4,A)||hr.isWhiteHorizontal(S,A+7,A+11))&&c++,y+6<g&&u[y][A]===1&&u[y+1][A]===0&&u[y+2][A]===1&&u[y+3][A]===1&&u[y+4][A]===1&&u[y+5][A]===0&&u[y+6][A]===1&&(hr.isWhiteVertical(u,A,y-4,y)||hr.isWhiteVertical(u,A,y+7,y+11))&&c++}return c*hr.N3}static isWhiteHorizontal(s,c,u){c=Math.max(c,0),u=Math.min(u,s.length);for(let d=c;d<u;d++)if(s[d]===1)return!1;return!0}static isWhiteVertical(s,c,u,d){u=Math.max(u,0),d=Math.min(d,s.length);for(let g=u;g<d;g++)if(s[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let c=0;const u=s.getArray(),d=s.getWidth(),g=s.getHeight();for(let S=0;S<g;S++){const L=u[S];for(let B=0;B<d;B++)L[B]===1&&c++}const y=s.getHeight()*s.getWidth();return Math.floor(Math.abs(c*2-y)*10/y)*hr.N4}static getDataMaskBit(s,c,u){let d,g;switch(s){case 0:d=u+c&1;break;case 1:d=u&1;break;case 2:d=c%3;break;case 3:d=(u+c)%3;break;case 4:d=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:g=u*c,d=(g&1)+g%3;break;case 6:g=u*c,d=(g&1)+g%3&1;break;case 7:g=u*c,d=g%3+(u+c&1)&1;break;default:throw new I("Invalid mask pattern: "+s)}return d===0}static applyMaskPenaltyRule1Internal(s,c){let u=0;const d=c?s.getHeight():s.getWidth(),g=c?s.getWidth():s.getHeight(),y=s.getArray();for(let A=0;A<d;A++){let S=0,L=-1;for(let B=0;B<g;B++){const Q=c?y[A][B]:y[B][A];Q===L?S++:(S>=5&&(u+=hr.N1+(S-5)),S=1,L=Q)}S>=5&&(u+=hr.N1+(S-5))}return u}}hr.N1=3,hr.N2=3,hr.N3=40,hr.N4=10;class Js{constructor(s,c){this.width=s,this.height=c;const u=new Array(c);for(let d=0;d!==c;d++)u[d]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,c){return this.bytes[c][s]}getArray(){return this.bytes}setNumber(s,c,u){this.bytes[c][s]=u}setBoolean(s,c,u){this.bytes[c][s]=u?1:0}clear(s){for(const c of this.bytes)te.fill(c,s)}equals(s){if(!(s instanceof Js))return!1;const c=s;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,d=this.height;u<d;++u){const g=this.bytes[u],y=c.bytes[u];for(let A=0,S=this.width;A<S;++A)if(g[A]!==y[A])return!1}return!0}toString(){const s=new Y;for(let c=0,u=this.height;c<u;++c){const d=this.bytes[c];for(let g=0,y=this.width;g<y;++g)switch(d[g]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class ai{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Y;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<ai.NUM_MASK_PATTERNS}}ai.NUM_MASK_PATTERNS=8;class Jn extends w{}Jn.kind="WriterException";class C{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,c,u,d,g){C.clearMatrix(g),C.embedBasicPatterns(u,g),C.embedTypeInfo(c,d,g),C.maybeEmbedVersionInfo(u,g),C.embedDataBits(s,d,g)}static embedBasicPatterns(s,c){C.embedPositionDetectionPatternsAndSeparators(c),C.embedDarkDotAtLeftBottomCorner(c),C.maybeEmbedPositionAdjustmentPatterns(s,c),C.embedTimingPatterns(c)}static embedTypeInfo(s,c,u){const d=new Ce;C.makeTypeInfoBits(s,c,d);for(let g=0,y=d.getSize();g<y;++g){const A=d.get(d.getSize()-1-g),S=C.TYPE_INFO_COORDINATES[g],L=S[0],B=S[1];if(u.setBoolean(L,B,A),g<8){const Q=u.getWidth()-g-1;u.setBoolean(Q,8,A)}else{const re=u.getHeight()-7+(g-8);u.setBoolean(8,re,A)}}}static maybeEmbedVersionInfo(s,c){if(s.getVersionNumber()<7)return;const u=new Ce;C.makeVersionInfoBits(s,u);let d=6*3-1;for(let g=0;g<6;++g)for(let y=0;y<3;++y){const A=u.get(d);d--,c.setBoolean(g,c.getHeight()-11+y,A),c.setBoolean(c.getHeight()-11+y,g,A)}}static embedDataBits(s,c,u){let d=0,g=-1,y=u.getWidth()-1,A=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);A>=0&&A<u.getHeight();){for(let S=0;S<2;++S){const L=y-S;if(!C.isEmpty(u.get(L,A)))continue;let B;d<s.getSize()?(B=s.get(d),++d):B=!1,c!==255&&hr.getDataMaskBit(c,L,A)&&(B=!B),u.setBoolean(L,A,B)}A+=g}g=-g,A+=g,y-=2}if(d!==s.getSize())throw new Jn("Not all bits consumed: "+d+"/"+s.getSize())}static findMSBSet(s){return 32-le.numberOfLeadingZeros(s)}static calculateBCHCode(s,c){if(c===0)throw new I("0 polynomial");const u=C.findMSBSet(c);for(s<<=u-1;C.findMSBSet(s)>=u;)s^=c<<C.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,c,u){if(!ai.isValidMaskPattern(c))throw new Jn("Invalid mask pattern");const d=s.getBits()<<3|c;u.appendBits(d,5);const g=C.calculateBCHCode(d,C.TYPE_INFO_POLY);u.appendBits(g,10);const y=new Ce;if(y.appendBits(C.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new Jn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,c){c.appendBits(s.getVersionNumber(),6);const u=C.calculateBCHCode(s.getVersionNumber(),C.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new Jn("should not happen but we got: "+c.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let c=8;c<s.getWidth()-8;++c){const u=(c+1)%2;C.isEmpty(s.get(c,6))&&s.setNumber(c,6,u),C.isEmpty(s.get(6,c))&&s.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Jn;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,c,u){for(let d=0;d<8;++d){if(!C.isEmpty(u.get(s+d,c)))throw new Jn;u.setNumber(s+d,c,0)}}static embedVerticalSeparationPattern(s,c,u){for(let d=0;d<7;++d){if(!C.isEmpty(u.get(s,c+d)))throw new Jn;u.setNumber(s,c+d,0)}}static embedPositionAdjustmentPattern(s,c,u){for(let d=0;d<5;++d){const g=C.POSITION_ADJUSTMENT_PATTERN[d];for(let y=0;y<5;++y)u.setNumber(s+y,c+d,g[y])}}static embedPositionDetectionPattern(s,c,u){for(let d=0;d<7;++d){const g=C.POSITION_DETECTION_PATTERN[d];for(let y=0;y<7;++y)u.setNumber(s+y,c+d,g[y])}}static embedPositionDetectionPatternsAndSeparators(s){const c=C.POSITION_DETECTION_PATTERN[0].length;C.embedPositionDetectionPattern(0,0,s),C.embedPositionDetectionPattern(s.getWidth()-c,0,s),C.embedPositionDetectionPattern(0,s.getWidth()-c,s);const u=8;C.embedHorizontalSeparationPattern(0,u-1,s),C.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),C.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const d=7;C.embedVerticalSeparationPattern(d,0,s),C.embedVerticalSeparationPattern(s.getHeight()-d-1,0,s),C.embedVerticalSeparationPattern(d,s.getHeight()-d,s)}static maybeEmbedPositionAdjustmentPatterns(s,c){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,d=C.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,y=d.length;g!==y;g++){const A=d[g];if(A>=0)for(let S=0;S!==y;S++){const L=d[S];L>=0&&C.isEmpty(c.get(L,A))&&C.embedPositionAdjustmentPattern(L-2,A-2,c)}}}}C.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),C.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),C.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),C.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),C.VERSION_INFO_POLY=7973,C.TYPE_INFO_POLY=1335,C.TYPE_INFO_MASK_PATTERN=21522;class ee{constructor(s,c){this.dataBytes=s,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class pe{constructor(){}static calculateMaskPenalty(s){return hr.applyMaskPenaltyRule1(s)+hr.applyMaskPenaltyRule2(s)+hr.applyMaskPenaltyRule3(s)+hr.applyMaskPenaltyRule4(s)}static encode(s,c,u=null){let d=pe.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(Hr.CHARACTER_SET)!==void 0;g&&(d=u.get(Hr.CHARACTER_SET).toString());const y=this.chooseMode(s,d),A=new Ce;if(y===tn.BYTE&&(g||pe.DEFAULT_BYTE_MODE_ENCODING!==d)){const At=j.getCharacterSetECIByName(d);At!==void 0&&this.appendECI(At,A)}this.appendModeInfo(y,A);const S=new Ce;this.appendBytes(s,y,S,d);let L;if(u!==null&&u.get(Hr.QR_VERSION)!==void 0){const At=Number.parseInt(u.get(Hr.QR_VERSION).toString(),10);L=Rt.getVersionForNumber(At);const _t=this.calculateBitsNeeded(y,A,S,L);if(!this.willFit(_t,L,c))throw new Jn("Data too big for requested version")}else L=this.recommendVersion(c,y,A,S);const B=new Ce;B.appendBitArray(A);const Q=y===tn.BYTE?S.getSizeInBytes():s.length;this.appendLengthInfo(Q,L,y,B),B.appendBitArray(S);const re=L.getECBlocksForLevel(c),me=L.getTotalCodewords()-re.getTotalECCodewords();this.terminateBits(me,B);const Re=this.interleaveWithECBytes(B,L.getTotalCodewords(),me,re.getNumBlocks()),Oe=new ai;Oe.setECLevel(c),Oe.setMode(y),Oe.setVersion(L);const He=L.getDimensionForVersion(),rt=new Js(He,He),vt=this.chooseMaskPattern(Re,c,L,rt);return Oe.setMaskPattern(vt),C.buildMatrix(Re,c,L,vt,rt),Oe.setMatrix(rt),Oe}static recommendVersion(s,c,u,d){const g=this.calculateBitsNeeded(c,u,d,Rt.getVersionForNumber(1)),y=this.chooseVersion(g,s),A=this.calculateBitsNeeded(c,u,d,y);return this.chooseVersion(A,s)}static calculateBitsNeeded(s,c,u,d){return c.getSize()+s.getCharacterCountBits(d)+u.getSize()}static getAlphanumericCode(s){return s<pe.ALPHANUMERIC_TABLE.length?pe.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,c=null){if(j.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(s))return tn.KANJI;let u=!1,d=!1;for(let g=0,y=s.length;g<y;++g){const A=s.charAt(g);if(pe.isDigit(A))u=!0;else if(this.getAlphanumericCode(A.charCodeAt(0))!==-1)d=!0;else return tn.BYTE}return d?tn.ALPHANUMERIC:u?tn.NUMERIC:tn.BYTE}static isOnlyDoubleByteKanji(s){let c;try{c=V.encode(s,j.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let d=0;d<u;d+=2){const g=c[d]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(s,c,u,d){let g=Number.MAX_SAFE_INTEGER,y=-1;for(let A=0;A<ai.NUM_MASK_PATTERNS;A++){C.buildMatrix(s,c,u,A,d);let S=this.calculateMaskPenalty(d);S<g&&(g=S,y=A)}return y}static chooseVersion(s,c){for(let u=1;u<=40;u++){const d=Rt.getVersionForNumber(u);if(pe.willFit(s,d,c))return d}throw new Jn("Data too big")}static willFit(s,c,u){const d=c.getTotalCodewords(),y=c.getECBlocksForLevel(u).getTotalECCodewords(),A=d-y,S=(s+7)/8;return A>=S}static terminateBits(s,c){const u=s*8;if(c.getSize()>u)throw new Jn("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let y=0;y<4&&c.getSize()<u;++y)c.appendBit(!1);const d=c.getSize()&7;if(d>0)for(let y=d;y<8;y++)c.appendBit(!1);const g=s-c.getSizeInBytes();for(let y=0;y<g;++y)c.appendBits((y&1)===0?236:17,8);if(c.getSize()!==u)throw new Jn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,c,u,d,g,y){if(d>=u)throw new Jn("Block ID too large");const A=s%u,S=u-A,L=Math.floor(s/u),B=L+1,Q=Math.floor(c/u),re=Q+1,me=L-Q,Re=B-re;if(me!==Re)throw new Jn("EC bytes mismatch");if(u!==S+A)throw new Jn("RS blocks mismatch");if(s!==(Q+me)*S+(re+Re)*A)throw new Jn("Total bytes mismatch");d<S?(g[0]=Q,y[0]=me):(g[0]=re,y[0]=Re)}static interleaveWithECBytes(s,c,u,d){if(s.getSizeInBytes()!==u)throw new Jn("Number of bits and data bytes does not match");let g=0,y=0,A=0;const S=new Array;for(let B=0;B<d;++B){const Q=new Int32Array(1),re=new Int32Array(1);pe.getNumDataBytesAndNumECBytesForBlockID(c,u,d,B,Q,re);const me=Q[0],Re=new Uint8Array(me);s.toBytes(8*g,Re,0,me);const Oe=pe.generateECBytes(Re,re[0]);S.push(new ee(Re,Oe)),y=Math.max(y,me),A=Math.max(A,Oe.length),g+=Q[0]}if(u!==g)throw new Jn("Data bytes does not match offset");const L=new Ce;for(let B=0;B<y;++B)for(const Q of S){const re=Q.getDataBytes();B<re.length&&L.appendBits(re[B],8)}for(let B=0;B<A;++B)for(const Q of S){const re=Q.getErrorCorrectionBytes();B<re.length&&L.appendBits(re[B],8)}if(c!==L.getSizeInBytes())throw new Jn("Interleaving error: "+c+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(s,c){const u=s.length,d=new Int32Array(u+c);for(let y=0;y<u;y++)d[y]=s[y]&255;new Os(gt.QR_CODE_FIELD_256).encode(d,c);const g=new Uint8Array(c);for(let y=0;y<c;y++)g[y]=d[u+y];return g}static appendModeInfo(s,c){c.appendBits(s.getBits(),4)}static appendLengthInfo(s,c,u,d){const g=u.getCharacterCountBits(c);if(s>=1<<g)throw new Jn(s+" is bigger than "+((1<<g)-1));d.appendBits(s,g)}static appendBytes(s,c,u,d){switch(c){case tn.NUMERIC:pe.appendNumericBytes(s,u);break;case tn.ALPHANUMERIC:pe.appendAlphanumericBytes(s,u);break;case tn.BYTE:pe.append8BitBytes(s,u,d);break;case tn.KANJI:pe.appendKanjiBytes(s,u);break;default:throw new Jn("Invalid mode: "+c)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const c=pe.getDigit(s);return c>=0&&c<=9}static appendNumericBytes(s,c){const u=s.length;let d=0;for(;d<u;){const g=pe.getDigit(s.charAt(d));if(d+2<u){const y=pe.getDigit(s.charAt(d+1)),A=pe.getDigit(s.charAt(d+2));c.appendBits(g*100+y*10+A,10),d+=3}else if(d+1<u){const y=pe.getDigit(s.charAt(d+1));c.appendBits(g*10+y,7),d+=2}else c.appendBits(g,4),d++}}static appendAlphanumericBytes(s,c){const u=s.length;let d=0;for(;d<u;){const g=pe.getAlphanumericCode(s.charCodeAt(d));if(g===-1)throw new Jn;if(d+1<u){const y=pe.getAlphanumericCode(s.charCodeAt(d+1));if(y===-1)throw new Jn;c.appendBits(g*45+y,11),d+=2}else c.appendBits(g,6),d++}}static append8BitBytes(s,c,u){let d;try{d=V.encode(s,u)}catch(g){throw new Jn(g)}for(let g=0,y=d.length;g!==y;g++){const A=d[g];c.appendBits(A,8)}}static appendKanjiBytes(s,c){let u;try{u=V.encode(s,j.SJIS)}catch(g){throw new Jn(g)}const d=u.length;for(let g=0;g<d;g+=2){const y=u[g]&255,A=u[g+1]&255,S=y<<8&4294967295|A;let L=-1;if(S>=33088&&S<=40956?L=S-33088:S>=57408&&S<=60351&&(L=S-49472),L===-1)throw new Jn("Invalid byte sequence");const B=(L>>8)*192+(L&255);c.appendBits(B,13)}}static appendECI(s,c){c.appendBits(tn.ECI.getBits(),4),c.appendBits(s.getValue(),8)}}pe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),pe.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Ne{write(s,c,u,d=null){if(s.length===0)throw new I("Found empty contents");if(c<0||u<0)throw new I("Requested dimensions are too small: "+c+"x"+u);let g=cn.L,y=Ne.QUIET_ZONE_SIZE;d!==null&&(d.get(Hr.ERROR_CORRECTION)!==void 0&&(g=cn.fromString(d.get(Hr.ERROR_CORRECTION).toString())),d.get(Hr.MARGIN)!==void 0&&(y=Number.parseInt(d.get(Hr.MARGIN).toString(),10)));const A=pe.encode(s,g,d);return this.renderResult(A,c,u,y)}writeToDom(s,c,u,d,g=null){typeof s=="string"&&(s=document.querySelector(s));const y=this.write(c,u,d,g);s&&s.appendChild(y)}renderResult(s,c,u,d){const g=s.getMatrix();if(g===null)throw new st;const y=g.getWidth(),A=g.getHeight(),S=y+d*2,L=A+d*2,B=Math.max(c,S),Q=Math.max(u,L),re=Math.min(Math.floor(B/S),Math.floor(Q/L)),me=Math.floor((B-y*re)/2),Re=Math.floor((Q-A*re)/2),Oe=this.createSVGElement(B,Q);for(let He=0,rt=Re;He<A;He++,rt+=re)for(let vt=0,At=me;vt<y;vt++,At+=re)if(g.get(vt,He)===1){const _t=this.createSvgRectElement(At,rt,re,re);Oe.appendChild(_t)}return Oe}createSVGElement(s,c){const u=document.createElementNS(Ne.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(s,c,u,d){const g=document.createElementNS(Ne.SVG_NS,"rect");return g.setAttributeNS(null,"x",s.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",d.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Ne.QUIET_ZONE_SIZE=4,Ne.SVG_NS="http://www.w3.org/2000/svg";class je{encode(s,c,u,d,g){if(s.length===0)throw new I("Found empty contents");if(c!==ve.QR_CODE)throw new I("Can only encode QR_CODE, but got "+c);if(u<0||d<0)throw new I(`Requested dimensions are too small: ${u}x${d}`);let y=cn.L,A=je.QUIET_ZONE_SIZE;g!==null&&(g.get(Hr.ERROR_CORRECTION)!==void 0&&(y=cn.fromString(g.get(Hr.ERROR_CORRECTION).toString())),g.get(Hr.MARGIN)!==void 0&&(A=Number.parseInt(g.get(Hr.MARGIN).toString(),10)));const S=pe.encode(s,y,g);return je.renderResult(S,u,d,A)}static renderResult(s,c,u,d){const g=s.getMatrix();if(g===null)throw new st;const y=g.getWidth(),A=g.getHeight(),S=y+d*2,L=A+d*2,B=Math.max(c,S),Q=Math.max(u,L),re=Math.min(Math.floor(B/S),Math.floor(Q/L)),me=Math.floor((B-y*re)/2),Re=Math.floor((Q-A*re)/2),Oe=new xe(B,Q);for(let He=0,rt=Re;He<A;He++,rt+=re)for(let vt=0,At=me;vt<y;vt++,At+=re)g.get(vt,He)===1&&Oe.setRegion(At,rt,re,re);return Oe}}je.QUIET_ZONE_SIZE=4;class ot{encode(s,c,u,d,g){let y;switch(c){case ve.QR_CODE:y=new je;break;default:throw new I("No encoder available for format "+c)}return y.encode(s,c,u,d,g)}}class yt extends _e{constructor(s,c,u,d,g,y,A,S){if(super(y,A),this.yuvData=s,this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=g,d+y>c||g+A>u)throw new I("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(y,A)}getRow(s,c){if(s<0||s>=this.getHeight())throw new I("Requested row is outside the image: "+s);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const d=(s+this.top)*this.dataWidth+this.left;return q.arraycopy(this.yuvData,d,c,0,u),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=s*c,d=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return q.arraycopy(this.yuvData,g,d,0,u),d;for(let y=0;y<c;y++){const A=y*s;q.arraycopy(this.yuvData,g,d,A,s),g+=this.dataWidth}return d}isCropSupported(){return!0}crop(s,c,u,d){return new yt(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+c,u,d,!1)}renderThumbnail(){const s=this.getWidth()/yt.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/yt.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*c),d=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let y=0;y<c;y++){const A=y*s;for(let S=0;S<s;S++){const L=d[g+S*yt.THUMBNAIL_SCALE_FACTOR]&255;u[A+S]=4278190080|L*65793}g+=this.dataWidth*yt.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/yt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/yt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,c){const u=this.yuvData;for(let d=0,g=this.top*this.dataWidth+this.left;d<c;d++,g+=this.dataWidth){const y=g+s/2;for(let A=g,S=g+s-1;A<y;A++,S--){const L=u[A];u[A]=u[S],u[S]=L}}}invert(){return new Te(this)}}yt.THUMBNAIL_SCALE_FACTOR=2;class Ot extends _e{constructor(s,c,u,d,g,y,A){if(super(c,u),this.dataWidth=d,this.dataHeight=g,this.left=y,this.top=A,s.BYTES_PER_ELEMENT===4){const S=c*u,L=new Uint8ClampedArray(S);for(let B=0;B<S;B++){const Q=s[B],re=Q>>16&255,me=Q>>7&510,Re=Q&255;L[B]=(re+me+Re)/4&255}this.luminances=L}else this.luminances=s;if(d===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),A===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(s,c){if(s<0||s>=this.getHeight())throw new I("Requested row is outside the image: "+s);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const d=(s+this.top)*this.dataWidth+this.left;return q.arraycopy(this.luminances,d,c,0,u),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=s*c,d=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return q.arraycopy(this.luminances,g,d,0,u),d;for(let y=0;y<c;y++){const A=y*s;q.arraycopy(this.luminances,g,d,A,s),g+=this.dataWidth}return d}isCropSupported(){return!0}crop(s,c,u,d){return new Ot(this.luminances,u,d,this.dataWidth,this.dataHeight,this.left+s,this.top+c)}invert(){return new Te(this)}}class b extends j{static forName(s){return this.getCharacterSetECIByName(s)}}class O{}O.ISO_8859_1=j.ISO8859_1;class U{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class oe{static singletonList(s){return[s]}static min(s,c){return s.sort(c)[0]}}class Ue{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Qe extends Ue{constructor(s,c,u){super(s),this.value=c,this.bitCount=u}appendTo(s,c){s.appendBits(this.value,this.bitCount)}add(s,c){return new Qe(this,s,c)}addBinaryShift(s,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Qe(this,s,c)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+le.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class St extends Qe{constructor(s,c,u){super(s,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(s,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(s,c){return new St(this,s,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function gn(Z,s,c){return new St(Z,s,c)}function Rn(Z,s,c){return new Qe(Z,s,c)}const _n=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],zn=0,fr=1,Qr=2,oi=3,Zr=4,Sa=new Qe(null,0,0),Ta=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Yo(Z){for(let s of Z)te.fill(s,-1);return Z[zn][Zr]=0,Z[fr][Zr]=0,Z[fr][zn]=28,Z[oi][Zr]=0,Z[Qr][Zr]=0,Z[Qr][zn]=15,Z}const lo=Yo(te.createInt32Array(6,6));class Ir{constructor(s,c,u,d){this.token=s,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,c){let u=this.bitCount,d=this.token;if(s!==this.mode){let y=Ta[this.mode][s];d=Rn(d,y&65535,y>>16),u+=y>>16}let g=s===Qr?4:5;return d=Rn(d,c,g),new Ir(d,s,0,u+g)}shiftAndAppend(s,c){let u=this.token,d=this.mode===Qr?4:5;return u=Rn(u,lo[this.mode][s],d),u=Rn(u,c,5),new Ir(u,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(s){let c=this.token,u=this.mode,d=this.bitCount;if(this.mode===Zr||this.mode===Qr){let A=Ta[u][zn];c=Rn(c,A&65535,A>>16),d+=A>>16,u=zn}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Ir(c,u,this.binaryShiftByteCount+1,d+g);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(s+1)),y}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=gn(c,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ir(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let c=this.bitCount+(Ta[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?c+=Ir.calculateBinaryShiftCost(s)-Ir.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(c+=10),c<=s.bitCount}toBitArray(s){let c=[];for(let d=this.endBinaryShift(s.length).token;d!==null;d=d.getPrevious())c.unshift(d);let u=new Ce;for(const d of c)d.appendTo(u,s);return u}toString(){return F.format("%s bits=%d bytes=%d",_n[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ir.INITIAL_STATE=new Ir(Sa,zn,0,0);function co(Z){const s=F.getCharCode(" "),c=F.getCharCode("."),u=F.getCharCode(",");Z[zn][s]=1;const d=F.getCharCode("Z"),g=F.getCharCode("A");for(let re=g;re<=d;re++)Z[zn][re]=re-g+2;Z[fr][s]=1;const y=F.getCharCode("z"),A=F.getCharCode("a");for(let re=A;re<=y;re++)Z[fr][re]=re-A+2;Z[Qr][s]=1;const S=F.getCharCode("9"),L=F.getCharCode("0");for(let re=L;re<=S;re++)Z[Qr][re]=re-L+2;Z[Qr][u]=12,Z[Qr][c]=13;const B=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let re=0;re<B.length;re++)Z[oi][F.getCharCode(B[re])]=re;const Q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let re=0;re<Q.length;re++)F.getCharCode(Q[re])>0&&(Z[Zr][F.getCharCode(Q[re])]=re);return Z}const Va=co(te.createInt32Array(5,256));class pa{constructor(s){this.text=s}encode(){const s=F.getCharCode(" "),c=F.getCharCode(`
`);let u=oe.singletonList(Ir.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let y,A=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case F.getCharCode("\r"):y=A===c?2:0;break;case F.getCharCode("."):y=A===s?3:0;break;case F.getCharCode(","):y=A===s?4:0;break;case F.getCharCode(":"):y=A===s?5:0;break;default:y=0}y>0?(u=pa.updateStateListForPair(u,g,y),g++):u=this.updateStateListForChar(u,g)}return oe.min(u,(g,y)=>g.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,c){const u=[];for(let d of s)this.updateStateForChar(d,c,u);return pa.simplifyStates(u)}updateStateForChar(s,c,u){let d=this.text[c]&255,g=Va[s.getMode()][d]>0,y=null;for(let A=0;A<=Zr;A++){let S=Va[A][d];if(S>0){if(y==null&&(y=s.endBinaryShift(c)),!g||A===s.getMode()||A===Qr){const L=y.latchAndAppend(A,S);u.push(L)}if(!g&&lo[s.getMode()][A]>=0){const L=y.shiftAndAppend(A,S);u.push(L)}}}if(s.getBinaryShiftByteCount()>0||Va[s.getMode()][d]===0){let A=s.addBinaryShiftChar(c);u.push(A)}}static updateStateListForPair(s,c,u){const d=[];for(let g of s)this.updateStateForPair(g,c,u,d);return this.simplifyStates(d)}static updateStateForPair(s,c,u,d){let g=s.endBinaryShift(c);if(d.push(g.latchAndAppend(Zr,u)),s.getMode()!==Zr&&d.push(g.shiftAndAppend(Zr,u)),u===3||u===4){let y=g.latchAndAppend(Qr,16-u).latchAndAppend(Qr,1);d.push(y)}if(s.getBinaryShiftByteCount()>0){let y=s.addBinaryShiftChar(c).addBinaryShiftChar(c+1);d.push(y)}}static simplifyStates(s){let c=[];for(const u of s){let d=!0;for(const g of c){if(g.isBetterThanOrEqualTo(u)){d=!1;break}u.isBetterThanOrEqualTo(g)&&(c=c.filter(y=>y!==g))}d&&c.push(u)}return c}}class kn{constructor(){}static encodeBytes(s){return kn.encode(s,kn.DEFAULT_EC_PERCENT,kn.DEFAULT_AZTEC_LAYERS)}static encode(s,c,u){let d=new pa(s).encode(),g=le.truncDivision(d.getSize()*c,100)+11,y=d.getSize()+g,A,S,L,B,Q;if(u!==kn.DEFAULT_AZTEC_LAYERS){if(A=u<0,S=Math.abs(u),S>(A?kn.MAX_NB_BITS_COMPACT:kn.MAX_NB_BITS))throw new I(F.format("Illegal value %s for layers",u));L=kn.totalBitsInLayer(S,A),B=kn.WORD_SIZE[S];let _t=L-L%B;if(Q=kn.stuffBits(d,B),Q.getSize()+g>_t)throw new I("Data to large for user specified layer");if(A&&Q.getSize()>B*64)throw new I("Data to large for user specified layer")}else{B=0,Q=null;for(let _t=0;;_t++){if(_t>kn.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(A=_t<=3,S=A?_t+1:_t,L=kn.totalBitsInLayer(S,A),y>L)continue;(Q==null||B!==kn.WORD_SIZE[S])&&(B=kn.WORD_SIZE[S],Q=kn.stuffBits(d,B));let Ln=L-L%B;if(!(A&&Q.getSize()>B*64)&&Q.getSize()+g<=Ln)break}}let re=kn.generateCheckWords(Q,L,B),me=Q.getSize()/B,Re=kn.generateModeMessage(A,S,me),Oe=(A?11:14)+S*4,He=new Int32Array(Oe),rt;if(A){rt=Oe;for(let _t=0;_t<He.length;_t++)He[_t]=_t}else{rt=Oe+1+2*le.truncDivision(le.truncDivision(Oe,2)-1,15);let _t=le.truncDivision(Oe,2),Ln=le.truncDivision(rt,2);for(let an=0;an<_t;an++){let pi=an+le.truncDivision(an,15);He[_t-an-1]=Ln-pi-1,He[_t+an]=Ln+pi+1}}let vt=new xe(rt);for(let _t=0,Ln=0;_t<S;_t++){let an=(S-_t)*4+(A?9:12);for(let pi=0;pi<an;pi++){let Bi=pi*2;for(let li=0;li<2;li++)re.get(Ln+Bi+li)&&vt.set(He[_t*2+li],He[_t*2+pi]),re.get(Ln+an*2+Bi+li)&&vt.set(He[_t*2+pi],He[Oe-1-_t*2-li]),re.get(Ln+an*4+Bi+li)&&vt.set(He[Oe-1-_t*2-li],He[Oe-1-_t*2-pi]),re.get(Ln+an*6+Bi+li)&&vt.set(He[Oe-1-_t*2-pi],He[_t*2+li])}Ln+=an*8}if(kn.drawModeMessage(vt,A,rt,Re),A)kn.drawBullsEye(vt,le.truncDivision(rt,2),5);else{kn.drawBullsEye(vt,le.truncDivision(rt,2),7);for(let _t=0,Ln=0;_t<le.truncDivision(Oe,2)-1;_t+=15,Ln+=16)for(let an=le.truncDivision(rt,2)&1;an<rt;an+=2)vt.set(le.truncDivision(rt,2)-Ln,an),vt.set(le.truncDivision(rt,2)+Ln,an),vt.set(an,le.truncDivision(rt,2)-Ln),vt.set(an,le.truncDivision(rt,2)+Ln)}let At=new U;return At.setCompact(A),At.setSize(rt),At.setLayers(S),At.setCodeWords(me),At.setMatrix(vt),At}static drawBullsEye(s,c,u){for(let d=0;d<u;d+=2)for(let g=c-d;g<=c+d;g++)s.set(g,c-d),s.set(g,c+d),s.set(c-d,g),s.set(c+d,g);s.set(c-u,c-u),s.set(c-u+1,c-u),s.set(c-u,c-u+1),s.set(c+u,c-u),s.set(c+u,c-u+1),s.set(c+u,c+u-1)}static generateModeMessage(s,c,u){let d=new Ce;return s?(d.appendBits(c-1,2),d.appendBits(u-1,6),d=kn.generateCheckWords(d,28,4)):(d.appendBits(c-1,5),d.appendBits(u-1,11),d=kn.generateCheckWords(d,40,4)),d}static drawModeMessage(s,c,u,d){let g=le.truncDivision(u,2);if(c)for(let y=0;y<7;y++){let A=g-3+y;d.get(y)&&s.set(A,g-5),d.get(y+7)&&s.set(g+5,A),d.get(20-y)&&s.set(A,g+5),d.get(27-y)&&s.set(g-5,A)}else for(let y=0;y<10;y++){let A=g-5+y+le.truncDivision(y,5);d.get(y)&&s.set(A,g-7),d.get(y+10)&&s.set(g+7,A),d.get(29-y)&&s.set(A,g+7),d.get(39-y)&&s.set(g-7,A)}}static generateCheckWords(s,c,u){let d=s.getSize()/u,g=new Os(kn.getGF(u)),y=le.truncDivision(c,u),A=kn.bitsToWords(s,u,y);g.encode(A,y-d);let S=c%u,L=new Ce;L.appendBits(0,S);for(const B of Array.from(A))L.appendBits(B,u);return L}static bitsToWords(s,c,u){let d=new Int32Array(u),g,y;for(g=0,y=s.getSize()/c;g<y;g++){let A=0;for(let S=0;S<c;S++)A|=s.get(g*c+S)?1<<c-S-1:0;d[g]=A}return d}static getGF(s){switch(s){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new I("Unsupported word size "+s)}}static stuffBits(s,c){let u=new Ce,d=s.getSize(),g=(1<<c)-2;for(let y=0;y<d;y+=c){let A=0;for(let S=0;S<c;S++)(y+S>=d||s.get(y+S))&&(A|=1<<c-1-S);(A&g)===g?(u.appendBits(A&g,c),y--):(A&g)===0?(u.appendBits(A|1,c),y--):u.appendBits(A,c)}return u}static totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}kn.DEFAULT_EC_PERCENT=33,kn.DEFAULT_AZTEC_LAYERS=0,kn.MAX_NB_BITS=32,kn.MAX_NB_BITS_COMPACT=4,kn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Gi{encode(s,c,u,d){return this.encodeWithHints(s,c,u,d,null)}encodeWithHints(s,c,u,d,g){let y=O.ISO_8859_1,A=kn.DEFAULT_EC_PERCENT,S=kn.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Hr.CHARACTER_SET)&&(y=b.forName(g.get(Hr.CHARACTER_SET).toString())),g.has(Hr.ERROR_CORRECTION)&&(A=le.parseInt(g.get(Hr.ERROR_CORRECTION).toString())),g.has(Hr.AZTEC_LAYERS)&&(S=le.parseInt(g.get(Hr.AZTEC_LAYERS).toString()))),Gi.encodeLayers(s,c,u,d,y,A,S)}static encodeLayers(s,c,u,d,g,y,A){if(c!==ve.AZTEC)throw new I("Can only encode AZTEC, but got "+c);let S=kn.encode(F.getBytes(s,g),y,A);return Gi.renderResult(S,u,d)}static renderResult(s,c,u){let d=s.getMatrix();if(d==null)throw new st;let g=d.getWidth(),y=d.getHeight(),A=Math.max(c,g),S=Math.max(u,y),L=Math.min(A/g,S/y),B=(A-g*L)/2,Q=(S-y*L)/2,re=new xe(A,S);for(let me=0,Re=Q;me<y;me++,Re+=L)for(let Oe=0,He=B;Oe<g;Oe++,He+=L)d.get(Oe,me)&&re.setRegion(He,Re,L,L);return re}}t.AbstractExpandedDecoder=ur,t.ArgumentException=T,t.ArithmeticException=Lt,t.AztecCode=U,t.AztecCodeReader=Ft,t.AztecCodeWriter=Gi,t.AztecDecoder=Nt,t.AztecDetector=Cn,t.AztecDetectorResult=Qt,t.AztecEncoder=kn,t.AztecHighLevelEncoder=pa,t.AztecPoint=Ht,t.BarcodeFormat=ve,t.Binarizer=H,t.BinaryBitmap=M,t.BitArray=Ce,t.BitMatrix=xe,t.BitSource=qi,t.BrowserAztecCodeReader=ei,t.BrowserBarcodeReader=vl,t.BrowserCodeReader=ce,t.BrowserDatamatrixCodeReader=da,t.BrowserMultiFormatReader=ja,t.BrowserPDF417Reader=oo,t.BrowserQRCodeReader=Ua,t.BrowserQRCodeSvgWriter=Ne,t.CharacterSetECI=j,t.ChecksumException=R,t.Code128Reader=Et,t.Code39Reader=dn,t.DataMatrixDecodedBitStreamParser=ys,t.DataMatrixReader=si,t.DecodeHintType=Ge,t.DecoderResult=Ye,t.DefaultGridSampler=ln,t.DetectorResult=kt,t.EAN13Reader=ti,t.EncodeHintType=Hr,t.Exception=w,t.FormatException=X,t.GenericGF=gt,t.GenericGFPoly=ut,t.GlobalHistogramBinarizer=Se,t.GridSampler=mn,t.GridSamplerInstance=Sn,t.HTMLCanvasElementLuminanceSource=se,t.HybridBinarizer=Ie,t.ITFReader=$t,t.IllegalArgumentException=I,t.IllegalStateException=st,t.InvertedLuminanceSource=Te,t.LuminanceSource=_e,t.MathUtils=lt,t.MultiFormatOneDReader=ii,t.MultiFormatReader=ga,t.MultiFormatWriter=ot,t.NotFoundException=we,t.OneDReader=en,t.PDF417DecodedBitStreamParser=tt,t.PDF417DecoderErrorCorrection=Ks,t.PDF417Reader=Kr,t.PDF417ResultMetadata=_a,t.PerspectiveTransform=Vt,t.PlanarYUVLuminanceSource=yt,t.QRCodeByteMatrix=Js,t.QRCodeDataMask=gi,t.QRCodeDecodedBitStreamParser=Kn,t.QRCodeDecoderErrorCorrectionLevel=cn,t.QRCodeDecoderFormatInformation=Mr,t.QRCodeEncoder=pe,t.QRCodeEncoderQRCode=ai,t.QRCodeMaskUtil=hr,t.QRCodeMatrixUtil=C,t.QRCodeMode=tn,t.QRCodeReader=vs,t.QRCodeVersion=Rt,t.QRCodeWriter=je,t.RGBLuminanceSource=Ot,t.RSS14Reader=Bn,t.RSSExpandedReader=pt,t.ReaderException=Qs,t.ReedSolomonDecoder=Ae,t.ReedSolomonEncoder=Os,t.ReedSolomonException=Yt,t.Result=fe,t.ResultMetadataType=Pe,t.ResultPoint=at,t.StringUtils=F,t.UnsupportedOperationException=ae,t.VideoInputDevice=Be,t.WhiteRectangleDetector=zt,t.WriterException=Jn,t.ZXingArrays=te,t.ZXingCharset=b,t.ZXingInteger=le,t.ZXingStandardCharsets=O,t.ZXingStringBuilder=Y,t.ZXingStringEncoding=V,t.ZXingSystem=q,t.createAbstractExpandedDecoder=Gs,Object.defineProperty(t,"__esModule",{value:!0})})}($f,$f.exports)),$f.exports}var vi=$7();const eR=Tp(vi),tR=CA({__proto__:null,default:eR},[vi]);var Ow=function(){function n(e,t,r){if(this.formatMap=new Map([[Wt.QR_CODE,vi.BarcodeFormat.QR_CODE],[Wt.AZTEC,vi.BarcodeFormat.AZTEC],[Wt.CODABAR,vi.BarcodeFormat.CODABAR],[Wt.CODE_39,vi.BarcodeFormat.CODE_39],[Wt.CODE_93,vi.BarcodeFormat.CODE_93],[Wt.CODE_128,vi.BarcodeFormat.CODE_128],[Wt.DATA_MATRIX,vi.BarcodeFormat.DATA_MATRIX],[Wt.MAXICODE,vi.BarcodeFormat.MAXICODE],[Wt.ITF,vi.BarcodeFormat.ITF],[Wt.EAN_13,vi.BarcodeFormat.EAN_13],[Wt.EAN_8,vi.BarcodeFormat.EAN_8],[Wt.PDF_417,vi.BarcodeFormat.PDF_417],[Wt.RSS_14,vi.BarcodeFormat.RSS_14],[Wt.RSS_EXPANDED,vi.BarcodeFormat.RSS_EXPANDED],[Wt.UPC_A,vi.BarcodeFormat.UPC_A],[Wt.UPC_E,vi.BarcodeFormat.UPC_E],[Wt.UPC_EAN_EXTENSION,vi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!tR)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var a=this.createZXingFormats(e),l=new Map;l.set(vi.DecodeHintType.POSSIBLE_FORMATS,a),l.set(vi.DecodeHintType.TRY_HARDER,!1),this.hints=l}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,a){try{r(t.decode(e))}catch(l){a(l)}})},n.prototype.decode=function(e){var t=new vi.MultiFormatReader(this.verbose,this.hints),r=new vi.HTMLCanvasElementLuminanceSource(e),a=new vi.BinaryBitmap(new vi.HybridBinarizer(r)),l=t.decode(a);return{text:l.text,format:ob.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,a){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,a=e;r<a.length;r++){var l=a[r];this.formatMap.has(l)?t.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),nR=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},rR=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Mw=function(){function n(e,t,r){if(this.formatMap=new Map([[Wt.QR_CODE,"qr_code"],[Wt.AZTEC,"aztec"],[Wt.CODABAR,"codabar"],[Wt.CODE_39,"code_39"],[Wt.CODE_93,"code_93"],[Wt.CODE_128,"code_128"],[Wt.DATA_MATRIX,"data_matrix"],[Wt.ITF,"itf"],[Wt.EAN_13,"ean_13"],[Wt.EAN_8,"ean_8"],[Wt.PDF_417,"pdf417"],[Wt.UPC_A,"upc_a"],[Wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return nR(this,void 0,void 0,function(){var t,r;return rR(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=a.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:ob.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,a=0,l=e;a<l.length;a++){var f=l[a],p=f.boundingBox.width*f.boundingBox.height;p>r&&(r=p,t=f)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,a=e;r<a.length;r++){var l=a[r];this.formatMap.has(l)?t.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,a){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),Pw=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},kw=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},iR=function(){function n(e,t,r,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&Mw.isSupported()?(this.primaryDecoder=new Mw(e,r,a),this.secondaryDecoder=new Ow(e,r,a)):this.primaryDecoder=new Ow(e,r,a)}return n.prototype.decodeAsync=function(e){return Pw(this,void 0,void 0,function(){var t;return kw(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return Pw(this,void 0,void 0,function(){var t,r;return kw(this,function(a){switch(a.label){case 0:t=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(r=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var a=r[t];e+=a}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),Nm=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E0=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},S0=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},hb=function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n}(),sR=function(n){Nm(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(hb),aR=function(n){Nm(e,n);function e(t){return n.call(this,"zoom",t)||this}return e}(sR),oR=function(n){Nm(e,n);function e(t){return n.call(this,"torch",t)||this}return e}(hb),lR=function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new aR(this.track)},n.prototype.torchFeature=function(){return new oR(this.track)},n}(),cR=function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,a),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,a){return E0(this,void 0,void 0,function(){var l,f;return S0(this,function(p){switch(p.label){case 0:return l=new n(e,t,a),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return E0(this,void 0,void 0,function(){return S0(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var a=e.mediaStream.getVideoTracks(),l=a.length,f=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++f,f>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new lR(this.getFirstTrackOrFail())},n}(),uR=function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return E0(this,void 0,void 0,function(){return S0(this,function(a){return[2,cR.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return E0(this,void 0,void 0,function(){var t,r;return S0(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=a.sent(),[2,new n(r)]}})})},n}(),Bw=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},Fw=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},hR=function(){function n(){}return n.failIfNotSupported=function(){return Bw(this,void 0,void 0,function(){return Fw(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return Bw(this,void 0,void 0,function(){return Fw(this,function(t){return[2,uR.create(e)]})})},n}(),fR=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},dR=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},gR=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=Nh.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=Nh.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return fR(this,void 0,void 0,function(){var e,t,r,a,l,f,p;return dR(this,function(v){switch(v.label){case 0:return e=function(w){for(var T=w.getVideoTracks(),I=0,M=T;I<M.length;I++){var R=M[I];R.enabled=!1,R.stop(),w.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),a=[],l=0,f=r;l<f.length;l++)p=f[l],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return e(t),[2,a]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(l){for(var f=[],p=0,v=l;p<v.length;p++){var w=v[p];w.kind==="video"&&f.push({id:w.id,label:w.label})}e(f)},a=MediaStreamTrack;a.getSources(r)})},n}(),Hi;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Hi||(Hi={}));var pR=function(){function n(){this.state=Hi.NOT_STARTED,this.onGoingTransactionNewState=Hi.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Hi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Hi.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Hi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Hi.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Hi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case Hi.UNKNOWN:throw"Transition from unknown is not allowed";case Hi.NOT_STARTED:this.failIfNewStateIs(e,[Hi.PAUSED]);break;case Hi.SCANNING:break;case Hi.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,a=t;r<a.length;r++){var l=a[r];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n}(),mR=function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Hi.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Hi.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Hi.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Hi.PAUSED},n}(),yR=function(){function n(){}return n.create=function(){return new mR(new pR)},n}(),vR=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eo=function(n){vR(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Uo),wR=function(){function n(e,t){this.logger=t,this.fps=eo.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=eo.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ub.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!sl(this.qrbox)},n.create=function(e,t){return new n(e,t)},n}(),jw=function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new cb(this.verbose),this.qrcode=new iR(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=yR.create()}return n.prototype.start=function(e,t,r,a){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;a?f=a:f=this.verbose?this.logger.log:function(){};var p=wR.create(t,this.logger);this.clearElement();var v=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=v,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:eo.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var I=this,M=this.stateManagerProxy.startTransition(Hi.SCANNING);return new Promise(function(R,H){var q=w?p.videoConstraints:I.createVideoConstraints(e);if(!q){M.cancel(),H("videoConstraints should be defined");return}var J={};(!w||p.aspectRatio)&&(J.aspectRatio=p.aspectRatio);var G={onRenderSurfaceReady:function(te,le){I.setupUi(te,le,p),I.isScanning=!0,I.foreverScan(p,r,f)}};hR.failIfNotSupported().then(function(te){te.create(q).then(function(le){return le.render(l.element,J,G).then(function(Ce){I.renderedCamera=Ce,M.execute(),R(null)}).catch(function(Ce){M.cancel(),H(Ce)})}).catch(function(le){M.cancel(),H(Nh.errorGettingUserMedia(le))})}).catch(function(te){M.cancel(),H(Nh.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Hi.PAUSED),this.showPausedState(),(sl(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Hi.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Hi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var l=document.getElementById(eo.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),r(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),t.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(sl(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var p=f.width,v=f.height,w=document.getElementById(r.elementId),T=w.clientWidth?w.clientWidth:eo.DEFAULT_WIDTH,I=Math.max(w.clientHeight?w.clientHeight:v,eo.FILE_SCAN_MIN_HEIGHT),M=r.computeCanvasDrawConfig(p,v,T,I);if(t){var R=r.createCanvasElement(T,I,"qr-canvas-visible");R.style.display="inline-block",w.appendChild(R);var H=R.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=T,H.canvas.height=I,H.drawImage(f,0,0,p,v,M.x,M.y,M.width,M.height)}var q=eo.FILE_SCAN_HIDDEN_CANVAS_PADDING,J=Math.max(f.width,M.width),G=Math.max(f.height,M.height),te=J+2*q,le=G+2*q,Ce=r.createCanvasElement(te,le);w.appendChild(Ce);var De=Ce.getContext("2d");if(!De)throw"Unable to get 2d context from canvas";De.canvas.width=te,De.canvas.height=le,De.drawImage(f,0,0,p,v,q,q,J,G);try{r.qrcode.decodeRobustlyAsync(Ce).then(function(Ge){a(Rw.createFromQrcodeResult(Ge))}).catch(l)}catch(Ge){l("QR code parse error, error = ".concat(Ge))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return gR.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!ub.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[Wt.QR_CODE,Wt.AZTEC,Wt.CODABAR,Wt.CODE_39,Wt.CODE_93,Wt.CODE_128,Wt.DATA_MATRIX,Wt.MAXICODE,Wt.ITF,Wt.EAN_13,Wt.EAN_8,Wt.PDF_417,Wt.RSS_14,Wt.RSS_EXPANDED,Wt.UPC_A,Wt.UPC_E,Wt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],a=0,l=e.formatsToSupport;a<l.length;a++){var f=l[a];Q7(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(sl(e))return!0;if(!sl(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(sl(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return sl(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var a=this,l=r.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(e,t,l),p=function(w){if(w<eo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(eo.MIN_QR_BOX_SIZE,"px.")},v=function(w){return w>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=e),w};p(f.width),p(f.height),f.width=v(f.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var a=sl(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(e,t,a);l.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&l.height<=t,p={x:0,y:0,width:e,height:t},v=f?this.getShadedRegionBounds(e,t,l):p,w=this.createCanvasElement(v.width,v.height),T={willReadFrequently:!0},I=w.getContext("2d",T);I.canvas.width=v.width,I.canvas.height=v.height,this.element.append(w),f&&this.possiblyInsertShadingElement(this.element,e,t,l),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=I,this.canvasElement=w},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Nh.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,Rw.createFromQrcodeResult(a)),r.possiblyUpdateShaders(!0),!0}).catch(function(a){r.possiblyUpdateShaders(!1);var l=Nh.codeParseError(a);return t(l,lb.createFrom(l)),!1})},n.prototype.foreverScan=function(e,t,r){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*f,w=this.qrRegion.height*p,T=this.qrRegion.x*f,I=this.qrRegion.y*p;this.context.drawImage(l,T,I,v,w,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,t,r)},a.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(R){!R&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(t,r).finally(function(){M()})):M()}).catch(function(R){a.logger.logError("Error happend while scanning context",R),M()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",a={user:!0,environment:!0},l="exact",f=function(H){if(H in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var v=Object.keys(e)[0];if(v!==t&&v!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===t){var w=e.facingMode;if(typeof w=="string"){if(f(w))return{facingMode:w}}else if(typeof w=="object")if(l in w){if(f(w["".concat(l)]))return{facingMode:{exact:w["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var T=typeof w;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var I=e.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(l in I)return{deviceId:{exact:I["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var M=typeof I;throw"Invalid type of 'deviceId' = ".concat(M)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},n.prototype.computeCanvasDrawConfig=function(e,t,r,a){if(e<=r&&t<=a){var l=(r-e)/2,f=(a-t)/2;return{x:l,y:f,width:e,height:t}}else{var p=e,v=t;return e>r&&(t=r/e*t,e=r),t>a&&(e=a/t*e,t=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(v)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,a)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?eo.BORDER_SHADER_MATCH_COLOR:eo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var a=e,l=t,f=document.createElement("canvas");return f.style.width="".concat(a,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=sl(r)?"qr-canvas":r,f},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,a){if(!(t-a.width<1||r-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(t-a.width)/2,p=(r-a.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(eo.SHADED_REGION_ELEMENT_ID),t-a.width<11||r-a.height<11)this.hasBorderShaders=!1;else{var v=5,w=40;this.insertShaderBorders(l,w,v,-v,null,0,!0),this.insertShaderBorders(l,w,v,-v,null,0,!1),this.insertShaderBorders(l,w,v,null,-v,0,!0),this.insertShaderBorders(l,w,v,null,-v,0,!1),this.insertShaderBorders(l,v,w+v,-v,null,-v,!0),this.insertShaderBorders(l,v,w+v,null,-v,-v,!0),this.insertShaderBorders(l,v,w+v,-v,null,-v,!1),this.insertShaderBorders(l,v,w+v,null,-v,-v,!1),this.hasBorderShaders=!0}e.append(l)}},n.prototype.insertShaderBorders=function(e,t,r,a,l,f,p){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=eo.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(t,"px"),v.style.height="".concat(r,"px"),a!==null&&(v.style.top="".concat(a,"px")),l!==null&&(v.style.bottom="".concat(l,"px")),p?v.style.left="".concat(f,"px"):v.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),e.appendChild(v)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n}(),Rm="data:image/svg+xml;base64,",xR=Rm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",bR=Rm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Uw=Rm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",AR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Vw=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),_R=function(){function n(){this.data=Vw.createDefault();var e=localStorage.getItem(n.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},n.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=Vw.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),ER=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Lw.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(a);var l=document.createElement("a");l.innerText=Lw.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),e.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),SR=function(){function n(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Uw,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},e.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=AR,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Uw,this.infoIcon.style.opacity="0.6")},n}(),TR=function(){function n(){var e=this;this.infoDiv=new ER,this.infoIcon=new SR(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return n.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},n}(),CR=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},IR=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},zw=function(){function n(){}return n.hasPermissions=function(){return CR(this,void 0,void 0,function(){var e,t,r,a;return IR(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=l.sent(),t=0,r=e;t<r.length;t++)if(a=r[t],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},n}(),Dc=function(){function n(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var r=t[e];if(n.isCameraScanType(r))return!0}return!1},n.isCameraScanType=function(e){return e===tu.SCAN_TYPE_CAMERA},n.isFileScanType=function(e){return e===tu.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Uo.DEFAULT_SUPPORTED_SCAN_TYPE;var t=Uo.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,a=e;r<a.length;r++){var l=a[r];if(!Uo.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return e},n}(),ro=function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n}(),Hl=function(){function n(){}return n.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(ro.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},n}(),fb=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function p(T){try{w(r.next(T))}catch(I){f(I)}}function v(T){try{w(r.throw(T))}catch(I){f(I)}}function w(T){T.done?l(T.value):a(T.value).then(p,v)}w((r=r.apply(n,e||[])).next())})},db=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(w){return function(T){return v([w,T])}}function v(w){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(t=0)),t;)try{if(r=1,a&&(l=w[0]&2?a.return:w[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,w[1])).done)return l;switch(a=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,a=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){t.label=w[1];break}if(w[0]===6&&t.label<l[1]){t.label=l[1],l=w;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(w);break}l[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(n,t)}catch(T){w=[6,T],a=0}finally{r=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Hw=function(){function n(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return fb(this,void 0,void 0,function(){var e,t;return db(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?jr.torchOffButton():jr.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},n.prototype.propagateFailure=function(e,t){var r=e?jr.torchOnFailedMessage():jr.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},n.prototype.reset=function(){this.isTorchOn=!1},n}(),NR=function(){function n(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Hl.createElement("button",ro.TORCH_BUTTON_ID),this.torchController=new Hw(e,this,t)}return n.prototype.render=function(e,t){var r=this;this.torchButton.innerText=jr.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var a=this;this.torchButton.addEventListener("click",function(l){return fb(r,void 0,void 0,function(){return db(this,function(f){switch(f.label){case 0:return[4,a.torchController.flipState()];case 1:return f.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(ro.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(ro.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(ro.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(ro.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(e){this.torchController=new Hw(e,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(e){this.torchButton.innerText=e},n.prototype.reset=function(){this.torchButton.innerText=jr.torchOnButton(),this.torchController.reset()},n.create=function(e,t,r,a){var l=new n(t,a);return l.render(e,r),l},n}(),RR=function(){function n(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Hl.createElement("button",ro.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Hl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var v=p.target;if(!(v.files&&v.files.length===0)){var w=v.files,T=w[0],I=T.name;l.setImageNameToButton(I),r(T)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var v=p.dataTransfer;if(v){var w=v.files;if(!w||w.length===0)return;for(var T=!1,I=0;I<w.length;++I){var M=w.item(I);if(M){var R=/image.*/;if(M.type.match(R)){T=!0;var H=M.name;l.setImageNameToButton(H),r(M),f.innerText=jr.dragAndDropMessage();break}}}T||(f.innerText=jr.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=jr.dragAndDropMessage(),e.style.fontWeight="400",e},n.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var r=e.substring(0,8),a=e.length,l=e.substring(a-8,a);e="".concat(r,"....").concat(l)}var f=jr.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=f},n.prototype.setInitialValueToButton=function(){var e=jr.fileSelectionChooseImage()+" - "+jr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(e,t,r){var a=new n(e,t,r);return a},n}(),LR=function(){function n(e){this.selectElement=Hl.createElement("select",ro.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return n.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)t.style.display="none";else{var a=jr.selectCamera();t.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var l=1,f=0,p=this.cameras;f<p.length;f++){var v=p[f],w=v.id,T=v.label==null?w:v.label;(!T||T==="")&&(T=[jr.anonymousCameraPrefix(),l++].join(" "));var I=document.createElement("option");I.value=w,I.innerText=T,this.options.push(I),this.selectElement.appendChild(I)}t.appendChild(this.selectElement),e.appendChild(t)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){var a=r[t];if(a.value===e)return!0}return!1},n.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(e,t){var r=new n(t);return r.render(e),r},n}(),DR=function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Hl.createElement("input",ro.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=jr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var e=jr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(e,t,r,a){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(e,t){var r=new n;return r.render(e,t),r},n}(),to;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(to||(to={}));function OR(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function MR(n,e){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:e}}var PR=function(){function n(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Dc(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new cb(this.verbose),this.persistedDataManager=new _R,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,f){if(e)e(l,f);else{if(r.lastMatchFound===l)return;r.lastMatchFound=l,r.setHeaderMessage(jr.lastMatch(l),to.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,f){t&&t(l,f)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new jw(this.getScanRegionId(),MR(this.config,this.verbose))},n.prototype.pause=function(e){(sl(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var e=this,t=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,a){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(l){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),t(),r()}).catch(function(l){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",l),a(l)}):(e.html5Qrcode.clear(),t(),r())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Uo.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Uo.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Uo.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Uo.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Uo.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Uo.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Uo.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),Dc.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),l=this.getDashboardId();a.id=l,a.style.width="100%",e.appendChild(a),this.setupInitialDashboard(a)},n.prototype.resetBasicLayout=function(e){e.style.border="none"},n.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var r=new TR;r.renderInto(t);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",t.appendChild(a)},n.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},n.prototype.createCameraListUi=function(e,t,r){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(jr.cameraPermissionRequesting());var l=function(){r||a.createPermissionButton(e,t)};jw.getCameras().then(function(f){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),f&&f.length>0?(e.removeChild(t),a.renderCameraSelection(f)):(a.setHeaderMessage(jr.noCameraFound(),to.STATUS_WARNING),l())}).catch(function(f){a.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:l(),a.setHeaderMessage(f,to.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(e,t){var r=this,a=Hl.createElement("button",this.getCameraPermissionButtonId());a.innerText=jr.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,r.createCameraListUi(e,t,a)}),t.appendChild(a)},n.prototype.createPermissionsUi=function(e,t){var r=this;if(Dc.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){zw.hasPermissions().then(function(a){a?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))}).catch(function(a){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},n.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Dc.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var a=document.createElement("div");a.style.textAlign="center",r.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,a),this.renderFileScanUi(t)},n.prototype.renderFileScanUi=function(e){var t=Dc.isFileScanType(this.currentScanType),r=this,a=function(l){if(!r.html5Qrcode)throw"html5Qrcode not defined";Dc.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(jr.loadingImage()),r.html5Qrcode.scanFileV2(l,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,to.STATUS_WARNING),r.qrCodeErrorCallback(f,lb.createFrom(f))}))};this.fileSelectionUi=RR.create(e,t,a)},n.prototype.renderCameraSelection=function(e){var t=this,r=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var l=DR.create(a,!1),f=function(q){var J=q.zoomFeature();if(J.isSupported()){l.setOnCameraZoomValueChangeCallback(function(te){J.apply(te)});var G=1;t.config.defaultZoomValueIfSupported&&(G=t.config.defaultZoomValueIfSupported),G=Z7(G,J.min(),J.max()),l.setValues(J.min(),J.max(),G,J.step()),l.show()}},p=LR.create(a,e),v=document.createElement("span"),w=Hl.createElement("button",ro.CAMERA_START_BUTTON_ID);w.innerText=jr.scanButtonStartScanningText(),v.appendChild(w);var T=Hl.createElement("button",ro.CAMERA_STOP_BUTTON_ID);T.innerText=jr.scanButtonStopScanningText(),T.style.display="none",T.disabled=!0,v.appendChild(T);var I,M=function(q){if(!q.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(q.torchFeature()):I=NR.create(v,q.torchFeature(),{display:"none",marginLeft:"5px"},function(J){r.setHeaderMessage(J,to.STATUS_WARNING)}),I.show()};a.appendChild(v);var R=function(q){q||(w.style.display="none"),w.innerText=jr.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,q&&(w.style.display="inline-block")};if(w.addEventListener("click",function(q){w.innerText=jr.scanButtonScanningStarting(),p.disable(),w.disabled=!0,w.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var J=p.getValue();r.persistedDataManager.setLastUsedCameraId(J),r.html5Qrcode.start(J,OR(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(G){T.disabled=!1,T.style.display="inline-block",R(!1);var te=r.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&M(te),t.config.showZoomSliderIfSupported===!0&&f(te)}).catch(function(G){r.showHideScanTypeSwapLink(!0),p.enable(),R(!0),r.setHeaderMessage(G,to.STATUS_WARNING)})}),p.hasSingleItem()&&w.click(),T.addEventListener("click",function(q){if(!r.html5Qrcode)throw"html5Qrcode not defined";T.disabled=!0,r.html5Qrcode.stop().then(function(J){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),p.enable(),w.disabled=!1,T.style.display="none",w.style.display="inline-block",I&&(I.reset(),I.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(J){T.disabled=!1,r.setHeaderMessage(J,to.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var H=r.persistedDataManager.getLastUsedCameraId();p.hasValue(H)?(p.setValue(H),w.click()):r.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var e=this,t=jr.textIfCameraScanSelected(),r=jr.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var f=Hl.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=Dc.isCameraScanType(this.currentScanType)?t:r,f.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Dc.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),f.innerText=r,e.currentScanType=tu.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),f.innerText=t,e.currentScanType=tu.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),l.appendChild(f),a.appendChild(l)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){zw.hasPermissions().then(function(r){if(r){var a=document.getElementById(t.getCameraPermissionButtonId());if(!a)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},n.prototype.setHeaderMessage=function(e,t){t||(t=to.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case to.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case to.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case to.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=xR,this.cameraScanImage.alt=jr.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=bR,this.fileScanImage.alt=jr.fileScanAltText()},n.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return ro.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return ro.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n}();const kR=({isOpen:n,onClose:e,onScanSuccess:t})=>{const[r,a]=ke.useState(null);return ke.useEffect(()=>{if(n){const l=new PR("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1});l.render(f=>{t&&t(f),l.clear(),e()},f=>{console.debug("QR Scan error:",f)}),a(l)}return()=>{r&&r.clear()}},[n]),n?P.jsx("div",{className:"scan-modal-overlay",children:P.jsxs("div",{className:"scan-modal",children:[P.jsx("button",{className:"close-button",onClick:e,children:P.jsx(u3,{size:24})}),P.jsx("h2",{children:"Scan QR Code"}),P.jsx("div",{id:"qr-reader"}),P.jsx("p",{className:"scan-instructions",children:"Position the QR code within the frame to scan"})]})}):null},BR=()=>{const[n,e]=ke.useState(0),[t,r]=ke.useState(""),[a,l]=ke.useState(!0),f=[{id:1,image:"/placeholder.svg?height=600&width=800",title:"DISCOVER VENUES",subtitle:"Book the best facilities",description:"Find and book premium sports facilities in your area"},{id:2,image:"/placeholder.svg?height=600&width=800",title:"CONNECT WITH PLAYERS",subtitle:"Join the community",description:"Meet sports enthusiasts and join exciting games"},{id:3,image:"/placeholder.svg?height=600&width=800",title:"TRAIN WITH EXPERTS",subtitle:"Level up your game",description:"Get coached by professional trainers and improve your skills"}];ke.useEffect(()=>{const w=setInterval(()=>{l(!1),setTimeout(()=>{e(T=>T===f.length-1?0:T+1),l(!0)},500)},5e3);return()=>clearInterval(w)},[]);const p=w=>{r(w.target.value)},v=w=>{w.preventDefault(),console.log("Searching for:",t)};return P.jsxs("section",{className:"hero",children:[P.jsx("div",{className:"hero-slider",children:f.map((w,T)=>P.jsx("div",{className:`hero-slide ${T===n?"active":""}`,style:{backgroundImage:`url(${w.image})`},children:P.jsx("div",{className:"slide-overlay"})},w.id))}),P.jsx("div",{className:"hero-content",children:P.jsxs("div",{className:"container",children:[P.jsxs("div",{className:`text-content ${a?"visible":""}`,children:[P.jsx("h1",{className:"hero-title",children:f[n].title}),P.jsx("h2",{className:"hero-subtitle",children:f[n].subtitle}),P.jsx("p",{className:"hero-description",children:f[n].description})]}),P.jsxs("form",{className:"search-form",onSubmit:v,children:[P.jsxs("div",{className:"search-input-container",children:[P.jsx(TE,{className:"search-icon"}),P.jsx("input",{type:"text",placeholder:"Enter your location",value:t,onChange:p,className:"search-input1"})]}),P.jsxs("button",{type:"submit",className:"search-button",children:[P.jsx(DE,{className:"search-button-icon"}),P.jsx("span",{children:"Search"})]})]}),P.jsxs("button",{className:"explore-button",children:[P.jsx("span",{children:"Explore Now"}),P.jsx(fE,{className:"explore-icon"})]}),P.jsx("div",{className:"slider-indicators",children:f.map((w,T)=>P.jsx("span",{className:`indicator ${T===n?"active":""}`,onClick:()=>{l(!1),setTimeout(()=>{e(T),l(!0)},500)}},T))})]})})]})};var gb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qw=Uc.createContext&&Uc.createContext(gb),FR=["attr","size","title"];function jR(n,e){if(n==null)return{};var t=UR(n,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function UR(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function T0(){return T0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},T0.apply(this,arguments)}function Gw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function C0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gw(Object(t),!0).forEach(function(r){VR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VR(n,e,t){return e=zR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zR(n){var e=HR(n,"string");return typeof e=="symbol"?e:e+""}function HR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pb(n){return n&&n.map((e,t)=>Uc.createElement(e.tag,C0({key:t},e.attr),pb(e.child)))}function Li(n){return e=>Uc.createElement(qR,T0({attr:C0({},n.attr)},e),pb(n.child))}function qR(n){var e=t=>{var{attr:r,size:a,title:l}=n,f=jR(n,FR),p=a||t.size||"1em",v;return t.className&&(v=t.className),n.className&&(v=(v?v+" ":"")+n.className),Uc.createElement("svg",T0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,f,{className:v,style:C0(C0({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&Uc.createElement("title",null,l),n.children)};return qw!==void 0?Uc.createElement(qw.Consumer,null,t=>e(t)):e(gb)}function I0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function F1(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function mb(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(n)}function yb(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(n)}function vb(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function GR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(n)}function WR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function YR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(n)}function XR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function Lm(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(n)}function KR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(n)}function wb(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function QR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(n)}function xb(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}function ZR(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(n)}function bb(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M122.06 122.06c-44.37 44.37-66.71 100.61-78 145.28l200.6 200.56c44.67-11.25 100.91-33.59 145.28-78s66.71-100.61 78-145.28L267.34 44.1c-44.67 11.25-100.91 33.59-145.28 77.96zm256.73 256.72zM300.65 189 323 166.71A15.78 15.78 0 0 1 345.29 189L323 211.35l11.16 11.17a15.78 15.78 0 0 1-22.32 22.32l-11.16-11.16L278.32 256l11.16 11.16a15.78 15.78 0 1 1-22.32 22.32L256 278.32l-22.32 22.33 11.16 11.16a15.78 15.78 0 1 1-22.32 22.32L211.35 323 189 345.29A15.78 15.78 0 0 1 166.71 323L189 300.65l-11.16-11.17a15.78 15.78 0 0 1 22.32-22.32l11.16 11.16L233.68 256l-11.16-11.16a15.78 15.78 0 1 1 22.32-22.32L256 233.68l22.32-22.33-11.16-11.16a15.78 15.78 0 0 1 22.32-22.32zm175.92 10.63c7.31-54.53 4-120.26-20-144.21s-89.68-27.3-144.21-20c-2.51.34-5.16.72-7.91 1.15l171 171c.4-2.78.78-5.43 1.12-7.94zM35.43 312.37c-7.31 54.53-4 120.26 20 144.21C72.17 473.33 109.34 480 148.84 480a387 387 0 0 0 50.79-3.43c2.51-.34 5.16-.72 7.91-1.15l-171-171c-.39 2.79-.77 5.44-1.11 7.95z"},child:[]}]})(n)}function Dm(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m444 295.67-.47-26.07a205.42 205.42 0 0 1-39.27-4.73l-5 17.35a14 14 0 1 1-26.88-7.81l5-17.38a206.47 206.47 0 0 1-36.05-17.35l-10.44 14.77a14 14 0 0 1-22.87-16.16l10.41-14.73a204.8 204.8 0 0 1-30-30L273.71 204a14 14 0 0 1-16.16-22.87l14.74-10.42a205.3 205.3 0 0 1-17.38-36.06l-17.32 5a14 14 0 1 1-7.81-26.89l17.3-5a205.88 205.88 0 0 1-4.43-32.59q-.17-3-.24-6l-18.22-.33a14 14 0 0 1-13.74-14A208 208 0 0 0 55 202.42a16 16 0 0 1 15 15.66l.44 24.43c1.58.05 3.16.11 4.73.2a205.88 205.88 0 0 1 32.59 4.43l5-17.3a14 14 0 0 1 26.89 7.81l-5 17.32a205.21 205.21 0 0 1 36 17.38L181 257.61a14 14 0 0 1 22.87 16.16l-10.39 14.73a205.65 205.65 0 0 1 15.79 14.23 203.79 203.79 0 0 1 14.23 15.79l14.73-10.41A14 14 0 0 1 254.39 331l-14.76 10.43A206.86 206.86 0 0 1 257 377.47l17.38-5.05a14 14 0 0 1 7.81 26.89l-17.35 5a205.89 205.89 0 0 1 4.7 38.28l18.27.33a16 16 0 0 1 15.71 16.28 11.69 11.69 0 0 1-.08 1.19 208 208 0 0 0 153.39-151.03A14 14 0 0 1 444 295.67z"},child:[]},{tag:"path",attr:{d:"M301.49 56.2A14 14 0 0 1 287.5 70h-.25l-16.81-.3c.05 1.31.1 2.62.17 3.93a178.83 178.83 0 0 0 3.44 26.31l16.29-4.74a14 14 0 0 1 7.81 26.8l-16.27 4.73a178.06 178.06 0 0 0 13.33 27.69l13.84-9.78a14 14 0 1 1 16.16 22.87l-13.86 9.79q5.25 6.33 11.12 12.19c3.9 3.91 8 7.6 12.2 11.1l9.78-13.84A14 14 0 1 1 367.32 203l-9.76 13.8a178.83 178.83 0 0 0 27.68 13.33l4.76-16.28a14 14 0 0 1 26.89 7.81l-4.73 16.26a177.72 177.72 0 0 0 30.95 3.65l-.16-9a14 14 0 0 1 13.75-14.24h.25a14.67 14.67 0 0 1 2.59.25 208 208 0 0 0-158-163.51c-.06.4-.04.76-.05 1.13zm-93.05 401.35a16 16 0 0 1 16.28-15.71l16.76.29a178.49 178.49 0 0 0-3.62-29.95l-16.26 4.72a14 14 0 1 1-7.81-26.9l16.21-4.7a177.92 177.92 0 0 0-13.33-27.68l-13.8 9.76a14 14 0 1 1-16.16-22.87l13.84-9.78c-3.5-4.22-7.19-8.3-11.1-12.2s-8-7.62-12.19-11.12l-9.79 13.86a14 14 0 1 1-22.87-16.16l9.78-13.84a177.16 177.16 0 0 0-27.69-13.33L122 298.21a14 14 0 1 1-26.9-7.81l4.73-16.29a177.32 177.32 0 0 0-26.31-3.44c-.89-.05-1.79-.08-2.68-.12l.16 10.59a16 16 0 0 1-15.71 16.28H55a16 16 0 0 1-3.94-.51 208 208 0 0 0 157.65 163.87 15.72 15.72 0 0 1-.27-3.23z"},child:[]}]})(n)}function Om(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m256 233.37 34.45-34.45a207.08 207.08 0 0 1-50.12-135.25c0-5 .19-10.05.54-15A207.09 207.09 0 0 0 120.67 98zm57.14-57.14L391.33 98A207.07 207.07 0 0 0 273 48.8c-.41 4.9-.64 9.86-.64 14.87a175.25 175.25 0 0 0 40.78 112.56zm22.63 22.63a175.25 175.25 0 0 0 112.56 40.81c5 0 10-.23 14.87-.64A207.07 207.07 0 0 0 414 120.67zM176.23 313.14a175.23 175.23 0 0 0-112.56-40.81q-7.52 0-14.87.64A207.07 207.07 0 0 0 98 391.33zM256 278.63l-34.45 34.45a207.08 207.08 0 0 1 50.12 135.25c0 5-.19 10.05-.54 15A207.06 207.06 0 0 0 391.33 414zm192.33-6.96a207.08 207.08 0 0 1-135.25-50.12L278.63 256 414 391.33a207.09 207.09 0 0 0 49.39-120.2c-5.01.35-10.02.54-15.06.54zM233.37 256 98 120.67a207.06 207.06 0 0 0-49.39 120.2c5-.35 10-.54 15-.54a207.08 207.08 0 0 1 135.25 50.12zm-112.7 158A207.07 207.07 0 0 0 239 463.2q.63-7.35.64-14.87a175.23 175.23 0 0 0-40.81-112.56z"},child:[]}]})(n)}function Ab(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M388 448a92 92 0 1 1 92-92 92.1 92.1 0 0 1-92 92zm0-152a60 60 0 1 0 60 60 60.07 60.07 0 0 0-60-60zM124 448a92 92 0 1 1 92-92 92.1 92.1 0 0 1-92 92zm0-152a60 60 0 1 0 60 60 60.07 60.07 0 0 0-60-60zm196-168a31.89 31.89 0 0 0 32-32.1A31.55 31.55 0 0 0 320.2 64a32 32 0 1 0-.2 64z"},child:[]},{tag:"path",attr:{d:"M367.55 192h-43.76a4 4 0 0 1-3.51-2.08l-31.74-58.17a31 31 0 0 0-49.38-7.75l-69.86 70.4a32.56 32.56 0 0 0-9.3 22.4c0 17.4 12.6 23.6 18.5 27.1 28.5 16.42 48.57 28.43 59.58 35.1a4 4 0 0 1 1.92 3.41v69.12c0 8.61 6.62 16 15.23 16.43A16 16 0 0 0 272 352v-86a16 16 0 0 0-6.66-13l-37-26.61a4 4 0 0 1-.58-6l42-44.79a4 4 0 0 1 6.42.79L298 215.77a16 16 0 0 0 14 8.23h56a16 16 0 0 0 16-16.77c-.42-8.61-7.84-15.23-16.45-15.23z"},child:[]}]})(n)}function vd(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M193.69 152.84a16 16 0 0 1 29.64 2.56l36.4 121.36 30-59.92a16 16 0 0 1 28.62 0L345.89 272h96.76A213.08 213.08 0 0 0 464 176.65C463.37 114.54 413.54 64 352.92 64c-48.09 0-80 29.54-96.92 51-16.88-21.49-48.83-51-96.92-51C98.46 64 48.63 114.54 48 176.65A211.13 211.13 0 0 0 56.93 240h93.18z"},child:[]},{tag:"path",attr:{d:"M321.69 295.16 304 259.78l-33.69 67.38A16 16 0 0 1 256 336q-.67 0-1.38-.06a16 16 0 0 1-14-11.34l-36.4-121.36-30 59.92A16 16 0 0 1 160 272H69.35q14 29.29 37.27 57.66c18.77 22.88 52.8 59.46 131.39 112.81a31.84 31.84 0 0 0 36 0c78.59-53.35 112.62-89.93 131.39-112.81a316.79 316.79 0 0 0 19-25.66H336a16 16 0 0 1-14.31-8.84zM464 272h-21.35a260.11 260.11 0 0 1-18.25 32H464a16 16 0 0 0 0-32zM48 240a16 16 0 0 0 0 32h21.35a225.22 225.22 0 0 1-12.42-32z"},child:[]}]})(n)}function Mm(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm143 304h-45.22a8 8 0 0 1-6.91-4l-16.14-27.68a8 8 0 0 1-.86-6l14.86-59.92a8 8 0 0 1 4.65-5.45l28.1-11.9a8 8 0 0 1 8.34 1.3l41.63 35.82a8 8 0 0 1 2.69 7.26 174.75 174.75 0 0 1-24.28 66.68A8 8 0 0 1 399 352zM134.52 237.13l28.1 11.9a8 8 0 0 1 4.65 5.45l14.86 59.92a8 8 0 0 1-.86 6L165.13 348a8 8 0 0 1-6.91 4H113a8 8 0 0 1-6.82-3.81 174.75 174.75 0 0 1-24.28-66.68 8 8 0 0 1 2.69-7.26l41.63-35.82a8 8 0 0 1 8.3-1.3zm256.94-87.24-18.07 51.38A8 8 0 0 1 369 206l-29.58 12.53a8 8 0 0 1-8.26-1.24L274.9 170.1a8 8 0 0 1-2.9-6.1v-33.58a8 8 0 0 1 3.56-6.65l42.83-28.54a8 8 0 0 1 7.66-.67A176.92 176.92 0 0 1 390 142a8 8 0 0 1 1.46 7.89zM193.6 95.23l42.84 28.54a8 8 0 0 1 3.56 6.65V164a8 8 0 0 1-2.86 6.13l-56.26 47.19a8 8 0 0 1-8.26 1.24L143 206a8 8 0 0 1-4.43-4.72L120.5 149.9a8 8 0 0 1 1.5-7.9 176.92 176.92 0 0 1 64-47.48 8 8 0 0 1 7.6.71zm17.31 327.46L191.18 373a8 8 0 0 1 .52-7l15.17-26a8 8 0 0 1 6.91-4h84.44a8 8 0 0 1 6.91 4l15.18 26a8 8 0 0 1 .53 7l-19.59 49.67a8 8 0 0 1-5.69 4.87 176.58 176.58 0 0 1-79 0 8 8 0 0 1-5.65-4.85z"},child:[]}]})(n)}function _b(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M272 320.46V202.3l166.62-75.73a16 16 0 0 0 0-29.14l-176-80A16 16 0 0 0 240 32v288.46q8-.45 16-.46t16 .46z"},child:[]},{tag:"path",attr:{d:"M463.33 457.5c-8.56-42.85-35.11-78.74-76.78-103.8-32.5-19.55-72.67-31.3-114.55-33.7v79.75a16 16 0 1 1-32 0V320c-41.88 2.4-82.05 14.15-114.55 33.7-41.67 25.06-68.22 60.95-76.78 103.8a32.49 32.49 0 0 0 6.44 27.08C61.13 492 70 496 80 496h352c10 0 18.88-4.05 24.9-11.42a32.49 32.49 0 0 0 6.43-27.08z"},child:[]}]})(n)}function Yh(n){return Li({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 256a192.55 192.55 0 0 0 32-2.68A224 224 0 0 0 258.68 32 192.55 192.55 0 0 0 256 64c0 105.87 86.13 192 192 192zM253.35 480c.94-5.67 1.65-11.4 2.09-17.18.37-4.88.56-9.86.56-14.79 0-105.87-86.13-192-192-192a192.55 192.55 0 0 0-32 2.68A224 224 0 0 0 253.35 480z"},child:[]},{tag:"path",attr:{d:"M289.61 222.39A222.53 222.53 0 0 1 224 64a226.07 226.07 0 0 1 2-30A224.1 224.1 0 0 0 34 226a226.07 226.07 0 0 1 30-2 222.53 222.53 0 0 1 158.39 65.61A222.53 222.53 0 0 1 288 448c0 5.74-.22 11.53-.65 17.22q-.5 6.42-1.36 12.79A224.12 224.12 0 0 0 478 286a226.07 226.07 0 0 1-30 2 222.53 222.53 0 0 1-158.39-65.61z"},child:[]}]})(n)}const JR=()=>{const[n,e]=ke.useState(!1),t=ke.useRef(null),r=t3(),a=[{id:1,title:"Football",icon:P.jsx(Mm,{}),image:"https://images.unsplash.com/photo-1517649763962-0c623066013b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",rating:4.8,price:"₹500/hr",featured:!0,sport:"football"},{id:2,title:"Basketball",icon:P.jsx(Om,{}),image:"https://images.unsplash.com/photo-1546519638-68e109498ffc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",rating:4.6,price:"₹400/hr",featured:!1,sport:"basketball"},{id:3,title:"Tennis",icon:P.jsx(Yh,{}),image:"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",rating:4.9,price:"₹600/hr",featured:!0,sport:"tennis"},{id:4,title:"Badminton",icon:P.jsx(Yh,{}),image:"https://images.unsplash.com/photo-1613918431703-aa508cbffb03?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",rating:4.7,price:"₹300/hr",featured:!1,sport:"badminton"},{id:5,title:"Cricket",icon:P.jsx(Dm,{}),image:"https://images.unsplash.com/photo-1531415074968-036ba1b575da?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",rating:4.8,price:"₹800/hr",featured:!0,sport:"cricket"},{id:6,title:"Fitness",icon:P.jsx(vd,{}),image:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",rating:4.5,price:"₹200/hr",featured:!1,sport:"fitness"}];ke.useEffect(()=>{const f=new IntersectionObserver(([p])=>{p.isIntersecting&&(e(!0),f.unobserve(p.target))},{threshold:.1});return t.current&&f.observe(t.current),()=>{t.current&&f.unobserve(t.current)}},[]);const l=f=>{r("/venues",{state:{selectedSport:f}})};return P.jsx("section",{className:"sports-cards",ref:t,children:P.jsxs("div",{className:"container",children:[P.jsxs("div",{className:`section-header ${n?"visible":""}`,children:[P.jsx("h2",{className:"section-title",children:"Book Venues"}),P.jsxs(kc,{to:"/venues",className:"view-all",children:[P.jsx("span",{children:"See All Venues"}),P.jsx(I0,{})]})]}),P.jsx("div",{className:"cards-container",children:a.map((f,p)=>P.jsxs("div",{className:`card ${n?"visible":""}`,style:{animationDelay:`${p*.1}s`},onClick:()=>l(f.sport),children:[P.jsxs("div",{className:"card-image",children:[P.jsx("img",{src:f.image,alt:f.title}),f.featured&&P.jsx("span",{className:"featured-badge",children:"FEATURED"})]}),P.jsxs("div",{className:"card-content",children:[P.jsx("div",{className:"card-icon",children:f.icon}),P.jsx("h3",{className:"card-title",children:f.title}),P.jsxs("div",{className:"card-details",children:[P.jsxs("div",{className:"card-rating",children:[P.jsx(wb,{}),P.jsx("span",{children:f.rating})]}),P.jsx("div",{className:"card-price",children:f.price})]})]})]},f.id))}),P.jsx("div",{className:`cta-button ${n?"visible":""}`,children:P.jsxs("button",{className:"btn btn-primary",children:[P.jsx("span",{children:"Explore All Sports"}),P.jsx(I0,{})]})})]})})},$R=()=>{const[n,e]=ke.useState(!1),t=ke.useRef(null),r=[{id:1,title:"Find Sports Venues",description:"Discover the best sports venues near you with real-time availability.",icon:P.jsx(F1,{})},{id:2,title:"Connect with Players",description:"Join games or find teammates who share your passion for sports.",icon:P.jsx(F1,{})},{id:3,title:"Book Instantly",description:"Secure your spot with our easy booking system and instant confirmations.",icon:P.jsx(F1,{})},{id:4,title:"Train with Experts",description:"Improve your skills with professional coaches and training programs.",icon:P.jsx(F1,{})}];return ke.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(e(!0),a.unobserve(l.target))},{threshold:.1});return t.current&&a.observe(t.current),()=>{t.current&&a.unobserve(t.current)}},[]),P.jsx("section",{className:"about",ref:t,children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{className:`section-title ${n?"visible":""}`,children:"How SPORTZ Works"}),P.jsxs("div",{className:"about-content",children:[P.jsx("div",{className:`about-image ${n?"visible":""}`,children:P.jsx("img",{src:"/placeholder.svg?height=500&width=600",alt:"About SPORTZ"})}),P.jsx("div",{className:"about-features",children:r.map((a,l)=>P.jsxs("div",{className:`feature-item ${n?"visible":""}`,style:{animationDelay:`${l*.2}s`},children:[P.jsx("div",{className:"feature-icon",children:a.icon}),P.jsxs("div",{className:"feature-text",children:[P.jsx("h3",{className:"feature-title",children:a.title}),P.jsx("p",{className:"feature-description",children:a.description})]})]},a.id))})]})]})})},e9=()=>{const[n,e]=ke.useState(0),[t,r]=ke.useState(!1),a=ke.useRef(null),l=[{id:1,name:"John Smith",role:"Football Enthusiast",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIf4R5qPKHPNMyAqV-FjS_OTBB8pfUV29Phg&s",rating:5,text:"SPORTZ has completely changed how I find places to play. The app is intuitive, and I've met so many great players through the platform!"},{id:2,name:"Sarah Johnson",role:"Tennis Player",image:"https://cdn-icons-png.flaticon.com/512/4128/4128335.png",rating:5,text:"Booking tennis courts used to be such a hassle. Now with SPORTZ, I can find and book courts in seconds. Absolutely love it!"},{id:3,name:"Michael Brown",role:"Basketball Coach",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIf4R5qPKHPNMyAqV-FjS_OTBB8pfUV29Phg&s",rating:4,text:"As a coach, I need reliable venues for my training sessions. SPORTZ has made it so easy to find and book courts for my team practices."}];ke.useEffect(()=>{const v=new IntersectionObserver(([w])=>{w.isIntersecting&&(r(!0),v.unobserve(w.target))},{threshold:.1});return a.current&&v.observe(a.current),()=>{a.current&&v.unobserve(a.current)}},[]);const f=()=>{e(v=>v===l.length-1?0:v+1)},p=()=>{e(v=>v===0?l.length-1:v-1)};return P.jsx("section",{className:"testimonials",ref:a,children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{className:`section-title ${t?"visible":""}`,children:"What Our Users Say"}),P.jsxs("div",{className:`testimonials-slider ${t?"visible":""}`,children:[P.jsx("button",{className:"slider-arrow prev",onClick:p,children:P.jsx(mb,{})}),P.jsx("div",{className:"testimonials-container",children:l.map((v,w)=>P.jsxs("div",{className:`testimonial-card ${w===n?"active":""}`,children:[P.jsxs("div",{className:"testimonial-content",children:[P.jsx("div",{className:"testimonial-rating",children:[...Array(5)].map((T,I)=>P.jsx(wb,{className:I<v.rating?"filled":""},I))}),P.jsx("p",{className:"testimonial-text",children:v.text})]}),P.jsxs("div",{className:"testimonial-author",children:[P.jsx("div",{className:"author-image",children:P.jsx("img",{src:v.image||"/placeholder.svg",alt:v.name})}),P.jsxs("div",{className:"author-info",children:[P.jsx("h4",{className:"author-name",children:v.name}),P.jsx("p",{className:"author-role",children:v.role})]})]})]},v.id))}),P.jsx("button",{className:"slider-arrow next",onClick:f,children:P.jsx(yb,{})})]}),P.jsx("div",{className:"testimonial-indicators",children:l.map((v,w)=>P.jsx("span",{className:`indicator ${w===n?"active":""}`,onClick:()=>e(w)},w))})]})})},Eb=()=>{const n=new Date().getFullYear();return P.jsxs("footer",{className:"footer",children:[P.jsx("div",{className:"footer-top",children:P.jsx("div",{className:"container",children:P.jsxs("div",{className:"footer-grid",children:[P.jsxs("div",{className:"footer-column",children:[P.jsx("div",{className:"footer-logo",children:P.jsx("h2",{children:"SPORTZ"})}),P.jsx("p",{className:"footer-description",children:"Find sports venues, connect with players, and book your next game instantly."}),P.jsxs("div",{className:"footer-social",children:[P.jsx("a",{href:"#",className:"social-icon",children:P.jsx(YR,{})}),P.jsx("a",{href:"#",className:"social-icon",children:P.jsx(GR,{})}),P.jsx("a",{href:"#",className:"social-icon",children:P.jsx(QR,{})}),P.jsx("a",{href:"#",className:"social-icon",children:P.jsx(ZR,{})})]})]}),P.jsxs("div",{className:"footer-column",children:[P.jsx("h3",{className:"footer-title",children:"Quick Links"}),P.jsxs("ul",{className:"footer-links",children:[P.jsx("li",{children:P.jsx("a",{href:"#",children:"Home"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"About Us"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Sports"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Venues"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Pricing"})})]})]}),P.jsxs("div",{className:"footer-column",children:[P.jsx("h3",{className:"footer-title",children:"Sports"}),P.jsxs("ul",{className:"footer-links",children:[P.jsx("li",{children:P.jsx("a",{href:"#",children:"Football"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Basketball"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Tennis"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Golf"})}),P.jsx("li",{children:P.jsx("a",{href:"#",children:"Cycling"})})]})]}),P.jsxs("div",{className:"footer-column",children:[P.jsx("h3",{className:"footer-title",children:"Contact Us"}),P.jsxs("ul",{className:"footer-contact",children:[P.jsxs("li",{children:[P.jsx(Lm,{}),P.jsx("span",{children:"123 Sports Street, City, Country"})]}),P.jsxs("li",{children:[P.jsx(KR,{}),P.jsx("span",{children:"+1 234 567 890"})]}),P.jsxs("li",{children:[P.jsx(XR,{}),P.jsx("span",{children:"info@sportz.com"})]})]})]})]})})}),P.jsx("div",{className:"footer-bottom",children:P.jsxs("div",{className:"container",children:[P.jsxs("p",{className:"copyright",children:["© ",n," SPORTZ. All rights reserved."]}),P.jsxs("div",{className:"footer-bottom-links",children:[P.jsx("a",{href:"#",children:"Privacy Policy"}),P.jsx("a",{href:"#",children:"Terms of Service"}),P.jsx("a",{href:"#",children:"Cookie Policy"})]})]})}),P.jsx("div",{className:"app-download",children:P.jsxs("div",{className:"app-download-content",children:[P.jsx("div",{className:"qr-code",children:P.jsx("img",{src:"/placeholder.svg?height=120&width=120",alt:"QR Code"})}),P.jsxs("div",{className:"download-text",children:[P.jsx("h3",{children:"DOWNLOAD THE APP"}),P.jsx("p",{children:"Scan the QR code to download our mobile app"})]})]})})]})},t9=()=>{const[n,e]=ke.useState(!1),t=r=>{console.log("Scanned QR Code:",r)};return P.jsxs("div",{className:"home",children:[P.jsx(BR,{}),P.jsx(JR,{}),P.jsx($R,{}),P.jsx(e9,{}),P.jsx(Eb,{}),P.jsx(kc,{to:"/venues",className:"see-all-venues-btn",children:"See All Venues"}),P.jsx("button",{className:"scan-button",onClick:()=>e(!0),"aria-label":"Scan QR Code",children:P.jsx(RE,{size:24})}),P.jsx(kR,{isOpen:n,onClose:()=>e(!1),onScanSuccess:t})]})},n9=({isOpen:n,onClose:e,court:t,venue:r})=>{const[a,l]=ke.useState({date:"",duration:0}),[f,p]=ke.useState(!1),[v,w]=ke.useState(""),[T,I]=ke.useState([]),[M,R]=ke.useState([]),[H,q]=ke.useState(null),[J,G]=ke.useState(!1),[te,le]=ke.useState(!1),[Ce,De]=ke.useState(!1),Ge=ke.useRef(null);ke.useEffect(()=>{if(n){const Te=new Date().toISOString().split("T")[0];l({date:Te,duration:t.minimumBookingDuration||60}),w(""),q(null),G(!1)}},[n,t]);const X=async()=>{if(!(!a.date||!t.id))try{const Te=Gh(fl,"bookings"),se=K0(Te,md("courtId","==",t.id),md("date","==",a.date)),W=(await Od(se)).docs.map(ce=>({...ce.data()}));I(W)}catch(Te){console.error("Error fetching booked slots:",Te)}};ke.useEffect(()=>{a.date&&t.id&&X()},[a.date,t.id]);const z=Te=>{if(!Te)return 0;const[se,Be]=Te.split(" ");let[W,ce]=se.split(":").map(Number);return W=W%12,Be==="PM"&&(W+=12),W*60+ce},j=(Te,se)=>{if(!Te||!se)return!1;const Be=z(Te),W=z(se);return!T.some(ce=>{const fe=z(ce.timeSlot.startTime),be=z(ce.timeSlot.endTime);return Be<be&&W>fe})},ae=Te=>{if(!Te)return!0;const se=new Date,Be=new Date(se.toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),[W,ce]=Te.split(" ");let[fe,be]=W.split(":").map(Number);fe=fe%12,ce==="PM"&&(fe+=12);const ve=new Date(a.date);if(ve.setHours(fe,be,0),ve.toDateString()===Be.toDateString()){const We=new Date(Be.getTime()+18e5);return ve<Be&&ve<We}return ve<Be},V=()=>{if(!(t!=null&&t.openingTime)||!(t!=null&&t.closingTime)||!a.date||!a.duration){R([]);return}try{const Te=[],[se,Be]=t.openingTime.split(" ");let[W,ce]=se.split(":").map(Number);W=W%12,Be==="PM"&&(W+=12);const[fe,be]=t.closingTime.split(" ");let[ve,We]=fe.split(":").map(Number);ve=ve%12,be==="PM"&&(ve+=12);let Pe=new Date(a.date);Pe.setHours(W,ce,0);const Ye=new Date(a.date);for(Ye.setHours(ve,We,0);Pe<Ye;){const ct=Pe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}),ut=new Date(Pe);if(ut.setMinutes(Pe.getMinutes()+a.duration),ut<=Ye){const Lt=ut.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"});j(ct,Lt)&&!ae(ct)&&Te.push({startTime:ct,endTime:Lt})}Pe.setMinutes(Pe.getMinutes()+30)}R(Te)}catch{w("Error generating time slots. Please try again."),R([])}};ke.useEffect(()=>{V()},[a.date,a.duration,t,T]);const F=()=>{if(!t||!a.duration)return 0;const Te=a.duration/60;return Math.round(Te*t.pricePerHour)},Y=async()=>{if(!H){w("Please select a time slot");return}const Te=JSON.parse(localStorage.getItem("userData"));if(!Te||!Te.uid){De(!0);return}le(!0)},xe=Te=>{De(!1);const se=JSON.parse(localStorage.getItem("userData"));(!se||se.uid!==Te.uid)&&localStorage.setItem("userData",JSON.stringify({uid:Te.uid,email:Te.email,lastFetched:new Date().getTime()})),le(!0)},we=()=>{le(!1)},Se=async()=>{try{p(!0);const Te=JSON.parse(localStorage.getItem("userData"));if(!Te||!Te.uid){w("Please login to book a court");return}const se={userId:Te.uid,courtId:t.id,stadiumId:r.stadiumId,date:a.date,timeSlot:H,amount:F(),status:"confirmed",coachId:null,createdAt:Date.now()},Be=`${Te.uid}_${Date.now()}`,W=Lu(Gh(fl,"bookings"),Be);await fp(W,se),G(!0),setTimeout(()=>{e(),window.refreshProfileBookings&&window.refreshProfileBookings()},1e3)}catch(Te){console.error("Error confirming payment:",Te),w("Failed to process payment. Please try again.")}finally{p(!1)}},Ie=()=>{Ge.current&&Ge.current.scrollBy({left:-200,behavior:"smooth"})},_e=()=>{Ge.current&&Ge.current.scrollBy({left:200,behavior:"smooth"})};return n?P.jsxs("div",{className:"modal-overlay",children:[P.jsxs("div",{className:"booking-modal",children:[P.jsx("button",{className:"close-button",onClick:e,children:P.jsx(xb,{})}),P.jsxs("div",{className:"modal-header",children:[P.jsxs("h2",{children:["Book ",r.title]}),P.jsxs("p",{children:["Court ",t.courtNumber," - ",t.courtType]})]}),J?P.jsxs("div",{className:"success-message",children:[P.jsx("h3",{children:"Booking Successful!"}),P.jsx("p",{children:"Your court has been booked successfully."})]}):te?P.jsxs("div",{className:"payment-confirmation",children:[P.jsx("img",{src:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",alt:"Payment Confirmation",className:"payment-image"}),P.jsxs("div",{className:"payment-buttons",children:[P.jsx("button",{className:"payment-button cancel-payment",onClick:we,children:"Cancel"}),P.jsx("button",{className:"payment-button confirm-payment",onClick:Se,disabled:f,children:f?"Processing...":"Payment Successful"})]})]}):P.jsxs("div",{className:"modal-content",children:[P.jsx("div",{className:"form-group",children:P.jsxs("div",{className:"date-duration-container",children:[P.jsxs("div",{className:"date-input-container",children:[P.jsx("label",{children:"Select Date"}),P.jsx("input",{type:"date",value:a.date,onChange:Te=>l(se=>({...se,date:Te.target.value})),min:new Date().toISOString().split("T")[0]})]}),P.jsxs("div",{className:"duration-container",children:[P.jsx("label",{children:"Duration (minutes)"}),P.jsxs("div",{className:"duration-buttons",children:[P.jsx("button",{type:"button",className:"duration-button",onClick:()=>l(Te=>({...Te,duration:Math.max(t.minimumBookingDuration||60,Te.duration-30)})),disabled:a.duration<=(t.minimumBookingDuration||60),children:"-"}),P.jsx("input",{type:"number",className:"duration-input",value:a.duration,onChange:Te=>{const se=Math.min(180,Math.max(t.minimumBookingDuration||60,Number(Te.target.value)));l(Be=>({...Be,duration:se}))},min:t.minimumBookingDuration||60,max:180,step:30}),P.jsx("button",{type:"button",className:"duration-button",onClick:()=>l(Te=>({...Te,duration:Math.min(180,Te.duration+30)})),disabled:a.duration>=180,children:"+"})]})]})]})}),P.jsxs("div",{className:"time-slots",children:[P.jsx("h3",{children:"Available Time Slots"}),P.jsxs("div",{className:"slots-container",children:[P.jsx("div",{className:"slots-grid",ref:Ge,children:M.map((Te,se)=>P.jsxs("button",{className:`slot-button ${(H==null?void 0:H.startTime)===Te.startTime?"selected":""}`,onClick:()=>q(Te),children:[P.jsx(vb,{}),P.jsxs("span",{children:[Te.startTime," - ",Te.endTime]})]},se))}),M.length>0&&P.jsxs("div",{className:"scroll-buttons",children:[P.jsx("button",{className:"scroll-button",onClick:Ie,"aria-label":"Scroll left",children:P.jsx(mb,{})}),P.jsx("button",{className:"scroll-button",onClick:_e,"aria-label":"Scroll right",children:P.jsx(yb,{})})]})]}),M.length===0&&P.jsx("p",{className:"no-slots",children:"No available slots for selected date"})]}),H&&P.jsxs("div",{className:"booking-summary",children:[P.jsx("h3",{children:"Booking Summary"}),P.jsxs("div",{className:"summary-item",children:[P.jsx("span",{children:"Date:"}),P.jsx("span",{children:a.date})]}),P.jsxs("div",{className:"summary-item",children:[P.jsx("span",{children:"Time:"}),P.jsxs("span",{children:[H.startTime," - ",H.endTime]})]}),P.jsxs("div",{className:"summary-item",children:[P.jsx("span",{children:"Duration:"}),P.jsxs("span",{children:[a.duration," minutes"]})]}),P.jsxs("div",{className:"summary-item",children:[P.jsx("span",{children:"Price:"}),P.jsxs("span",{children:["₹",F()]})]})]}),v&&P.jsx("div",{className:"error-message",children:v}),P.jsx("button",{className:"book-button",onClick:Y,disabled:f||!H,children:f?"Booking...":"Confirm Booking"})]})]}),Ce&&P.jsx(j4,{isOpen:Ce,onClose:()=>De(!1),onSuccess:xe})]}):null},r9=({venue:n,onClose:e})=>{const[t,r]=ke.useState([]),[a,l]=ke.useState(null),[f,p]=ke.useState(!0),[v,w]=ke.useState(!1),T=R=>{switch(R.toLowerCase()){case"football":return Mm;case"basketball":return Om;case"tennis":return Yh;case"golf":return _b;case"cycling":return Ab;case"rugby":return bb;case"badminton":return Yh;case"cricket":return Dm;case"fitness":return vd;default:return vd}};ke.useEffect(()=>{(async()=>{try{if(!n||!n.stadiumId||!n.sport){p(!1);return}const H=K0(Gh(fl,"courts"),md("stadiumId","==",n.stadiumId)),J=(await Od(H)).docs.map(G=>({id:G.id,...G.data()})).filter(G=>G.sport.toLowerCase()===n.sport.toLowerCase());r(J),J.length>0&&l(J[0])}catch(H){console.error("Error fetching courts:",H)}finally{p(!1)}})()},[n]);const I=T(n.sport),M=()=>{a||l(t[0]),w(!0)};return f?P.jsx("div",{className:"popup-overlay",children:P.jsx("div",{className:"popup-content venue-details-popup",children:P.jsxs("div",{className:"loading-state",children:[P.jsx("div",{className:"loading-spinner"}),P.jsx("p",{children:"Loading court details..."})]})})}):P.jsxs("div",{className:"popup-overlay",children:[P.jsxs("div",{className:"popup-content",children:[P.jsx("button",{className:"close-button",onClick:e,children:P.jsx(xb,{})}),P.jsxs("div",{className:"venue-details-header",children:[P.jsx("div",{className:"venue-icon",children:P.jsx(I,{})}),P.jsxs("div",{className:"venue-title-section",children:[P.jsx("h2",{children:n.title}),P.jsx("span",{className:"sport-badge",children:n.sport.charAt(0).toUpperCase()+n.sport.slice(1)})]})]}),P.jsxs("div",{className:"venue-details-body",children:[P.jsxs("div",{className:"amenities-section",children:[P.jsx("h3",{children:"Amenities"}),P.jsx("div",{className:"amenities",children:n.amenities.map((R,H)=>P.jsx("span",{className:"amenity-tag",children:R},H))})]}),t.length>0?P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"courts-section",children:[P.jsx("h3",{children:"Available Courts"}),P.jsx("div",{className:"courts-grid",children:t.map(R=>P.jsxs("button",{className:`court-button ${(a==null?void 0:a.id)===R.id?"selected":""}`,onClick:()=>l(R),children:["Court ",R.courtNumber]},R.id))})]}),a&&P.jsxs("div",{className:"court-details",children:[P.jsx("h3",{children:"Court Details"}),P.jsxs("div",{className:"court-info-grid",children:[P.jsxs("div",{className:"info-item",children:[P.jsx("span",{className:"label",children:"Court Type"}),P.jsx("span",{className:"value",children:a.courtType})]}),P.jsxs("div",{className:"info-item",children:[P.jsx("span",{className:"label",children:"Price per Hour"}),P.jsxs("span",{className:"value",children:["₹",a.pricePerHour]})]}),P.jsxs("div",{className:"info-item",children:[P.jsx("span",{className:"label",children:"Minimum Duration"}),P.jsxs("span",{className:"value",children:[a.minimumBookingDuration," minutes"]})]}),P.jsxs("div",{className:"info-item",children:[P.jsx("span",{className:"label",children:"Opening Time"}),P.jsx("span",{className:"value",children:a.openingTime})]}),P.jsxs("div",{className:"info-item",children:[P.jsx("span",{className:"label",children:"Closing Time"}),P.jsx("span",{className:"value",children:a.closingTime})]})]})]})]}):P.jsx("div",{className:"no-courts-message",children:P.jsx("p",{children:"No courts available for this venue."})}),P.jsxs("div",{className:"venue-footer",children:[P.jsxs("div",{className:"address-section",children:[P.jsx(Lm,{className:"map-icon"}),P.jsx("a",{href:n.addressLink,target:"_blank",rel:"noopener noreferrer",className:"address-link",children:n.address})]}),P.jsxs("button",{className:"book-now-btn",onClick:M,disabled:t.length===0,children:["Book Now",P.jsx(I0,{})]})]})]})]}),v&&a&&P.jsx(n9,{isOpen:v,onClose:()=>w(!1),court:a,venue:n})]})},i9=({selectedFilters:n=[],searchText:e=""})=>{const[t,r]=ke.useState([]),[a,l]=ke.useState(!0),[f,p]=ke.useState(null),v=R=>{switch(R.toLowerCase()){case"football":return Mm;case"basketball":return Om;case"tennis":return Yh;case"golf":return _b;case"cycling":return Ab;case"rugby":return bb;case"badminton":return Yh;case"cricket":return Dm;case"fitness":return vd;default:return vd}},w=R=>{console.log("Opening details for venue:",R),p(R)},T=async()=>{try{const R=localStorage.getItem("venuesData");if(R){const{lastFetched:G,data:te}=JSON.parse(R);if(!(Date.now()-G>5*60*1e3)){console.log("Using cached venues data:",te),r(te),l(!1);return}}const H=await Od(Gh(fl,"courts")),q={};for(const G of H.docs){const te=G.data();console.log("Processing court data:",te);const le=`${te.stadiumId}-${te.sport.toLowerCase()}`;if(q[le])q[le].prices.push(te.pricePerHour);else{const De=(await Z0(Lu(fl,"stadiums",te.stadiumId))).data();q[le]={id:G.id,stadiumId:te.stadiumId,title:De.name,sport:te.sport.toLowerCase(),amenities:[te.sport,...De.amenities],address:De.address,addressLink:De.addressLink,prices:[te.pricePerHour]}}}const J=Object.values(q).map(G=>{const te=G.prices[0],le=G.prices.length===1?`₹${te}/hr`:`₹${Math.min(...G.prices)} - ₹${Math.max(...G.prices)}/hr`;return{...G,price:le,courtCount:G.prices.length,isSingleCourt:G.prices.length===1}});console.log("Final venues data:",J),localStorage.setItem("venuesData",JSON.stringify({data:J,lastFetched:Date.now()})),r(J)}catch(R){console.error("Error fetching venues data:",R)}finally{l(!1)}};ke.useEffect(()=>{T()},[]);const I=t.filter(R=>{const H=n.length===0||n.some(J=>R.sport.toLowerCase()===J.toLowerCase()),q=e===""||R.title.toLowerCase().includes(e.toLowerCase())||R.sport.toLowerCase().includes(e.toLowerCase());return H&&q});console.log("Filtered venues:",I),console.log("Selected filters:",n);const M=()=>{p(null)};return a?P.jsx("div",{className:"venues-list",children:P.jsxs("div",{className:"loading-state",children:[P.jsx("div",{className:"loading-spinner"}),P.jsx("p",{children:"Loading venues..."})]})}):I.length===0?P.jsx("div",{className:"venues-list",children:P.jsx("div",{className:"no-results",children:P.jsx("p",{children:"No venues found matching your criteria."})})}):P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"venues-list",children:I.map(R=>{const H=v(R.sport);return P.jsxs("div",{className:"venue-card",children:[P.jsxs("div",{className:"venue-image",children:[P.jsx("img",{src:"/placeholder.svg?height=300&width=400",alt:R.title}),P.jsx("div",{className:"venue-overlay",children:P.jsx("span",{className:"sport-badge",children:R.sport.charAt(0).toUpperCase()+R.sport.slice(1)})})]}),P.jsxs("div",{className:"venue-details",children:[P.jsxs("div",{className:"venue-header",children:[P.jsx("div",{className:"venue-icon",children:P.jsx(H,{})}),P.jsxs("div",{className:"venue-title-section",children:[P.jsx("h3",{children:R.title}),P.jsxs("span",{className:"court-count",children:[R.courtCount," ",R.sport.charAt(0).toUpperCase()+R.sport.slice(1)," ",R.courtCount>1?"Courts":"Court"]})]})]}),P.jsx("div",{className:"amenities",children:R.amenities.map((q,J)=>P.jsx("span",{className:"amenity-tag",children:q},J))}),P.jsxs("div",{className:"venue-footer",children:[P.jsxs("div",{className:"price-section",children:[P.jsx(vb,{className:"price-icon"}),P.jsx("span",{className:"price-label",children:R.isSingleCourt?"Price:":"Price Range:"}),P.jsx("span",{className:"price",children:R.price})]}),P.jsxs("div",{className:"address-section",children:[P.jsx(Lm,{className:"map-icon"}),P.jsx("a",{href:R.addressLink,target:"_blank",rel:"noopener noreferrer",className:"address-link",children:R.address})]}),P.jsxs("button",{onClick:()=>w(R),className:"view-details-btn",children:["View Details",P.jsx(I0,{})]})]})]})]},R.id)})}),f&&P.jsx(r9,{venue:f,onClose:M})]})},s9=()=>{const n=$l(),[e,t]=ke.useState([]),[r,a]=ke.useState(!1),[l,f]=ke.useState(""),[p,v]=ke.useState([]),w=ke.useRef(null);ke.useEffect(()=>{const M=R=>{w.current&&!w.current.contains(R.target)&&a(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]),ke.useEffect(()=>{var R;const M=localStorage.getItem("venuesData");if(M){const{data:H}=JSON.parse(M),q=[...new Set(H.map(J=>J.sport.toLowerCase()))];v(q),console.log("Available sports:",q)}if((R=n.state)!=null&&R.selectedSport){const H=n.state.selectedSport.toLowerCase();console.log("Selected sport from home:",H),t([H])}},[n.state]);const T=M=>{t(R=>R.includes(M)?R.filter(H=>H!==M):[...R,M])},I=M=>{f(M.target.value)};return P.jsxs("div",{className:"venue-listing-page",children:[P.jsx("div",{className:"venue-hero",children:P.jsx("h1",{children:P.jsx("span",{className:"typing-text",children:"Let's get the best venue for you!"})})}),P.jsxs("div",{className:"search-filter-container",children:[P.jsxs("div",{className:"search-section",children:[P.jsx("input",{type:"text",placeholder:"Search venues...",className:"search-input",value:l,onChange:I}),P.jsx("button",{className:"search-button",children:"Search"})]}),P.jsxs("div",{className:"filter-dropdown",ref:w,children:[P.jsxs("button",{className:"filter-button",onClick:()=>a(!r),children:[P.jsx(WR,{}),e.length>0&&P.jsx("span",{className:"filter-count",children:e.length})]}),r&&P.jsx("div",{className:"filter-options",children:p.map(M=>P.jsxs("label",{className:"filter-checkbox",children:[P.jsx("input",{type:"checkbox",checked:e.includes(M.toLowerCase()),onChange:()=>T(M.toLowerCase())}),M.charAt(0).toUpperCase()+M.slice(1)]},M))})]})]}),P.jsx(i9,{selectedFilters:e,searchText:l}),P.jsx(Eb,{})]})},a9=[{id:1,name:"John Smith",sports:["Cricket","Baseball"],stadium:"Sports Complex Alpha",experience:"10 years",timings:"6:00 AM - 8:00 PM",specialization:"Performance Training",image:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?ixlib=rb-4.0.3",rating:4.8,price:"₹1000/session"},{id:2,name:"Sarah Johnson",sports:["Tennis","Badminton"],stadium:"Elite Sports Center",experience:"8 years",timings:"7:00 AM - 9:00 PM",specialization:"Youth Training",image:"https://images.unsplash.com/photo-1574680096145-d05b474e2155?ixlib=rb-4.0.3",rating:4.9,price:"₹1200/session"},{id:3,name:"Mike Wilson",sports:["Football","Athletics"],stadium:"Victory Arena",experience:"12 years",timings:"5:00 AM - 7:00 PM",specialization:"Strength & Conditioning",image:"https://images.unsplash.com/photo-1546483875-ad9014c88eba?ixlib=rb-4.0.3",rating:4.7,price:"₹1500/session"}],o9=()=>P.jsxs("div",{className:"trainers-page",children:[P.jsxs("div",{className:"trainers-header",children:[P.jsx("h1",{children:"Expert Trainers"}),P.jsx("p",{children:"Find the perfect trainer to help you achieve your fitness goals"})]}),P.jsx("div",{className:"trainers-grid",children:a9.map(n=>P.jsxs("div",{className:"trainer-card",children:[P.jsxs("div",{className:"trainer-image",children:[P.jsx("img",{src:n.image,alt:n.name}),P.jsxs("div",{className:"trainer-rating",children:[P.jsx("span",{children:"★"})," ",n.rating]})]}),P.jsxs("div",{className:"trainer-info",children:[P.jsx("h2",{children:n.name}),P.jsx("div",{className:"trainer-sports",children:n.sports.map((e,t)=>P.jsx("span",{className:"sport-tag",children:e},t))}),P.jsxs("div",{className:"trainer-details",children:[P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Stadium:"})," ",n.stadium]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Experience:"})," ",n.experience]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Timings:"})," ",n.timings]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Specialization:"})," ",n.specialization]}),P.jsxs("div",{className:"detail-item price",children:[P.jsx("strong",{children:"Price:"})," ",n.price]})]}),P.jsx("button",{className:"book-trainer-btn",children:"Book Session"})]})]},n.id))})]}),l9=[{id:1,name:"Dr. Emily Parker",type:"Sports Physiotherapist",specialization:["Joint Rehabilitation","Post-Surgery Recovery"],experience:"15 years",clinic:"HealthCare Plus",timings:"9:00 AM - 5:00 PM",image:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3",rating:4.9,price:"₹1500/session"},{id:2,name:"Dr. James Wilson",type:"Sports Nutritionist",specialization:["Performance Nutrition","Weight Management"],experience:"12 years",clinic:"Elite Wellness Center",timings:"10:00 AM - 6:00 PM",image:"https://images.unsplash.com/photo-1622253692010-333f2da6031d?ixlib=rb-4.0.3",rating:4.8,price:"₹1200/session"},{id:3,name:"Dr. Sarah Thompson",type:"Sports Physician",specialization:["Injury Prevention","Performance Enhancement"],experience:"18 years",clinic:"Sports Medicine Institute",timings:"8:00 AM - 4:00 PM",image:"https://images.unsplash.com/photo-1594824476967-48c8b964273f?ixlib=rb-4.0.3",rating:5,price:"₹2000/session"}],c9=()=>P.jsxs("div",{className:"rehab-page",children:[P.jsxs("div",{className:"rehab-header",children:[P.jsx("h1",{children:"Sports Rehabilitation Specialists"}),P.jsx("p",{children:"Expert care for your recovery and performance enhancement"})]}),P.jsx("div",{className:"specialists-grid",children:l9.map(n=>P.jsxs("div",{className:"specialist-card",children:[P.jsxs("div",{className:"specialist-image",children:[P.jsx("img",{src:n.image,alt:n.name}),P.jsxs("div",{className:"specialist-rating",children:[P.jsx("span",{children:"★"})," ",n.rating]}),P.jsx("div",{className:"specialist-type",children:n.type})]}),P.jsxs("div",{className:"specialist-info",children:[P.jsx("h2",{children:n.name}),P.jsx("div",{className:"specialization-tags",children:n.specialization.map((e,t)=>P.jsx("span",{className:"spec-tag",children:e},t))}),P.jsxs("div",{className:"specialist-details",children:[P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Clinic:"})," ",n.clinic]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Experience:"})," ",n.experience]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("strong",{children:"Timings:"})," ",n.timings]}),P.jsxs("div",{className:"detail-item price",children:[P.jsx("strong",{children:"Consultation Fee:"})," ",n.price]})]}),P.jsx("button",{className:"book-specialist-btn",children:"Book Consultation"})]})]},n.id))})]});function u9(){const n=async()=>{try{const r=JSON.parse(localStorage.getItem("userData"));if(!r||!r.uid)return;const a=K0(Gh(fl,"users"),md("uid","==",r.uid)),f=(await Od(a)).docs.map(p=>({name:p.data().name,age:p.data().age}));console.log("All Users:",f)}catch(r){console.error("Error fetching user data:",r)}};ke.useEffect(()=>{n()},[]);const[e,t]=ke.useState(!0);return ke.useEffect(()=>{const r=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(r)},[]),e?P.jsx("div",{className:"loading-screen",children:P.jsxs("div",{className:"logo-container",children:[P.jsx("h1",{className:"logo-text",children:"SPORTZ"}),P.jsx("div",{className:"loading-spinner"})]})}):P.jsx(J_,{basename:"/",children:P.jsxs("div",{className:"App",children:[P.jsx(K7,{}),P.jsx(X7,{}),P.jsxs(I_,{children:[P.jsx(Wf,{path:"/",element:P.jsx(t9,{})}),P.jsx(Wf,{path:"/venues",element:P.jsx(s9,{})}),P.jsx(Wf,{path:"/trainers",element:P.jsx(o9,{})}),P.jsx(Wf,{path:"/rehabilitation",element:P.jsx(c9,{})})]})]})})}FA.createRoot(document.getElementById("root")).render(P.jsx(Uc.StrictMode,{children:P.jsx(u9,{})}));export{Ur as _,T1 as c,Tp as g};
